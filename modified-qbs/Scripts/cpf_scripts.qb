
#00001  AirportGoalParams = STRUCT{
          Goal_Start_Script = CPF_AP_GoalStartScript
          Goal_Complete_Start_Script = CPF_AP_GoalCompleteStartScript
          NetPlayScript = NullScript
          CareerPlayScript = NullScript
          CameraStart = "Cam_Goals"
          CameraTape = "Cam_Goal_04"
          CameraTrickspotVert = "Cam_Goal_05vert"
          CameraTrickspotVertComplete = "Cam_Goal_Complete_05vert"
          CameraTrickspotStreet = "Cam_Goal_05street"
          CameraTrickspotStreetComplete = "Cam_Goal_Complete_05street"
          CameraScripted1 = "Cam_Goal_06"
          CameraScripted1Complete = "Cam_Goal_Complete_06"
          CameraScripted2 = "Cam_Goal_07"
          CameraScripted2Complete = "Cam_Goal_Complete_07"
          CameraScripted3 = "Cam_Goal_08"
          CameraScripted3Complete = "Cam_Goal_08"
          Goal_HighScore_Text = "Get a HIGH SCORE:| 90,000 Points"
          Goal_ProScore_Text = "Get a PRO SCORE:| 180,000 Points"
          Goal_SickScore_Text = "Get a SICK SCORE:| 400,000 Points"
          Goal_SKATE_Text = "Collect S-K-A-T-E"
          Goal_Tape_Text = "Get the Secret Tape"
          Goal_TrickspotStreet_Text = "{{rando_cpf_airport_trickspot_street_text}} |Around the Baggage Claim"
          Goal_TrickspotVert_Text = "{{rando_cpf_airport_trickspot_vert_text}}| Over an Escalator"
          Goal_Scripted1_Text = "Get the tickets to| your Skate Buddy"
          Goal_Scripted2_Text = "Stop the |pickpockets"
          Goal_Scripted3_Text = "Visit 10 countries"
          Goal_Trickspot_VertAnimName = Airwalk
          Goal_Trickspot_VertAnimFrame1 = 13
          Goal_Trickspot_VertAnimFrame2 = 22
          Goal_Trickspot_VertAnimFrame3 = 33
          Goal_Trickspot_StreetAnimName = FSCROOKED_RANGE
          Goal_Trickspot_StreetAnimFrame1 = 16
          Goal_Trickspot_StreetAnimFrame2 = 67
          Goal_Trickspot_StreetAnimFrame3 = 50
          Goal_Scripted1_Start_Script = CPF_AP_Scripted1Start
          Goal_Scripted1_End_Script = CPF_AP_Scripted1End
          Goal_Scripted1_Complete_Start_Script = CPF_AP_Scripted1CompleteStart
          Goal_Scripted1_Complete_End_Script = CPF_AP_Scripted1CompleteEnd
          Goal_Scripted2_Start_Script = CPF_AP_Scripted2Start
          Goal_Scripted2_Complete_Start_Script = CPF_AP_Scripted2CompleteStart
          Goal_Scripted3_Start_Script = NullScript
          Goal_End_Script = CPF_AP_GoalEndScript
          Goal_Complete_End_Script = NullScript
          }

#00054  FUNCTION CPF_AP_Scripted1Start
#00056    Create name = TRG_Ped_Family03

#00057    Create name = TRG_Ped_Family05

#00058    Create name = Tickets

#00059    StopStream
#00060    PlayStream RANDOM[3][13; 24; 35]

#00061    AP_FamIntro01
#00062    JUMP 0x19000000 AP_FamIntro02
#00063    JUMP 0x0a000000 AP_FamIntro03
#00064
#00065  END FUNCTION

#00066  FUNCTION CPF_AP_Scripted1End
#00068    Kill name = TRG_Ped_Family03

#00069    Kill name = TRG_Ped_Family05

#00070    Kill name = Tickets

#00071  END FUNCTION

#00072  FUNCTION CPF_AP_Scripted1CompleteStart
#00074    StopStream
#00075    PlayStream AP_FamOutro
#00076  END FUNCTION

#00077  FUNCTION CPF_AP_Scripted1CompleteEnd
#00079    StopStream
#00080    PlayStream AP_jetrev
#00081  END FUNCTION

#00082  FUNCTION CPF_AP_Scripted2Start
#00084    Kill prefix = "EO_Chopper"

#00085    Kill prefix = "TRG_Ped_CutsceneTerrorist"

#00086    Create prefix = "TRG_Ped_CutsceneTerrorist"

#00087    Create name = EO_Chopper01

#00088    Create name = EO_Chopper01a

#00089    Create name = EO_Chopper01b

#00090    Create name = EO_Chopper03

#00091    Create name = GO_Chopper02

#00092    Create name = GO_Chopper02a

#00093    StopStream
#00094    PlaySound terror_theme Vol = 100

#00095    PlayStream Helioff
#00096    Wait 1 second
#00097    PlayStream RANDOM[3][13; 24; 35]

#00098    AP_TerIntro02
#00100    JUMP 0x19000000 AP_TerIntro03
#00101    JUMP 0x0a000000 AP_TerIntro04
#00102
#00103  END FUNCTION

#00104  FUNCTION CPF_AP_Scripted2CompleteStart
#00106    Kill prefix = "TRG_Ped_Terrorist"

#00107    Create prefix = "TRG_Ped_Cutscene2Terrorist"

#00108    StopStream
#00109    PlayStream AP_TerOutro01
#00110  END FUNCTION

#00111  FUNCTION CPF_AP_CreateAll
#00113    Create prefix = "StartArea"

#00114    Create prefix = "StartMidArea"

#00115    Create prefix = "StartMidReflec"

#00116    Create prefix = "LowArea"

#00117    Create prefix = "MidArea"

#00118    Create prefix = "MidReflec"

#00119    Create prefix = "MidEndArea"

#00120    Create prefix = "EndCorner"

#00121    Create prefix = "EndArea"

#00122    IF GetGoal goal = GOAL_SCRIPTED2

#00123      Create name = ScrollSign_Done

#00124    ELSE
#00125      Create name = ScrollSign_Start

#00126    END IF
#00127    IF InMultiplayerGame
#00128      Kill prefix = "TRGP_EndArea_Flag_"

#00129    END IF
#00130    InVisible prefix = "Windowshine"

#00131  END FUNCTION

#00132  FUNCTION CPF_AP_GoalStartScript
#00134    CPF_AP_CreateAll
#00135    Visible prefix = "StartArea"

#00136    Visible prefix = "StartMidArea"

#00137    Visible prefix = "StartMidReflec"

#00138    Visible prefix = "LowArea"

#00139    Visible prefix = "MidArea"

#00140    Visible prefix = "MidReflec"

#00141    Visible prefix = "MidEndArea"

#00142    Visible prefix = "EndCorner"

#00143    Visible prefix = "EndArea"

#00144    Kill prefix = "TRG_Ped_CutsceneTerrorist"

#00145    Create name = RANDOM[3][8; 14; 20]

          TRG_Plane_Jet JUMP 0x0f000000 TRG_Plane_Small JUMP 0x05000000 TRG_Plane_Small01
#00146    IF GetGoal goal = GOAL_SCRIPTED2

#00152    ELSE
#00153      Create prefix = "GO_Intro_Chopper"

#00154    END IF
#00155  END FUNCTION

#00156  FUNCTION CPF_AP_GoalCompleteStartScript
#00158    CPF_AP_CreateAll
#00159    Visible prefix = "StartArea"

#00160    Visible prefix = "StartMidArea"

#00161    Visible prefix = "StartMidReflec"

#00162    Visible prefix = "LowArea"

#00163    Visible prefix = "MidArea"

#00164    Visible prefix = "MidReflec"

#00165    Visible prefix = "MidEndArea"

#00166    Visible prefix = "EndCorner"

#00167    Visible prefix = "EndArea"

#00168  END FUNCTION

#00169  FUNCTION CPF_AP_GoalEndScript
#00171    IF GetGoal goal = GOAL_SCRIPTED2

#00176    ELSE
#00177      Kill prefix = "TRG_Ped_CutsceneTerrorist"

#00178      Kill name = EO_Chopper01

#00179      Kill name = EO_Chopper01a

#00180      Kill name = EO_Chopper01b

#00181      Kill name = EO_Chopper03

#00182      Kill name = GO_Chopper02

#00183      Kill name = GO_Chopper02a

#00184    END IF
#00185  END FUNCTION

#00186  LosAngelesGoalParams = STRUCT{
          Goal_Start_Script = CPF_LA_GoalStartScript
          Goal_Complete_Start_Script = CPF_LA_GoalCompleteStartScript
          NetPlayScript = NullScript
          CareerPlayScript = NullScript
          CameraStart = "Cam_Goals"
          CameraTape = "Cam_Goal_04"
          CameraTrickspotVert = "Cam_Goal_05vert"
          CameraTrickspotVertComplete = "Cam_Goal_Complete_05vert"
          CameraTrickspotStreet = "Cam_Goal_05street"
          CameraTrickspotStreetComplete = "Cam_Goal_Complete_05street"
          CameraScripted1 = "Cam_Goal_06"
          CameraScripted1Complete = "Cam_Goal_Complete_06"
          CameraScripted2 = "Cam_Goal_07"
          CameraScripted2Complete = "Cam_Thieves2"
          CameraScripted3 = "Cam_Goal_08"
          Goal_HighScore_Text = "Get a HIGH SCORE:| 125,000 Points"
          Goal_ProScore_Text = "Get a PRO SCORE:| 250,000 Points"
          Goal_SickScore_Text = "Get a SICK SCORE:| 500,000 Points"
          Goal_SKATE_Text = "Collect S-K-A-T-E"
          Goal_Tape_Text = "Get the Secret Tape"
          Goal_TrickspotStreet_Text = "{{rando_cpf_la_trickspot_street_text}}| the Tower Rails Gap"
          Goal_TrickspotVert_Text = "{{rando_cpf_la_trickspot_vert_text}}| the Tower Poppin' Transfer"
          Goal_Scripted1_Text = "Start the Earthquake"
          Goal_Scripted2_Text = "Block the Car Chase"
          Goal_Scripted3_Text = "Free Ballin'"
          Goal_Trickspot_VertAnimName = OneFootJapan
          Goal_Trickspot_VertAnimFrame1 = 22
          Goal_Trickspot_VertAnimFrame2 = 33
          Goal_Trickspot_VertAnimFrame3 = 44
          Goal_Trickspot_StreetAnimName = VarialKickflip
          Goal_Trickspot_StreetAnimFrame1 = 3
          Goal_Trickspot_StreetAnimFrame2 = 13
          Goal_Trickspot_StreetAnimFrame3 = 23
          Goal_Scripted1_Start_Script = CPF_LA_Scripted1Start
          Goal_Scripted1_End_Script = CPF_LA_Scripted1End
          Goal_Scripted1_Complete_Start_Script = CPF_LA_Scripted1CompleteStart
          Goal_Scripted1_Complete_End_Script = CPF_LA_Scripted1CompleteEnd
          Goal_Scripted2_Start_Script = CPF_LA_Scripted2Start
          Goal_Scripted2_Complete_Start_Script = CPF_StopThieves2
          Goal_End_Script = CPF_LA_GoalEndScript
          Goal_Complete_End_Script = CPF_LA_GoalEndScript
          }

#00234  FUNCTION CPF_LA_Scripted1Start
#00236  END FUNCTION

#00237  FUNCTION CPF_LA_Scripted1End
#00239  END FUNCTION

#00240  FUNCTION CPF_LA_Scripted1CompleteStart
#00242  END FUNCTION

#00243  FUNCTION CPF_LA_Scripted1CompleteEnd
#00245  END FUNCTION

#00246  FUNCTION CPF_LA_Scripted2Start
#00248    Kill prefix = "TRG_Looter_Car"

#00249    Kill prefix = "TRG_Police_Car"

#00250    Create name = TRG_Looter_Car

#00251    Create name = TRG_Police_Car01

#00252    Create name = TRG_Police_Car02

#00253    PlaySound la_gunshots2 Vol = 150
          pitch = 95

#00254    Wait 5 frames
#00255    PlaySound la_auto_peelout Vol = 200

#00257    PlaySound la_gunshots2 Vol = 120
          pitch = 120

#00259    PlaySound RANDOM[2][4; 10]
          ambulance2nl JUMP 0x05000000 ambulance3nl Vol = 50

#00260  END FUNCTION

#00261  FUNCTION CPF_LA_Scripted2CompleteStart
#00263  END FUNCTION

#00264  FUNCTION CPF_LA_GoalStartScript
#00266    IF IsCareerMode
#00267      IF GetGoal goal = GOAL_SCRIPTED1

#00268        CPF_LA_StartWithQuakeDamage
#00269      END IF
#00270    END IF
#00271  END FUNCTION

#00272  FUNCTION CPF_LA_GoalCompleteStartScript
#00274    IF GetGoal goal = GOAL_SCRIPTED1

#00275      KillSpawnedScript id = quakescript

#00276      CPF_LA_StartWithQuakeDamage
#00277    END IF
#00278  END FUNCTION

#00279  FUNCTION CPF_LA_GoalEndScript
#00281    Kill prefix = "TRG_CarOverpass"

#00282  END FUNCTION

#00285  FUNCTION CPF_AP_LoadingScript
#00291    SetUpSkaterDefaults
#00293    CreateSkateLines
#00296    CreateDeckIcon
#00298    CreateSecretTape
#00300    CreateTrickPoints
#00302    IF IsCareerMode
#00303      IF GetGoal goal = GOAL_SCRIPTED1

#00304      ELSE
#00305        Create name = TRG_GO_GotTicket

#00306        Create name = Tickets

#00307      END IF
#00308      IF GetGoal goal = GOAL_SCRIPTED2

#00309      ELSE
#00310        IF QueryFlag AP_TERRORIST_01 name = TRG_GO_TerroristCounter

#00311        ELSE
#00312          Create name = TRG_Ped_Terrorist01

#00313        END IF
#00314        IF QueryFlag AP_TERRORIST_05 name = TRG_GO_TerroristCounter

#00315        ELSE
#00316          Create name = TRG_Ped_Terrorist05

#00317        END IF
#00318      END IF
#00319      Kill prefix = "TRG_Ped_CutsceneTerrorist"

#00320    END IF
#00321    IF InMultiplayerGame
#00322      Kill prefix = "TRGP_EndArea_Flag_"

#00323    ELSE
#00324      Create prefix = "TRG_Ped_StartArea_"

#00325      Create prefix = "TRG_Ped_StartMid"

#00326      Create name = EO_Chopper01

#00327      Create name = EO_Chopper01a

#00328      Create name = EO_Chopper01b

#00329      Create name = EO_Chopper03

#00330      Create name = EO_Chopper02

#00331      Create name = EO_Chopper02a

#00332      Create name = EO_Chopper04

#00333      Create prefix = "TRG_RailChopper"

#00334    END IF
#00335    KillSpawnedScript id = AP_Sounds

#00337    Wait 1 frame
#00338    SpawnScript CPF_AP_Sounds id = AP_Sounds

#00339  END FUNCTION

#00340  FUNCTION CPF_AP_BeginAt_StartArea
#00342    CPF_AP_CreateAll
#00344    Visible prefix = "StartArea"

#00345    Visible prefix = "StartMidArea"

#00346    Visible prefix = "StartMidReflec"

#00347    InVisible prefix = "LowArea"

#00348    Visible prefix = "MidArea"

#00349    InVisible prefix = "MidReflec"

#00350    InVisible prefix = "MidEndArea"

#00351    InVisible prefix = "EndCorner"

#00352    InVisible prefix = "EndArea"

#00353  END FUNCTION

#00354  FUNCTION CPF_AP_BeginAt_StartMidArea
#00356    CPF_AP_CreateAll
#00358    Visible prefix = "StartArea"

#00359    Visible prefix = "StartMidArea"

#00360    Visible prefix = "StartMidReflec"

#00361    Visible prefix = "LowArea"

#00362    Visible prefix = "MidArea"

#00363    Visible prefix = "MidReflec"

#00364    Visible prefix = "MidEndArea"

#00365    Visible prefix = "EndCorner"

#00366    InVisible prefix = "EndArea"

#00367  END FUNCTION

#00368  FUNCTION CPF_AP_BeginAt_LowArea
#00370    CPF_AP_CreateAll
#00372    InVisible prefix = "StartArea"

#00373    Visible prefix = "StartMidArea"

#00374    InVisible prefix = "StartMidReflec"

#00375    Visible prefix = "LowArea"

#00376    Visible prefix = "MidArea"

#00377    Visible prefix = "MidReflec"

#00378    Visible prefix = "MidEndArea"

#00379    Visible prefix = "EndCorner"

#00380    InVisible prefix = "EndArea"

#00381  END FUNCTION

#00382  FUNCTION CPF_AP_BeginAt_MidArea
#00384    CPF_AP_CreateAll
#00386    InVisible prefix = "StartArea"

#00387    Visible prefix = "StartMidArea"

#00388    Visible prefix = "StartMidReflec"

#00389    Visible prefix = "LowArea"

#00390    Visible prefix = "MidArea"

#00391    Visible prefix = "MidReflec"

#00392    Visible prefix = "MidEndArea"

#00393    Visible prefix = "EndCorner"

#00394    InVisible prefix = "EndArea"

#00395  END FUNCTION

#00396  FUNCTION CPF_AP_BeginAt_MidEndArea
#00398    CPF_AP_CreateAll
#00400    InVisible prefix = "StartArea"

#00401    Visible prefix = "StartMidArea"

#00402    InVisible prefix = "StartMidReflec"

#00403    Visible prefix = "LowArea"

#00404    Visible prefix = "MidArea"

#00405    Visible prefix = "MidReflec"

#00406    Visible prefix = "MidEndArea"

#00407    Visible prefix = "EndCorner"

#00408    Visible prefix = "EndArea"

#00409  END FUNCTION

#00410  FUNCTION CPF_AP_BeginAt_EndArea
#00412    CPF_AP_CreateAll
#00414    InVisible prefix = "StartArea"

#00415    InVisible prefix = "StartMidArea"

#00416    InVisible prefix = "StartMidReflec"

#00417    InVisible prefix = "LowArea"

#00418    InVisible prefix = "MidArea"

#00419    InVisible prefix = "MidReflec"

#00420    Visible prefix = "MidEndArea"

#00421    Visible prefix = "EndCorner"

#00422    Visible prefix = "EndArea"

#00423  END FUNCTION

#00424  FUNCTION CPF_AP_BeginAt_ShowAll
#00426    CPF_AP_CreateAll
#00428    Visible prefix = "StartArea"

#00429    Visible prefix = "StartMidArea"

#00430    Visible prefix = "StartMidReflec"

#00431    Visible prefix = "LowArea"

#00432    Visible prefix = "MidArea"

#00433    Visible prefix = "MidReflec"

#00434    Visible prefix = "MidEndArea"

#00435    Visible prefix = "EndCorner"

#00436    Visible prefix = "EndArea"

#00437  END FUNCTION

#00438  FUNCTION CPF_LA_LoadingScript
#00440    KillSpawnedScript id = quakescript

#00443    SetParticleSysVisibility system = "Qke_Particle02"
          Visible = 0

#00444    SetParticleSysVisibility system = "Qke_Particle03"
          Visible = 0

#00445    SetParticleSysVisibility system = "Qke_Particle04"
          Visible = 0

#00446    SetParticleSysVisibility system = "Qke_Particle05"
          Visible = 0

#00447    SetParticleSysVisibility system = "Qke_Particle06"
          Visible = 0

#00448    SetParticleSysVisibility system = "Qke_Particle07"
          Visible = 0

#00449    SetParticleSysVisibility system = "Qke_Particle08"
          Visible = 0

#00450    SetParticleSysVisibility system = "Qke_Particle09"
          Visible = 0

#00451    SetParticleSysVisibility system = "Qke_Particle10"
          Visible = 0

#00452    SetParticleSysVisibility system = "Qke_Particle11"
          Visible = 0

#00453    SetParticleSysVisibility system = "Qke_Particle12"
          Visible = 0

#00454    SetParticleSysVisibility system = "Qke_Particle13"
          Visible = 0

#00455    SetParticleSysVisibility system = "Qke_Particle14"
          Visible = 0

#00456    SetParticleSysVisibility system = "Qke_Particle15"
          Visible = 0

#00457    SetParticleSysVisibility system = "Qke_Particle16"
          Visible = 0

#00458    SetParticleSysVisibility system = "Qke_Particle17"
          Visible = 0

#00459    StopStream
#00460    SetUpSkaterDefaults
#00461    CreateSkateLines
#00464    CreateDeckIcon
#00466    CreateSecretTape
#00468    CreateTrickPoints
#00470    SetParticleSysVisibility system = "Qke_Particle01"
          Visible = 0

#00471    SetParticleSysVisibility system = "NExtParticle_Puke"
          Visible = 0

#00472    UnPauseSkaters
#00473    Kill name = TRG_Looter_Car

#00474    Kill name = TRG_Police_Car01

#00475    Kill name = TRG_Police_Car02

#00476    IF GotParam DropIn
#00477      MakeSkaterGoto DropIn
#00478    END IF
#00479    IF IsCareerMode
#00481      IF GetGoal goal = GOAL_SCRIPTED1

#00482        CPF_LA_StartWithQuakeDamage
#00483      END IF
#00484      IF GetGoal goal = GOAL_SCRIPTED2

#00486        Kill name = TRG_Rail_KenCar

#00487        Kill name = TRGP_CarFall_E

#00488        Kill name = TRGP_CarFall_W

#00489        Kill name = FallingSign

#00490        Kill name = Overpass_Car_Rocking

#00491      ELSE
#00492        Create name = TRG_Looter_Car

#00493        Create name = TRG_Police_Car01

#00494        Create name = TRG_Police_Car02

#00495      END IF
#00496    ELSE
#00497      IF InMultiplayerGame
#00498        Kill name = TRG_Car_Stop3_01

#00499        Create name = TRG_Car_Stop3_03

#00500      ELSE
#00501        IF GetFlag flag = LA_QUAKE_DONE

#00502          CPF_LA_StartWithQuakeDamage
#00504        END IF
#00505      END IF
#00506    END IF
#00507    IF InMultiplayerGame
#00508    ELSE
#00525      Create prefix = "Tall_Cone"

#00526      Create prefix = "TRGP_GarbageCreator"

#00527    END IF
#00528  END FUNCTION

#00529  FUNCTION CPF_LA_StartWithQuakeDamage
#00531    Kill name = TRGP_NorthTremor_E

#00532    Kill name = TRGP_NorthTremor_W

#00533    Kill name = TRGP_SouthTremor_E

#00534    Kill name = TRGP_SouthTremor_W

#00535    Kill name = TRGP_EastTremor_N

#00536    Kill name = TRGP_EastTremor_S

#00537    Kill name = TRGP_WestTremor_N

#00538    Kill name = TRGP_WestTremor_S

#00539    Create name = TRG_SignGetToRail

#00540    Create name = TRGP_NorthTremor_E01

#00541    Create name = TRGP_NorthTremor_W01

#00542    Create name = TRGP_SouthTremor_E01

#00543    Create name = TRGP_SouthTremor_W01

#00544    Create name = TRGP_EastTremor_N01

#00545    Create name = TRGP_EastTremor_S01

#00546    Create name = TRGP_WestTremor_N01

#00547    Create name = TRGP_WestTremor_S01

#00548    Kill prefix = "TRG_RailGoodOverpass"

#00549    Kill prefix = "TRG_CarOverpass"

#00550    Kill prefix = "TRGP_Over_Car"

#00551    Kill name = Overpass_Car_Rocking

#00552    Kill prefix = "TRGP_Overpass_Killer"

#00553    Kill prefix = "Overpass_Good"

#00554    Kill prefix = "carwash_good_"

#00555    Create prefix = "carwash_destroyed_"

#00556    Create prefix = "Rubble01_"

#00557    Create prefix = "Rubble02_"

#00558    Create prefix = "Overpass_Destroyed"

#00559    Create prefix = "TRG_Rail_Overpass"

#00560    IF IsCareerMode
#00561      Create name = Overpass_Car_Rocking

#00562      Create name = TRG_Rail_KenCar

#00563      Create name = TRGP_CarFall_E

#00564      Create name = TRGP_CarFall_W

#00565      IF GetGoal goal = GOAL_SCRIPTED2

#00566        Kill prefix = "Overpass_Car_Rock"

#00567      END IF
#00568    END IF
#00569  END FUNCTION

#00570  FUNCTION CPF_LA_StartScript
#00572    IF InMultiplayerGame
#00573    ELSE
#00590      Create prefix = "Tall_Cone"

#00591      Create prefix = "TRGP_GarbageCreator"

#00592    END IF
#00593  END FUNCTION

#00594  FUNCTION CPF_LA_OverpassLoadingScript
#00596    IF Obj_FlagSet GOAL_6_COMPLETE
#00597    ELSE
#00598      Kill prefix = "TRG_CarOverpass"

#00599      Create prefix = "TRG_CarOverpass"

#00600    END IF
#00601  END FUNCTION

#00602  FUNCTION Ap_Startup
#00604    LoadStreamHeader "streams\ap\streams"
#00605    LoadSound "shared\gapsound" Vol = 100
          dropoff = 0

#00606    LoadSound "shared\goaldone" Vol = 100
          dropoff = 0

#00607    LoadSound "shared\glasspane2x" Vol = 100
          dropoff = 100

#00608    LoadSound "shared\flush2" Vol = 100
          dropoff = 0

#00609    LoadSound "ap\ap_scanner" Vol = 100
          dropoff = 0

#00610    LoadSound "ap\ap_dryer" Vol = 100
          dropoff = 0
          posupdate
#00611    LoadSound "ap\helicopter15" Vol = 100
          dropoff = 500
          posupdatewithdoppler
#00612    LoadSound "ap\ap_escalator" Vol = 100
          dropoff = 200
          posupdate
#00613    LoadSound "ap\ap_sink" Vol = 100
          dropoff = 200
          posupdate
#00614    LoadSound "ap\ap_ripflag" Vol = 100
          dropoff = 200
          posupdatewithdoppler
#00615    LoadSound "ap\ap_phone" Vol = 300
          dropoff = 200

#00616    LoadSound "shared\CPFsecur" Vol = 100
          dropoff = 0

#00617    LoadSound "shared\CPFheli" Vol = 100
          dropoff = 0

#00618    LoadSound "shared\CPFjet" Vol = 100
          dropoff = 0

#00619    LoadSound "la\la_gunshots2" Vol = 100
          dropoff = 100

#00620    LoadSound "la\la_carwash_brushes1" Vol = 100
          dropoff = 100
          posupdate
#00621    LoadSound "ap\terror_theme" Vol = 100
          dropoff = 100

#00622    LoadSound "shared\carhorn" Vol = 100
          dropoff = 150

#00623    LoadSound "ap\ap_baggage" Vol = 400
          dropoff = 75
          posupdate
#00624    LoadSound "ap\ap_prop" Vol = 600
          dropoff = 700
          posupdatewithdoppler
#00625    LoadSound "ap\ap_jetidle" Vol = 100
          dropoff = 600
          posupdatewithdoppler
#00626    LoadSound "ap\ap_jetland" Vol = 500
          dropoff = 350

#00627    LoadSound "ap\ap_beep" posupdatewithdoppler
#00628    LoadSound "ap\ap_phone2"
#00629  END FUNCTION

#00659  FUNCTION La_Startup
#00661    LoadStreamHeader "streams\la\streams"
#00662    LoadSound "shared\gapsound" Vol = 100
          dropoff = 0

#00663    LoadSound "shared\goaldone" Vol = 100
          dropoff = 0

#00664    LoadSound "shared\ambulance2nl" Vol = 50
          dropoff = 100
          posupdatewithdoppler
#00665    LoadSound "shared\ambulance3nl" Vol = 50
          dropoff = 100
          posupdatewithdoppler
#00666    LoadSound "shared\bonkbush" Vol = 100
          dropoff = 0

#00667    LoadSound "la\LA_quake1_rumble" Vol = 1000
          dropoff = 0

#00668    LoadSound "shared\Car_BrakeSqueal" Vol = 60
          dropoff = 150
          posupdate
#00669    LoadSound "shared\carloop" Vol = 50
          dropoff = 150
          posupdatewithdoppler
#00670    LoadSound "shared\carhorn" Vol = 100
          dropoff = 150

#00671    LoadSound "la\la_auto_peelout" Vol = 80
          dropoff = 150

#00672    LoadSound "shared\looter" Vol = 80
          dropoff = 150

#00673    LoadSound "shared\LA_Skid" Vol = 100
          dropoff = 150

#00674    LoadSound "la\la_fire" Vol = 100
          dropoff = 100
          posupdatewithdoppler
#00676    LoadSound "la\la_paper" Vol = 200
          dropoff = 100
          posupdatewithdoppler
#00677    LoadSound "la\la_porn_no_sex" Vol = 100
          dropoff = 100
          posupdatewithdoppler
#00678    LoadSound "la\la_gunshots2" Vol = 100
          dropoff = 100

#00684    LoadSound "la\la_gratesopen" Vol = 100
          dropoff = 100

#00685    LoadSound "shared\ricco1" Vol = 100
          dropoff = 100

#00686    LoadSound "shared\ricco2" Vol = 100
          dropoff = 100

#00687    LoadSound "shared\lowriderloop" Vol = 100
          dropoff = 100
          posupdate
#00688    LoadSound "shared\glasspane2x" Vol = 100
          dropoff = 100

#00689    LoadSound "la\la_carwash_brushes1" Vol = 100
          dropoff = 100
          posupdatewithdoppler
#00690    LoadSound "la\la_hitcone" Vol = 100
          dropoff = 100
          posupdatewithdoppler
#00691    LoadSound "la\la_rebar1" Vol = 100
          dropoff = 100

#00692    LoadSound "la\la_rebar2" Vol = 100
          dropoff = 100

#00693    SetParticleSysVisibility system = "NEXTparticle_sparkle07"
          Visible = 0

#00768    SetParticleSysVisibility system = "NEXTparticle_sparkle08"
          Visible = 0

#00769    SetParticleSysVisibility system = "Qke_Particle01"
          Visible = 0

#00771    SetParticleSysVisibility system = "Qke_Particle02"
          Visible = 0

#00772    SetParticleSysVisibility system = "Qke_Particle03"
          Visible = 0

#00773    SetParticleSysVisibility system = "Qke_Particle04"
          Visible = 0

#00774    SetParticleSysVisibility system = "Qke_Particle05"
          Visible = 0

#00775    SetParticleSysVisibility system = "Qke_Particle06"
          Visible = 0

#00776    SetParticleSysVisibility system = "Qke_Particle07"
          Visible = 0

#00777    SetParticleSysVisibility system = "Qke_Particle08"
          Visible = 0

#00778    SetParticleSysVisibility system = "Qke_Particle09"
          Visible = 0

#00779    SetParticleSysVisibility system = "Qke_Particle10"
          Visible = 0

#00780    SetParticleSysVisibility system = "Qke_Particle11"
          Visible = 0

#00781    SetParticleSysVisibility system = "Qke_Particle12"
          Visible = 0

#00782    SetParticleSysVisibility system = "Qke_Particle13"
          Visible = 0

#00783    SetParticleSysVisibility system = "Qke_Particle14"
          Visible = 0

#00784    SetParticleSysVisibility system = "Qke_Particle15"
          Visible = 0

#00785    SetParticleSysVisibility system = "Qke_Particle16"
          Visible = 0

#00786    SetParticleSysVisibility system = "Qke_Particle17"
          Visible = 0

#00787    SetParticleSysVisibility system = "NExtParticle20"
          Visible = 0

#00789    SetParticleSysVisibility system = "NExtParticle21"
          Visible = 0

#00790    SetParticleSysVisibility system = "NextParticle_Steam01"
          Visible = 0

#00792    SetParticleSysVisibility system = "NextParticle_Steam02"
          Visible = 0

#00793    SetParticleSysVisibility system = "NextParticle_Steam03"
          Visible = 0

#00794    IF InMultiplayerGame
#00796    ELSE
#00813      Create prefix = "Tall_Cone"

#00814      Create prefix = "TRGP_GarbageCreator"

#00815    END IF
#00816    UnSetFlag flag = LA_QUAKE_DONE

#00817  END FUNCTION

#00818  panel_message_timer = STRUCT{
          font = "large.fnt"
          just = PAIR[0.0; 0.0]
          dims = PAIR[600.0; 112.0]
          colors = ARRAY(

            STRUCT{
              VECTOR[128.0; 128.0; 128.0] alpha = 128
              }

          )
          key_points = ARRAY(

            STRUCT{
              pos = PAIR[320.0; 112.0]
              alpha = 128
              scale = 2
              time = 0
              }
            STRUCT{
              scale = 0.5
              alpha = 0
              time = 0.7
              }

          )
          }

#00831  FUNCTION CPF_Ped_QuakePanic
#00838    Obj_ClearExceptions
#00841    Obj_SetPathAcceleration 15 fpsps
#00842    Obj_SetPathDeceleration 45 fpsps
#00843    Obj_SetPathVelocity 15 fps
#00844    Obj_StopAlongPath
#00845    Obj_PlayAnim Anim = IdletoCower

#00846    Obj_WaitAnimFinished
#00847    Obj_PlayAnim Anim = Cower

#00848    Obj_WaitAnimFinished
#00849    Obj_PlayAnim Anim = CowertoCoweringRun

#00850    Obj_StartAlongPath
#00851    Obj_WaitAnimFinished
#00852    Obj_PlayAnim Anim = CoweringRun
          Cycle
#00853    LOOP
#00854      IF Obj_ObjectInRadius radius = 4
              feet type = skater

#00855        MakeSkaterGoto PedKnockDown
#00856      END IF
#00857      IF Obj_FlagSet PED_IN_PANIC
#00858        Wait 1 frame
#00859      ELSE
#00860        Obj_PlayAnim Anim = CoweringRuntoCower

#00861        LOOP
#00862          IF Obj_ObjectInRadius radius = 4
                  feet type = skater

#00863            MakeSkaterGoto PedKnockDown
#00864            Wait 1 second
#00865          END IF
#00866          Wait 1 frame
#00867        END LOOP 40
#00868        Obj_StopAlongPath
#00870        Obj_PlayAnim Anim = CowertoIdle

#00871        LOOP
#00872          IF Obj_ObjectInRadius radius = 4
                  feet type = skater

#00873            MakeSkaterGoto PedKnockDown
#00874            Wait 1 second
#00875          END IF
#00876          Wait 1 frame
#00877        END LOOP 40
#00878        Wait 1 frame
#00880        Obj_SwitchScript SK3_PedScript params = STRUCT{
                NULL }

#00881      END IF
#00882      Wait 1 frame
#00883    END LOOP
#00884  END FUNCTION

#00885  FUNCTION CPF_PedDrunk
#00887    SetParticleSysVisibility system = "NExtParticle_Puke"
          Visible = 0

#00890    Obj_SetGroundOffset 3.1 feet
#00891    Obj_StickToGround distAbove = 3
          distBelow = 6

#00892    Obj_SetPathTurnDist 2.5 feet
#00893    Obj_PathHeading On
#00894    Obj_StickToGround off
#00895    Obj_SetConstantHeight
#00896    Obj_SetException ex = SkaterInRadius
          scr = Drunk_FallForSkater

#00897    Obj_SetInnerRadius 2
#00898    LOOP
#00899      RANDOM[3][13; 45; 77]

#00901      Obj_PlayAnim Anim = DrunkIdle

#00902      Obj_WaitAnimFinished
#00903      JUMP 0x43000000 Obj_PlayAnim Anim = DrunkDrinking

#00904      Obj_WaitAnimFinished
#00905      JUMP 0x1f000000 Obj_PlayAnim Anim = DrunkCoughing

#00906      Obj_WaitAnimFinished
#00907
#00908      Obj_PlayStream RANDOM[13][53; 64; 75; 86; 97; 108; 119; 130; 141; 152; 163; 174; 185]

#00909      LA_Drunk_14
#00910      JUMP 0xaf000000 LA_Drunk_15
#00911      JUMP 0xa0000000 LA_Drunk_16
#00912      JUMP 0x91000000 LA_Drunk_17
#00913      JUMP 0x82000000 LA_Drunk_18
#00914      JUMP 0x73000000 LA_Drunk_19
#00915      JUMP 0x64000000 LA_Drunk_23
#00916      JUMP 0x55000000 LA_Drunk_24
#00917      JUMP 0x46000000 LA_Drunk_25
#00918      JUMP 0x37000000 LA_Drunk_26
#00919      JUMP 0x28000000 LA_Drunk_28
#00920      JUMP 0x19000000 LA_Drunk_29
#00921      JUMP 0x0a000000 LA_Drunk_30
#00922
#00923      RANDOM[9][37; 368; 1008; 2037; 2069; 2101; 2133; 2165; 2197]

#00924      Obj_LookAtNode name = TRG_LA_Drunk_Path01
            time = 0.3

#00925      Obj_PlayAnim Anim = RotateLeft
            Cycle
#00926      Obj_WaitRotate
#00927      Obj_SetAnimCycleMode off
#00928      Obj_WaitAnimFinished
#00929      Obj_PlayAnim Anim = DrunkIdleToDrunkWalk

#00930      Obj_WaitAnimFinished
#00931      Obj_PlayAnim Anim = DrunkWalk
            Cycle
#00932      Obj_FollowPath name = TRG_LA_Drunk_Path01

#00933      Obj_WaitMove
#00934      Obj_SetAnimCycleMode off
#00935      Obj_WaitAnimFinished
#00936      Obj_PlayAnim Anim = DrunkStagger

#00937      Obj_WaitAnimFinished
#00938      Obj_PlayAnim Anim = DrunkWalkToDrunkIdle

#00939      Obj_WaitAnimFinished
#00940      Obj_PlayAnim Anim = DrunkStagger

#00943      Obj_WaitAnimFinished
#00944      Obj_PlayAnim Anim = DrunkWalkToDrunkIdle

#00945      Obj_WaitAnimFinished
#00946      JUMP 0x60070000 Obj_LookAtNode name = TRG_LA_Drunk_Path02
            time = 0.3

#00947      Obj_PlayAnim Anim = RotateLeft
            Cycle
#00948      Obj_WaitRotate
#00949      Obj_SetAnimCycleMode off
#00950      Obj_WaitAnimFinished
#00951      Obj_PlayAnim Anim = DrunkIdleToDrunkWalk

#00952      Obj_WaitAnimFinished
#00953      Obj_PlayAnim Anim = DrunkWalk
            Cycle
#00954      Obj_FollowPath name = TRG_LA_Drunk_Path02

#00955      Obj_WaitMove
#00956      Obj_SetAnimCycleMode off
#00957      Obj_WaitAnimFinished
#00958      Obj_PlayAnim Anim = DrunkStagger

#00959      Obj_WaitAnimFinished
#00960      Obj_PlayAnim Anim = DrunkWalkToDrunkIdle

#00961      Obj_WaitAnimFinished
#00962      Obj_PlayAnim Anim = ShakeHands

#00963      Obj_PlayStream RANDOM[7][29; 40; 51; 62; 73; 84; 95]

#00965      LA_Drunk_01
#00966      JUMP 0x55000000 LA_Drunk_02
#00967      JUMP 0x46000000 LA_Drunk_03
#00968      JUMP 0x37000000 LA_Drunk_04
#00969      JUMP 0x28000000 LA_Drunk_05
#00970      JUMP 0x19000000 LA_Drunk_06
#00971      JUMP 0x0a000000 LA_Drunk_07
#00972
#00973      Obj_WaitAnimFinished
#00974      Obj_LookAtNode name = TRG_LA_Drunk_Nav06
            time = 0.3

#00975      Obj_PlayAnim Anim = RotateLeft
            Cycle
#00976      Obj_WaitRotate
#00977      Obj_SetAnimCycleMode off
#00978      Obj_WaitAnimFinished
#00979      Obj_PlayAnim Anim = DrunkIdleToDrunkWalk

#00980      Obj_WaitAnimFinished
#00981      Obj_PlayAnim Anim = DrunkWalk
            Cycle
#00982      Obj_MoveToNode name = TRG_LA_Drunk_Nav06
            speed = 2.5

#00983      Obj_WaitMove
#00984      JUMP 0xdc040000 Obj_LookAtNode name = TRG_LA_Drunk_Path03
            time = 0.3

#00985      Obj_PlayAnim Anim = RotateLeft
            Cycle
#00986      Obj_WaitRotate
#00987      Obj_SetAnimCycleMode off
#00988      Obj_WaitAnimFinished
#00989      Obj_PlayAnim Anim = DrunkIdleToDrunkWalk

#00990      Obj_WaitAnimFinished
#00991      Obj_PlayAnim Anim = DrunkWalk
            Cycle
#00992      Obj_FollowPath name = TRG_LA_Drunk_Path03

#00993      Obj_WaitMove
#00994      Obj_PlayStream LA_Drunk_27
#00996      Obj_SetAnimCycleMode off
#00997      Obj_WaitAnimFinished
#00998      Obj_PlayAnim Anim = DrunkStagger

#00999      Obj_WaitAnimFinished
#01000      Obj_PlayAnim Anim = DrunkWalkToDrunkIdle

#01001      Obj_WaitAnimFinished
#01002      Obj_PlayAnim Anim = DrunkCoughing
            from = 1
            to = 96

#01003      Obj_WaitAnimFinished
#01004      Obj_PlayStream LA_Drunk_13
#01006      LOOP
#01007        Obj_PlayAnim Anim = DrunkCoughing
              from = 95
              to = 67

#01008        Wait 8 frames
#01009        SetParticleSysVisibility system = "NExtParticle_Puke"
              Visible = 0

#01010        Obj_WaitAnimFinished
#01011        Obj_PlayAnim Anim = DrunkCoughing
              from = 66
              to = 96

#01012        Wait 5 frames
#01013        SetParticleSysVisibility system = "NExtParticle_Puke"
              Visible = 1

#01014        Obj_WaitAnimFinished
#01015      END LOOP 3
#01016      Obj_PlayAnim Anim = DrunkCoughing
            from = 96
            to = 134

#01017      Wait 5 frames
#01018      SetParticleSysVisibility system = "NExtParticle_Puke"
            Visible = 0

#01019      Obj_PlayStream LA_Drunk_12
#01021      Obj_WaitAnimFinished
#01022      Obj_PlayAnim Anim = DrunkDrinking

#01023      Obj_WaitAnimFinished
#01024      Obj_LookAtNode name = TRG_LA_Drunk_Nav17
            time = 0.3

#01025      Obj_PlayAnim Anim = RotateLeft
            Cycle
#01026      Obj_WaitRotate
#01027      Obj_SetAnimCycleMode off
#01028      Obj_WaitAnimFinished
#01029      Obj_PlayAnim Anim = DrunkIdleToDrunkWalk

#01030      Obj_WaitAnimFinished
#01031      Obj_PlayAnim Anim = DrunkWalk
            Cycle
#01032      Obj_MoveToNode name = TRG_LA_Drunk_Nav17
            speed = 2.5

#01033      Obj_PlayStream RANDOM[2][9; 20]

#01035      LA_Drunk_20
#01036      JUMP 0x0a000000 LA_Drunk_22
#01037
#01038      Obj_WaitMove
#01039      JUMP 0xd3000000 Obj_PlayAnim Anim = DrunkIdle

#01040      Obj_WaitAnimFinished
#01041      JUMP 0xaf000000 Obj_PlayAnim Anim = DrunkDrinking

#01042      Obj_WaitAnimFinished
#01043      JUMP 0x8b000000 Obj_PlayAnim Anim = DrunkCoughing

#01044      Obj_WaitAnimFinished
#01045      JUMP 0x67000000 Obj_PlayAnim Anim = DrunkIdle

#01046      Obj_WaitAnimFinished
#01047      JUMP 0x43000000 Obj_PlayAnim Anim = DrunkDrinking

#01048      Obj_WaitAnimFinished
#01049      JUMP 0x1f000000 Obj_PlayAnim Anim = DrunkCoughing

#01050      Obj_WaitAnimFinished
#01051
#01052    END LOOP
#01053  END FUNCTION

#01054  FUNCTION Drunk_FallForSkater
#01056    Obj_ClearExceptions
#01058    IF SkaterCurrentScorePotLessThan 1
#01059      MakeSkaterGoto SkaterPushPed params = NULL

#01061    END IF
#01062    Obj_SetInnerRadius 0
#01063    Obj_PlaySound bail04 Vol = 100

#01064    Obj_PlayStream RANDOM[3][8; 14; 20]
          LA_Drunk_11 JUMP 0x0f000000 LA_Drunk_32 JUMP 0x05000000 LA_Drunk_34
#01066    Obj_PlayAnim Anim = HitBySkater

#01067    Obj_StopAlongPath
#01068    Obj_WaitAnimFinished
#01069    Obj_SetException ex = SkaterOutOfRadius
          scr = Drunk_GetUpAfterFall

#01070    Obj_SetOuterRadius 5
#01071  END FUNCTION

#01072  FUNCTION Drunk_GetUpAfterFall
#01074    Obj_ClearExceptions
#01075    Obj_SetException ex = SkaterInRadius
          scr = Drunk_FallForSkater

#01076    Obj_SetInnerRadius 2
#01077    Obj_PlayAnim Anim = GetUp

#01078    Obj_WaitAnimFinished
#01079    Obj_PlayAnim Anim = RANDOM[2][4; 10]

          ShakeFist JUMP 0x05000000 Disgust
#01080    Obj_LookAtObject type = skater
          time = 0.3

#01081    Obj_PlayStream RANDOM[4][12; 18; 24; 30]
          LA_Drunk_10 JUMP 0x19000000 LA_Drunk_31 JUMP 0x0f000000 LA_Drunk_34 JUMP 0x05000000 LA_Drunk_35
#01083    Obj_WaitRotate
#01085    Obj_WaitAnimFinished
#01086    Goto CPF_PedDrunk
#01087  END FUNCTION

#01088  ARGUE_CONTROLLER = 0

#01090  ARGUING = 1

#01091  FUNCTION CPF_PedDancer
#01093    IF GotParam Controller
#01096      Obj_SetFlag ARGUE_CONTROLLER
#01097    END IF
#01098    Obj_SetGroundOffset 3.1 feet
#01099    Obj_StickToGround distAbove = 3
          distBelow = 6

#01100    Obj_SetPathTurnDist 2.5 feet
#01101    Obj_StickToGround off
#01102    Obj_SetConstantHeight
#01103    Obj_PathHeading On
#01104    Obj_SetPathVelocity 5 fps
#01105    GotoPreserveParams CPF_PedDancer_Loop
#01106  END FUNCTION

#01107  FUNCTION CPF_PedDancer_Loop
#01109    Obj_SetException ex = SkaterInRadius
          scr = Dancer_FallForSkater
          params = STRUCT{
            NULL }

#01110    Obj_SetInnerRadius 2
#01111    LOOP
#01113      IF Obj_FlagSet ARGUE_CONTROLLER
#01114        SendFlag prefix = "TRG_Ped_Argue"
              ARGUING
#01115      END IF
#01116      RANDOM[2][9; 427]

#01118      Obj_PlayAnim Anim = IdleToIdle2

#01119      Obj_WaitAnimFinished
#01120      Obj_PlayAnim Anim = Idle2
            Cycle
#01121      IF Obj_FlagSet ARGUE_CONTROLLER
#01122        Obj_PlayStream RAND3[13][53; 64; 75; 86; 97; 108; 119; 130; 141; 152; 163; 174; 185]

#01123        LA_Argue_38A
#01124        JUMP 0xaf000000 LA_Argue_39A
#01125        JUMP 0xa0000000 LA_Argue_40A
#01126        JUMP 0x91000000 LA_Argue_41A
#01127        JUMP 0x82000000 LA_Argue_42A
#01128        JUMP 0x73000000 LA_Argue_44A
#01129        JUMP 0x64000000 LA_Argue_45A
#01130        JUMP 0x55000000 LA_Argue_46A
#01131        JUMP 0x46000000 LA_Argue_47A
#01132        JUMP 0x37000000 LA_Argue_48A
#01133        JUMP 0x28000000 LA_Argue_49A
#01134        JUMP 0x19000000 LA_Argue_50A
#01135        JUMP 0x0a000000 LA_Argue_51A
#01136
#01137      END IF
#01138      Wait 4 seconds
#01139      Obj_SetAnimCycleMode off
#01140      Obj_WaitAnimFinished
#01141      Obj_PlayAnim Anim = Idle2ToIdle

#01142      Obj_WaitAnimFinished
#01143      JUMP 0xa1010000 Obj_PlayAnim Anim = IdleToIdle3

#01144      Obj_WaitAnimFinished
#01145      Obj_PlayAnim Anim = Idle3
            Cycle
#01146      IF Obj_FlagSet ARGUE_CONTROLLER
#01147        Obj_PlayStream RAND3[13][53; 64; 75; 86; 97; 108; 119; 130; 141; 152; 163; 174; 185]

#01148        LA_Argue_38B
#01149        JUMP 0xaf000000 LA_Argue_39B
#01150        JUMP 0xa0000000 LA_Argue_40B
#01151        JUMP 0x91000000 LA_Argue_41B
#01152        JUMP 0x82000000 LA_Argue_42B
#01153        JUMP 0x73000000 LA_Argue_44B
#01154        JUMP 0x64000000 LA_Argue_45B
#01155        JUMP 0x55000000 LA_Argue_46B
#01156        JUMP 0x46000000 LA_Argue_47B
#01157        JUMP 0x37000000 LA_Argue_48B
#01158        JUMP 0x28000000 LA_Argue_49B
#01159        JUMP 0x19000000 LA_Argue_50B
#01160        JUMP 0x0a000000 LA_Argue_51B
#01161
#01162      END IF
#01163      Wait 4 seconds
#01164      Obj_SetAnimCycleMode off
#01165      Obj_WaitAnimFinished
#01166      Obj_PlayAnim Anim = Idle3ToIdle

#01167      Obj_WaitAnimFinished
#01168
#01169      Obj_PlayAnim Anim = RANDOM[4][12; 18; 24; 30]

            ShakeFist JUMP 0x19000000 Disgust JUMP 0x0f000000 playerpoint JUMP 0x05000000 playerwave
#01171      IF Obj_FlagSet ARGUE_CONTROLLER
#01172        Obj_PlayStream RAND3[77][309; 320; 331; 342; 353; 364; 375; 386; 397; 408; 419; 430; 441; 452; 463; 474; 485; 496; 507; 518; 529; 540; 551; 562; 573; 584; 595; 606; 617; 628; 639; 650; 661; 672; 683; 694; 705; 716; 727; 738; 749; 760; 771; 782; 793; 804; 815; 826; 837; 848; 859; 870; 881; 892; 903; 914; 925; 936; 947; 958; 969; 980; 991; 1002; 1013; 1024; 1035; 1046; 1057; 1068; 1079; 1090; 1101; 1112; 1123; 1134; 1145]

#01173        LA_Argue_03
#01175        JUMP 0x6f040000 LA_Argue_04
#01176        JUMP 0x60040000 LA_Argue_05
#01177        JUMP 0x51040000 LA_Argue_06
#01178        JUMP 0x42040000 LA_Argue_07
#01179        JUMP 0x33040000 LA_Argue_08
#01180        JUMP 0x24040000 LA_Argue_09
#01181        JUMP 0x15040000 LA_Argue_10
#01182        JUMP 0x06040000 LA_Argue_11
#01183        JUMP 0xf7030000 LA_Argue_12
#01184        JUMP 0xe8030000 LA_Argue_13
#01185        JUMP 0xd9030000 LA_Argue_14
#01186        JUMP 0xca030000 LA_Argue_16
#01187        JUMP 0xbb030000 LA_Argue_17
#01188        JUMP 0xac030000 LA_Argue_18
#01189        JUMP 0x9d030000 LA_Argue_19
#01190        JUMP 0x8e030000 LA_Argue_21
#01191        JUMP 0x7f030000 LA_Argue_22
#01192        JUMP 0x70030000 LA_Argue_23
#01193        JUMP 0x61030000 LA_Argue_24
#01194        JUMP 0x52030000 LA_Argue_25
#01195        JUMP 0x43030000 LA_Argue_26
#01196        JUMP 0x34030000 LA_Argue_27
#01197        JUMP 0x25030000 LA_Argue_28
#01198        JUMP 0x16030000 LA_Argue_29
#01199        JUMP 0x07030000 LA_Argue_31
#01200        JUMP 0xf8020000 LA_Argue_32
#01201        JUMP 0xe9020000 LA_Argue_33
#01202        JUMP 0xda020000 LA_Argue_34
#01203        JUMP 0xcb020000 LA_Argue_35
#01204        JUMP 0xbc020000 LA_Argue_36
#01205        JUMP 0xad020000 LA_Argue_37
#01206        JUMP 0x9e020000 LA_Argue_new_001
#01207        JUMP 0x8f020000 LA_Argue_new_002
#01208        JUMP 0x80020000 LA_Argue_new_004
#01209        JUMP 0x71020000 LA_Argue_new_006
#01210        JUMP 0x62020000 LA_Argue_new_008
#01211        JUMP 0x53020000 LA_Argue_new_009
#01212        JUMP 0x44020000 LA_Argue_new_010
#01213        JUMP 0x35020000 LA_Argue_new_011
#01214        JUMP 0x26020000 LA_Argue_new_012
#01215        JUMP 0x17020000 LA_Argue_new_013
#01216        JUMP 0x08020000 LA_Argue_new_014
#01217        JUMP 0xf9010000 LA_Argue_new_015
#01218        JUMP 0xea010000 LA_Argue_new_016
#01219        JUMP 0xdb010000 LA_Argue_new_017
#01220        JUMP 0xcc010000 LA_Argue_new_018
#01221        JUMP 0xbd010000 LA_Argue_new_019
#01222        JUMP 0xae010000 LA_Argue_new_020
#01223        JUMP 0x9f010000 LA_Argue_new_021
#01224        JUMP 0x90010000 LA_Argue_new_022
#01225        JUMP 0x81010000 LA_Argue_new_023
#01226        JUMP 0x72010000 LA_Argue_new_024
#01227        JUMP 0x63010000 LA_Argue_new_025
#01228        JUMP 0x54010000 LA_Argue_new_027
#01229        JUMP 0x45010000 LA_Argue_new_028
#01230        JUMP 0x36010000 LA_Argue_new_029
#01231        JUMP 0x27010000 LA_Argue_new_031
#01232        JUMP 0x18010000 LA_Argue_new_033
#01233        JUMP 0x09010000 LA_Argue_new_034
#01234        JUMP 0xfa000000 LA_Argue_new_035
#01235        JUMP 0xeb000000 LA_Argue_new_036
#01236        JUMP 0xdc000000 LA_Argue_new_037
#01237        JUMP 0xcd000000 LA_Argue_new_039
#01238        JUMP 0xbe000000 LA_Argue_new_040
#01239        JUMP 0xaf000000 LA_Argue_new_042
#01240        JUMP 0xa0000000 LA_Argue_new_043
#01241        JUMP 0x91000000 LA_Argue_new_044
#01242        JUMP 0x82000000 LA_Argue_new_045
#01243        JUMP 0x73000000 LA_Argue_new_046
#01244        JUMP 0x64000000 LA_Argue_new_047
#01245        JUMP 0x55000000 LA_Argue_new_048
#01246        JUMP 0x46000000 LA_Argue_new_049
#01247        JUMP 0x37000000 LA_Argue_new_050
#01248        JUMP 0x28000000 LA_Argue_new_051
#01249        JUMP 0x19000000 LA_Argue_new_052
#01250        JUMP 0x0a000000 LA_Argue_new_053
#01251
#01252      END IF
#01253      Obj_WaitAnimFinished
#01254      Obj_PlayAnim Anim = RANDOM[4][12; 18; 24; 30]

            ShakeFist JUMP 0x19000000 Disgust JUMP 0x0f000000 playerpoint JUMP 0x05000000 playerwave
#01255      Obj_SetAnimCycleMode off
#01256      Obj_WaitAnimFinished
#01257    END LOOP
#01258  END FUNCTION

#01259  FUNCTION Dancer_FallForSkater
#01261    Obj_ClearExceptions
#01263    Obj_SetInnerRadius 0
#01264    Obj_ClearFlag ARGUING
#01265    IF SkaterCurrentScorePotLessThan 1
#01266      MakeSkaterGoto SkaterPushPed params = NULL

#01268    END IF
#01269    Obj_PlaySound bail04 Vol = 100

#01270    Obj_PlayStream RANDOM[4][12; 18; 24; 30]
          la_vo_approach1_cr JUMP 0x19000000 la_vo_approach2_cr JUMP 0x0f000000 la_vo_approach3_cr JUMP 0x05000000 la_vo_approach4_cr Vol = 400

#01272    Obj_PlayAnim Anim = HitBySkater

#01273    Obj_StopAlongPath
#01274    Obj_WaitAnimFinished
#01275    Obj_SetException ex = SkaterOutOfRadius
          scr = Dancer_GetUpAfterFall
          params = STRUCT{
            NULL }

#01276    Obj_SetOuterRadius 5
#01277  END FUNCTION

#01278  FUNCTION Dancer_GetUpAfterFall
#01280    Obj_ClearExceptions
#01281    Obj_SetException ex = SkaterInRadius
          scr = Dancer_FallForSkater
          params = STRUCT{
            NULL }

#01282    Obj_SetInnerRadius 2
#01283    Obj_PlayAnim Anim = GetUp

#01284    Obj_WaitAnimFinished
#01285    GotoPreserveParams CPF_PedDancer_Loop
#01286  END FUNCTION

#01287  FUNCTION Ped_Photographer
#01289    Obj_SetGroundOffset 3.1 feet
#01291    Obj_StickToGround distAbove = 3
          distBelow = 6

#01292    Obj_StickToGround off
#01293    Obj_SetConstantHeight
#01294    Obj_PlayAnim Anim = idle
          Cycle
#01295    IF IsCareerMode
#01296    ELSE
#01297      Die
#01298    END IF
#01299    IF GetGoal goal = GOAL_TRICKSPOT

#01300      Die
#01301    END IF
#01302    Goto Ped_Photographer_Waiting
#01303  END FUNCTION

#01304  FUNCTION Photo_Flash
#01306    DoFlash duration = 0.05
          start_r = 120
          start_g = 150
          start_b = 150
          start_a = 40
          end_r = 190
          end_g = 150
          end_b = 150
          end_a = 40

#01307  END FUNCTION

#01309  FUNCTION Ped_Photographer_Waiting
#01311    Obj_ClearExceptions
#01312    Obj_SetException ex = SkaterInRadius
          scr = Photographer_FallForSkater

#01313    Obj_SetInnerRadius 2
#01314    LOOP
#01315      IF Obj_ObjectInRadius radius = 90
              feet type = skater

#01316        Obj_PlayAnim Anim = idleToPhotoidle

#01317        LOOP
#01318          Obj_LookAtObject type = skater
                time = 0.3

#01319          Obj_WaitAnimFinished
#01320          Obj_PlayAnim Anim = Photodle

#01321          Obj_WaitAnimFinished
#01322          Obj_LookAtObject type = skater
                time = 0.3

#01323          RANDOM[3][13; 35; 57]

#01324          Obj_PlayAnim Anim = Photodle

#01325          JUMP 0x2f000000 Obj_PlayAnim Anim = PhotoBeckon

#01327          JUMP 0x15000000 Obj_PlayAnim Anim = Photodle

#01329
#01330          IF Obj_ObjectInRadius radius = 50
                  feet type = skater

#01331            IF GetGoal goal = GOAL_TRICKSPOT

#01332              Obj_PlayAnim Anim = PhotoIdleToIdle

#01333              Obj_WaitAnimFinished
#01334              LOOP
#01335                Obj_LookAtObject type = skater
                      time = 0.3

#01336                RANDOM[4][17; 39; 61; 83]

#01337                Obj_PlayAnim Anim = idle

#01338                JUMP 0x49000000 Obj_PlayAnim Anim = playerpoint

#01339                JUMP 0x2f000000 Obj_PlayAnim Anim = Clap

#01340                JUMP 0x15000000 Obj_PlayAnim Anim = Cheering

#01341
#01342                Obj_WaitAnimFinished
#01343              END LOOP
#01344            ELSE
#01345              LOOP
#01346                Obj_LookAtObject type = skater
                      time = 0.2

#01347                RANDOM[4][17; 154; 291; 333]

#01348                Obj_PlayAnim Anim = PhotoSnap1

#01349                Wait 0.5 seconds
#01350                PlaySound hud_jumpgap
#01351                Wait 0.2 seconds
#01353                PlaySound hud_jumpgap
#01354                Wait 0.4 seconds
#01356                PlaySound hud_jumpgap
#01357                Obj_WaitAnimFinished
#01358                JUMP 0xe4000000 Obj_PlayAnim Anim = PhotoSnap2

#01359                Wait 0.5 seconds
#01360                PlaySound hud_jumpgap
#01361                Wait 0.3 seconds
#01362                PlaySound hud_jumpgap
#01364                Wait 0.2 seconds
#01365                PlaySound hud_jumpgap
#01366                Obj_WaitAnimFinished
#01367                JUMP 0x57000000 Obj_PlayAnim Anim = PhotoBeckon

#01368                Photographer_Beckon_Skater
#01369                Obj_WaitAnimFinished
#01370                JUMP 0x29000000 Obj_PlayAnim Anim = PhotoBeckon

#01371                Photographer_Beckon_Skater
#01372                Obj_WaitAnimFinished
#01373
#01374              END LOOP 1
#01375            END IF
#01376          END IF
#01377          Obj_WaitAnimFinished
#01378        END LOOP
#01379      END IF
#01380      Wait 0.5 seconds
#01381    END LOOP
#01382  END FUNCTION

#01383  FUNCTION Photographer_Beckon_Skater
#01385    RANDOM[6][25; 1678; 1716; 1754; 1792; 1830]

#01386
#01387    IF ProfileEquals is_custom
#01388    END IF
#01390    IF ProfileEquals is_named = hawk

#01391      Obj_PlayStream photo_01 Vol = 150
            dropoff = 200

#01392    END IF
#01393    IF ProfileEquals is_named = caballero

#01394      Obj_PlayStream photo_02 Vol = 150
            dropoff = 200

#01395    END IF
#01396    IF ProfileEquals is_named = campbell

#01397      Obj_PlayStream photo_03 Vol = 150
            dropoff = 200

#01398    END IF
#01399    IF ProfileEquals is_named = glifberg

#01400      Obj_PlayStream photo_04 Vol = 150
            dropoff = 200

#01401    END IF
#01402    IF ProfileEquals is_named = koston

#01403      Obj_PlayStream photo_05 Vol = 150
            dropoff = 200

#01404    END IF
#01405    IF ProfileEquals is_named = lasek

#01406      Obj_PlayStream photo_06 Vol = 150
            dropoff = 200

#01407    END IF
#01408    IF ProfileEquals is_named = margera

#01409      Obj_PlayStream photo_07 Vol = 150
            dropoff = 200

#01410    END IF
#01411    IF ProfileEquals is_named = mullen

#01412      Obj_PlayStream photo_08 Vol = 150
            dropoff = 200

#01413    END IF
#01414    IF ProfileEquals is_named = muska

#01415      Obj_PlayStream photo_09 Vol = 150
            dropoff = 200

#01416    END IF
#01417    IF ProfileEquals is_named = reynolds

#01418      Obj_PlayStream photo_10 Vol = 150
            dropoff = 200

#01419    END IF
#01420    IF ProfileEquals is_named = rowley

#01421      Obj_PlayStream photo_11 Vol = 150
            dropoff = 200

#01422    END IF
#01423    IF ProfileEquals is_named = steamer

#01424      Obj_PlayStream photo_12 Vol = 150
            dropoff = 200

#01425    END IF
#01426    IF ProfileEquals is_named = thomas

#01427      Obj_PlayStream photo_13 Vol = 150
            dropoff = 200

#01428    END IF
#01429    IF ProfileEquals is_named = carrera

#01430      Obj_PlayStream photo_15 Vol = 150
            dropoff = 200

#01431    END IF
#01432    IF ProfileEquals is_named = Dick

#01433      Obj_PlayStream photo_14 Vol = 150
            dropoff = 200

#01434    END IF
#01435    IF ProfileEquals is_named = demoness

#01436      Obj_PlayStream photo_16 Vol = 150
            dropoff = 200

#01437    END IF
#01438    IF ProfileEquals is_named = wolverine

#01439      Obj_PlayStream photo_17 Vol = 150
            dropoff = 200

#01440    END IF
#01441    IF ProfileEquals is_named = maul

#01442      Obj_PlayStream photo_18 Vol = 150
            dropoff = 200

#01443    END IF
#01444    IF ProfileEquals is_named = slater

#01445      Obj_PlayStream photo_19 Vol = 150
            dropoff = 200

#01446    END IF
#01447    IF ProfileEquals is_named = ollie

#01448      Obj_PlayStream photo_20 Vol = 150
            dropoff = 200

#01449    END IF
#01450    IF ProfileEquals is_named = eyeball

#01451      Obj_PlayStream photo_21 Vol = 150
            dropoff = 200

#01452    END IF
#01453    Wait 1.5 seconds
#01454    RANDOM[5][21; 59; 97; 135; 173]

#01455    Obj_PlayStream photo_22 Vol = 150
          dropoff = 200

#01456    JUMP 0xa3000000 Obj_PlayStream photo_23 Vol = 150
          dropoff = 200

#01457    JUMP 0x79000000 Obj_PlayStream photo_24 Vol = 150
          dropoff = 200

#01458    JUMP 0x4f000000 Obj_PlayStream photo_25 Vol = 150
          dropoff = 200

#01459    JUMP 0x25000000 Obj_PlayStream photo_26 Vol = 150
          dropoff = 200

#01460
#01461    JUMP 0xcd000000 Obj_PlayStream photo_22 Vol = 150
          dropoff = 200

#01462    JUMP 0xa3000000 Obj_PlayStream photo_23 Vol = 150
          dropoff = 200

#01463    JUMP 0x79000000 Obj_PlayStream photo_24 Vol = 150
          dropoff = 200

#01464    JUMP 0x4f000000 Obj_PlayStream photo_25 Vol = 150
          dropoff = 200

#01465    JUMP 0x25000000 Obj_PlayStream photo_26 Vol = 150
          dropoff = 200

#01466
#01467  END FUNCTION

#01468  FUNCTION Photographer_FallForSkater
#01470    Obj_ClearExceptions
#01471    Obj_SetInnerRadius 0
#01472    IF SkaterCurrentScorePotLessThan 1
#01473      MakeSkaterGoto SkaterPushPed params = NULL

#01475    END IF
#01476    Obj_PlaySound bail04 Vol = 100

#01477    Obj_PlayAnim Anim = HitBySkater

#01479    Obj_StopAlongPath
#01480    Obj_WaitAnimFinished
#01481    Obj_SetException ex = SkaterOutOfRadius
          scr = Photographer_GetUpAfterFall

#01482    Obj_SetOuterRadius 5
#01483  END FUNCTION

#01484  FUNCTION Photographer_GetUpAfterFall
#01486    Obj_ClearExceptions
#01487    Obj_SetException ex = SkaterInRadius
          scr = Photographer_FallForSkater

#01488    Obj_SetInnerRadius 2
#01489    Obj_PlayAnim Anim = GetUp

#01490    Obj_WaitAnimFinished
#01491    Goto Ped_Photographer_Waiting
#01492  END FUNCTION

#01493  FUNCTION CPF_Ped_Security
#01495    Obj_SetException ex = SkaterInRadius
          scr = CPF_Ped_Security_HitSkater

#01496    Obj_SetInnerRadius 4
#01497    Obj_PlayAnim Anim = IdleToSecurityIdle

#01498    LOOP
#01499      Obj_PlayAnim Anim = RANDOM[3][8; 14; 20]

            SecurityIdle JUMP 0x0f000000 SecurityIdle JUMP 0x05000000 SecurityStop
#01500      Obj_WaitAnimFinished
#01501    END LOOP 4
#01502    Obj_PlayAnim Anim = SecurityIdleToIdle

#01503    Obj_LookAtNodeLinked time = 0.2

#01504    Obj_WaitAnimFinished
#01505    Obj_SwitchScript SK3_PedScript params = STRUCT{
            Streamer Watcher Low Knock }

#01506  END FUNCTION

#01507  FUNCTION CPF_Ped_Security_HitSkater
#01509    Obj_ClearExceptions
#01510    Obj_PlayAnim Anim = RANDOM[2][4; 10]

          Punch JUMP 0x05000000 Push
#01511    PlayStream RANDOM[4][12; 18; 24; 30]
          la2_vo_knock1_cr JUMP 0x19000000 la2_vo_knock2_cr JUMP 0x0f000000 la2_vo_knock3_cr JUMP 0x05000000 la2_vo_knock4_cr Vol = 200
          pitch = 100

#01512    Wait 0.05
#01513    Obj_PlaySound bail04 Vol = 200

#01514    Obj_PlaySound bail05 Vol = 200

#01515    Obj_LookAtObject type = skater
          time = 0.05

#01516    MakeSkaterGoto PedKnockDown
#01517    Wait 0.05
#01518    Obj_LookAtObject type = skater
          time = 0.05

#01519    Obj_WaitAnimFinished
#01520    Obj_PlayAnim Anim = RANDOM[3][8; 14; 20]

          bullylaugh JUMP 0x0f000000 Disgust JUMP 0x05000000 playerpoint
#01521    Obj_WaitAnimFinished
#01522    Obj_SwitchScript SK3_PedScript params = STRUCT{
            Streamer Watcher Low Knock }

#01523  END FUNCTION

#01524  FUNCTION CPF_Ped_ScaredCitizen
#01526    Obj_SetGroundOffset 3.1 feet
#01527    Obj_StickToGround distAbove = 3
          distBelow = 6

#01528    Obj_StickToGround off
#01529    Obj_SetConstantHeight
#01530    IF IsCareerMode
#01531      IF GetGoal goal = GOAL_SCRIPTED2

#01532        GotoPreserveParams CPF_PedGeneric
#01533      END IF
#01534    ELSE
#01535      GotoPreserveParams CPF_PedGeneric
#01536    END IF
#01537    IF GotParam chick
#01538      Obj_PlayAnim Anim = Idle1
            Cycle
#01539    ELSE
#01540      Obj_PlayAnim Anim = idle
            Cycle
#01541    END IF
#01542    LOOP
#01543      IF Obj_FlagSet PED_IN_PANIC
#01544        IF GotParam chick
#01545          Obj_ClearFlag PED_IN_PANIC
#01546          Obj_LookAtNodeLinked time = 0.2

#01547          Obj_SetPathAcceleration 15 fpsps
#01548          Obj_SetPathDeceleration 45 fpsps
#01549          Obj_SetPathVelocity 25 fps
#01550          Obj_PlayAnim Anim = Idle1ToRun

#01551          Obj_FollowPathLinked
#01552          Obj_WaitAnimFinished
#01553          Obj_PlayAnim Anim = Run
                Cycle
#01554          LOOP
#01555            IF Obj_ObjectInRadius radius = 4
                    feet type = skater

#01556              MakeSkaterGoto PedKnockDown
#01557              Wait 1 second
#01558            END IF
#01559            Wait 1 frame
#01560          END LOOP RANDOM[3][8; 14; 20]
                600 JUMP 0x0f000000 750 JUMP 0x05000000 800
#01561          Obj_StopAlongPath
#01562          Obj_PlayAnim Anim = RunToIdle1

#01563          LOOP
#01564            IF Obj_ObjectInRadius radius = 4
                    feet type = skater

#01565              MakeSkaterGoto PedKnockDown
#01566              Wait 1 second
#01567            END IF
#01568            Wait 1 frame
#01569          END LOOP 20
#01570          GotoPreserveParams CPF_PedGeneric
#01572        ELSE
#01573          Obj_ClearFlag PED_IN_PANIC
#01574          Obj_LookAtNodeLinked time = 0.2

#01575          Obj_SetPathAcceleration 15 fpsps
#01576          Obj_SetPathDeceleration 45 fpsps
#01577          Obj_SetPathVelocity 25 fps
#01578          Obj_PlayAnim Anim = IdletoCower

#01579          Obj_WaitAnimFinished
#01580          Obj_PlayAnim Anim = CowertoCoweringRun

#01581          Obj_FollowPathLinked
#01582          Obj_WaitAnimFinished
#01583          Obj_PlayAnim Anim = CoweringRun
                Cycle
#01584          LOOP
#01585            IF Obj_ObjectInRadius radius = 4
                    feet type = skater

#01586              MakeSkaterGoto PedKnockDown
#01587              Wait 1 second
#01588            END IF
#01589            Wait 1 frame
#01590          END LOOP RANDOM[3][8; 14; 20]
                600 JUMP 0x0f000000 750 JUMP 0x05000000 800
#01591          Obj_StopAlongPath
#01592          Obj_PlayAnim Anim = CoweringRuntoCower

#01593          LOOP
#01594            IF Obj_ObjectInRadius radius = 4
                    feet type = skater

#01595              MakeSkaterGoto PedKnockDown
#01596              Wait 1 second
#01597            END IF
#01598            Wait 1 frame
#01599          END LOOP 30
#01600          Obj_PlayAnim Anim = CowertoIdle

#01602          LOOP
#01603            IF Obj_ObjectInRadius radius = 4
                    feet type = skater

#01604              MakeSkaterGoto PedKnockDown
#01605              Wait 1 second
#01606            END IF
#01607            Wait 1 frame
#01608          END LOOP 40
#01609          GotoPreserveParams CPF_PedGeneric
#01611        END IF
#01612      END IF
#01613      Wait 3 frames
#01614    END LOOP
#01615  END FUNCTION

#01616  FUNCTION CPF_Ped_Family2
#01618    IF GotParam Son
#01619      Obj_ApplyScaling x = 0.6
            y = 0.6
            z = 0.6

#01620    END IF
#01621    Obj_SetGroundOffset 3.1 feet
#01622    Obj_StickToGround distAbove = 3
          distBelow = 6

#01623    Obj_StickToGround off
#01624    Obj_SetConstantHeight
#01625    Obj_SetPathAcceleration 15 fpsps
#01626    Obj_SetPathDeceleration 45 fpsps
#01627    Obj_SetPathVelocity 5 fps
#01628    IF GotParam Mom
#01629      Obj_PlayAnim Anim = Idle1

#01630      Obj_WaitAnimFinished
#01631      Obj_LookAtNodeLinked time = 0.5

#01632      Obj_PlayAnim Anim = Idle1Rotate
            Cycle
#01633      Obj_WaitRotate
#01634      Obj_SetAnimCycleMode off
#01635      Obj_WaitAnimFinished
#01636      Obj_FollowPathLinked
#01637      Obj_PlayAnim Anim = Idle1ToWalk

#01638      Obj_WaitAnimFinished
#01639      Obj_PlayAnim Anim = Walk
            Cycle
#01640      Obj_WaitMove
#01641    ELSE
#01642      RANDOM[5][21; 43; 65; 87; 109]

#01643      Obj_PlayAnim Anim = idle

#01644      JUMP 0x63000000 Obj_PlayAnim Anim = LookLeftRight

#01645      JUMP 0x49000000 Obj_PlayAnim Anim = LookRight

#01646      JUMP 0x2f000000 Obj_PlayAnim Anim = LookLeftDown

#01647      JUMP 0x15000000 Obj_PlayAnim Anim = LookAtWatch

#01648
#01649      Obj_WaitAnimFinished
#01650      Obj_LookAtNodeLinked time = 0.5

#01651      Obj_PlayAnim Anim = RotateLeft
            Cycle
#01652      Obj_WaitRotate
#01653      Obj_SetAnimCycleMode off
#01654      Obj_WaitAnimFinished
#01655      Obj_FollowPathLinked
#01656      Obj_PlayAnim Anim = IdleToWalk

#01657      Obj_WaitAnimFinished
#01658      Obj_PlayAnim Anim = Walk
            Cycle
#01659      Obj_WaitMove
#01660    END IF
#01661  END FUNCTION

#01662  FUNCTION CPF_Ped_Family
#01664    IF GotParam Son
#01665      Obj_ApplyScaling x = 0.6
            y = 0.6
            z = 0.6

#01666    END IF
#01667    IF IsCareerMode
#01668      Obj_SetGroundOffset 3.4 feet
#01669      Obj_StickToGround distAbove = 3
            distBelow = 6

#01670      Obj_StickToGround off
#01671      Obj_SetConstantHeight
#01672      Obj_SetPathAcceleration 15 fpsps
#01673      Obj_SetPathDeceleration 45 fpsps
#01674      Obj_SetPathVelocity 5 fps
#01675      Obj_SetException ex = SkaterInRadius
            scr = CPF_Ped_FamilyCheckTicket
            params = STRUCT{
              NULL }

#01676      Obj_SetInnerRadius 10
#01677      LOOP
#01678        IF GotParam Mom
#01679          RANDOM[2][9; 31]

#01680          Obj_PlayAnim Anim = Idle1

#01681          JUMP 0x53000000 Obj_PlayAnim Anim = idle1ToIdle2

#01682          Obj_WaitAnimFinished
#01683          Obj_PlayAnim Anim = Idle2

#01684          Obj_WaitAnimFinished
#01685          Obj_PlayAnim Anim = idle2ToIdle1

#01686
#01687          Obj_WaitAnimFinished
#01688        ELSE
#01689          RANDOM[5][21; 43; 65; 87; 109]

#01690          Obj_PlayAnim Anim = idle

#01691          JUMP 0x63000000 Obj_PlayAnim Anim = LookLeftRight

#01692          JUMP 0x49000000 Obj_PlayAnim Anim = LookRight

#01693          JUMP 0x2f000000 Obj_PlayAnim Anim = LookLeftDown

#01694          JUMP 0x15000000 Obj_PlayAnim Anim = LookAtWatch

#01695
#01696          Obj_WaitAnimFinished
#01697        END IF
#01698      END LOOP
#01699    ELSE
#01700      Die
#01701    END IF
#01702  END FUNCTION

#01703  FUNCTION Ped_FamilyKnockDownSkater
#01705    Obj_ClearExceptions
#01706    Obj_SetInnerRadius 0
#01707    MakeSkaterGoto PedKnockDown
#01708    Wait 1 second
#01709    GotoPreserveParams CPF_Ped_FamilyCheckTicket
#01710  END FUNCTION

#01711  FUNCTION CPF_Ped_FamilyCheckTicket
#01713    Obj_ClearExceptions
#01714    Obj_SetException ex = SkaterInRadius
          scr = Ped_FamilyKnockDownSkater
          params = STRUCT{
            NULL }

#01715    Obj_SetInnerRadius 2
#01716    IF GetGoal goal = GOAL_SCRIPTED1

#01717    ELSE
#01718      IF QueryFlag GOT_TICKET name = TRG_GO_GotTicket

#01719        Got_Scripted1
#01720        SetGlobalFlag flag = SKATESHOP_JUST_GOT_LEVEL5_GOAL

#01721        Obj_PlayAnim Anim = Clap
              Cycle
#01722        LaunchLocalMessage id = T01
              "`" panel_message_PickUpVoided
#01723      ELSE
#01724        LaunchPanelMessage "We Need Tickets, Stupid!" properties = panel_message_goalcomplete

#01725        Obj_SetException ex = SkaterOutOfRadius
              scr = CPF_Ped_Family
              params = STRUCT{
                NULL }

#01726        Obj_SetOuterRadius 50
#01727        IF GotParam Mom
#01728          PlayStream RANDOM[4][17; 28; 39; 50]

#01729          AP_FamMid01
#01730          JUMP 0x28000000 AP_FamMid02
#01731          JUMP 0x19000000 AP_FamMid03
#01732          JUMP 0x0a000000 AP_FamMid04
#01733
#01734        END IF
#01735        LOOP
#01736          Obj_PlayAnim Anim = Disgust

#01737          Obj_WaitAnimFinished
#01738        END LOOP
#01739      END IF
#01740    END IF
#01741  END FUNCTION

#01742  FUNCTION CPF_Ped_CutsceneTerrorist
#01744    Obj_SetGroundOffset 3.1 feet
#01745    Obj_StickToGround distAbove = 3
          distBelow = 6

#01746    Obj_SetPathAcceleration 35 fpsps
#01747    Obj_SetPathDeceleration 45 fpsps
#01748    Obj_SetPathVelocity 25 fps
#01749    Obj_PlayAnim Anim = GunIdle

#01750    Obj_WaitAnimFinished
#01751    SendFlag name = TRG_Ped_CutsceneTerrorist01
          PED_IN_PANIC
#01752    Obj_PlayAnim Anim = GunIdletoRun

#01753    Obj_WaitAnimFinished
#01754    Obj_PlayAnim Anim = GunPanic

#01755    Obj_LookAtNodeLinked time = 0.2

#01756    Obj_WaitAnimFinished
#01757    Obj_FollowPathLinked
#01758    Obj_PlayAnim Anim = GunRun
          Cycle
#01759    Wait 5 seconds
#01760    Create prefix = "TRG_Ped_CutsceneTerrorist"

#01761    Die
#01762  END FUNCTION

#01763  FUNCTION CPF_Ped_Cutscene2Terrorist
#01765    Obj_SetGroundOffset 3.1 feet
#01766    Obj_StickToGround distAbove = 3
          distBelow = 6

#01767    Obj_StickToGround off
#01768    Obj_SetConstantHeight
#01769    Obj_SetPathAcceleration 65 fpsps
#01770    Obj_SetPathDeceleration 45 fpsps
#01771    Obj_SetPathVelocity 25 fps
#01772    RANDOM[2][9; 76]

#01773
#01774    Wait 20 frames
#01775    Obj_PlayAnim Anim = GunIdletoRun

#01776    Obj_FollowPathLinked
#01777    Obj_WaitAnimFinished
#01778    JUMP 0x1e000000 Wait 1 frame
#01779    Obj_FollowPathLinked
#01780
#01781    Obj_PlayAnim Anim = GunRun
          Cycle
#01782  END FUNCTION

#01783  FUNCTION CPF_Ped_Terrorist
#01785    IF IsCareerMode
#01787      Obj_SetGroundOffset 3.1 feet
#01788      Obj_StickToGround distAbove = 3
            distBelow = 6

#01789      Obj_StickToGround off
#01790      Obj_SetConstantHeight
#01791      IF GotParam AP_TERRORIST_01
#01792        Obj_SetFlag AP_TERRORIST_01
#01793      END IF
#01794      IF GotParam AP_TERRORIST_02
#01795        Obj_SetFlag AP_TERRORIST_02
#01796      END IF
#01797      IF GotParam AP_TERRORIST_03
#01798        Obj_SetFlag AP_TERRORIST_03
#01799      END IF
#01800      IF GotParam AP_TERRORIST_04
#01801        Obj_SetFlag AP_TERRORIST_04
#01802      END IF
#01803      IF GotParam AP_TERRORIST_05
#01804        Obj_SetFlag AP_TERRORIST_05
#01805      END IF
#01806      GotoPreserveParams CPF_Ped_Terrorist_Waiting
#01807    ELSE
#01808      Die
#01809    END IF
#01810  END FUNCTION

#01811  FUNCTION CPF_Ped_Terrorist_Waiting
#01813    Obj_ClearExceptions
#01814    Obj_SetException ex = SkaterInRadius
          scr = CPF_Ped_Terrorist_SeePlayer
          params = STRUCT{
            NULL }

#01815    Obj_SetInnerRadius 40
#01816    LOOP
#01817      RANDOM[5][21; 43; 65; 87; 109]

#01818      Obj_PlayAnim Anim = GunIdle

#01819      JUMP 0x63000000 Obj_PlayAnim Anim = GunCheck

#01820      JUMP 0x49000000 Obj_PlayAnim Anim = LookRight

#01821      JUMP 0x2f000000 Obj_PlayAnim Anim = GunCheck

#01822      JUMP 0x15000000 Obj_PlayAnim Anim = LookAtWatch

#01823
#01824      Obj_WaitAnimFinished
#01825    END LOOP
#01826  END FUNCTION

#01827  FUNCTION CPF_Ped_Terrorist_SeePlayer
#01829    PlaySound gapsound
#01831    Obj_PlayStream RANDOM[7][29; 40; 51; 62; 73; 84; 95]

#01833    AP_TerRun02
#01835    JUMP 0x55000000 AP_TerRun03
#01836    JUMP 0x46000000 AP_TerRun04
#01837    JUMP 0x37000000 AP_TerRun05
#01838    JUMP 0x28000000 AP_TerRun06
#01839    JUMP 0x19000000 AP_TerRun07
#01840    JUMP 0x0a000000 AP_TerRun08
#01841
#01842    Obj_ClearExceptions
#01843    Obj_SetInnerRadius 20
#01844    Obj_SetException ex = SkaterInRadius
          scr = CPF_Ped_Terrorist_Running
          params = STRUCT{
            NULL }

#01845    Obj_LookAtObject type = skater
          time = 0.2

#01846    Obj_PlayAnim Anim = RotateLeft
          Cycle
#01847    IF GotParam StartArea
#01848      SendFlag prefix = "TRG_Ped_StartArea_"
            PED_IN_PANIC
#01849    END IF
#01850    IF GotParam StartMidArea
#01851      SendFlag prefix = "TRG_Ped_StartMid"
            PED_IN_PANIC
#01852    END IF
#01853    IF GotParam MidArea
#01854      SendFlag prefix = "TRG_Ped_Mid_"
            PED_IN_PANIC
#01855    END IF
#01856    IF GotParam EndArea
#01857      SendFlag prefix = "TRG_Ped_End_"
            PED_IN_PANIC
#01858    END IF
#01859    Obj_WaitRotate
#01860    GotoPreserveParams CPF_Ped_Terrorist_Running
#01861    Obj_SetAnimCycleMode off
#01862    Obj_PlayAnim Anim = UpYours

#01863    Obj_WaitAnimFinished
#01864    GotoPreserveParams CPF_Ped_Terrorist_Running
#01865  END FUNCTION

#01866  FUNCTION CPF_Ped_Terrorist_Running
#01868    Obj_ClearExceptions
#01869    Obj_SetException ex = SkaterInRadius
          scr = CPF_Ped_Terrorist_Hit
          params = STRUCT{
            NULL }

#01870    Obj_SetInnerRadius 2
#01871    Obj_LookAtNodeLinked time = 0.2

#01872    Obj_PlayAnim Anim = RotateLeft
          Cycle
#01873    Obj_WaitRotate
#01874    Obj_SetAnimCycleMode off
#01875    Obj_SetPathAcceleration 15 fpsps
#01877    Obj_SetPathDeceleration 45 fpsps
#01878    Obj_SetPathVelocity 15 fps
#01879    Obj_FollowPathLinked
#01880    Obj_StartAlongPath
#01881    Obj_PlayAnim Anim = GunIdletoRun

#01882    Obj_WaitAnimFinished
#01883    Obj_SetPathVelocity 25 fps
#01885    Obj_PlayAnim Anim = GunRun
          Cycle
#01886    LOOP
#01887      Wait RANDOM[3][8; 14; 20]
            10 JUMP 0x0f000000 30 JUMP 0x05000000 90 frames
#01888      RANDOM[10][41; 62; 83; 104; 125; 146; 167; 188; 209; 230]

#01890      Wait 1 frame
#01891      JUMP 0x11020000 Wait 1 frame
#01892      JUMP 0xf8010000 Wait 1 frame
#01893      JUMP 0xdf010000 Wait 1 frame
#01894      JUMP 0xc6010000 Wait 1 frame
#01895      JUMP 0xad010000 Wait 1 frame
#01896      JUMP 0x94010000 Wait 1 frame
#01897      JUMP 0x7b010000 Wait 1 frame
#01898      JUMP 0x62010000 Wait 1 frame
#01899      JUMP 0x49010000 Wait 1 frame
#01900      Obj_SetAnimCycleMode off
#01901      Obj_WaitAnimFinished
#01902      Obj_PlayAnim Anim = GunPanic

#01903      Wait 10 frames
#01904      Obj_StopAlongPath
#01905      Wait 100 frames
#01906      Obj_StartAlongPath
#01907      Obj_WaitAnimFinished
#01908      Obj_PlayStream RANDOM[8][33; 44; 55; 66; 77; 88; 99; 110]

#01909      AP_TerRun01
#01910      JUMP 0x64000000 AP_TerRun02
#01911      JUMP 0x55000000 AP_TerRun03
#01912      JUMP 0x46000000 AP_TerRun04
#01913      JUMP 0x37000000 AP_TerRun05
#01914      JUMP 0x28000000 AP_TerRun06
#01915      JUMP 0x19000000 AP_TerRun07
#01916      JUMP 0x0a000000 AP_TerRun08
#01917
#01918      Obj_PlayAnim Anim = GunRun
            Cycle
#01919
#01920    END LOOP
#01921  END FUNCTION

#01922  FUNCTION CPF_Ped_Terrorist_Hit
#01924    IF SkaterSpeedLessThan 1
#01925      MakeSkaterGoto PedKnockDown
#01926      Obj_ClearExceptions
#01927      Wait 1 second
#01928      GotoPreserveParams CPF_Ped_Terrorist_Running
#01929    END IF
#01930    Obj_ClearExceptions
#01931    Obj_SetInnerRadius 0
#01933    Obj_PlayAnim Anim = HitFromBack

#01934    SendFlag name = TRG_GO_TerroristCounter
          AP_TERRORIST_HIT
#01935    SendFlag name = TRG_GO_TerroristCounter
          AP_TERROR_HIT
#01936    IF Obj_FlagSet AP_TERRORIST_01
#01937      SendFlag name = TRG_GO_TerroristCounter
            AP_TERRORIST_01
#01938    END IF
#01939    IF Obj_FlagSet AP_TERRORIST_02
#01940      SendFlag name = TRG_GO_TerroristCounter
            AP_TERRORIST_02
#01941    END IF
#01942    IF Obj_FlagSet AP_TERRORIST_03
#01943      SendFlag name = TRG_GO_TerroristCounter
            AP_TERRORIST_03
#01944    END IF
#01945    IF Obj_FlagSet AP_TERRORIST_04
#01946      SendFlag name = TRG_GO_TerroristCounter
            AP_TERRORIST_04
#01947    END IF
#01948    IF Obj_FlagSet AP_TERRORIST_05
#01949      SendFlag name = TRG_GO_TerroristCounter
            AP_TERRORIST_05
#01950    END IF
#01951    PlaySound bail04
#01952    PlaySound goaldone
#01953    Obj_WaitAnimFinished
#01954    Obj_StopAlongPath
#01955    LOOP
#01956      Wait RANDOM[3][8; 14; 20]
            10 JUMP 0x0f000000 30 JUMP 0x05000000 90 frames
#01957      Obj_PlayAnim Anim = HitFromBack
            from = 86
            to = 80

#01958      Obj_WaitAnimFinished
#01959      Obj_PlayAnim Anim = HitFromBack
            from = 81
            to = 86

#01960      Obj_WaitAnimFinished
#01961    END LOOP
#01962  END FUNCTION

#01963  FUNCTION CPF_Ped_Terrorist_KnockPlayer
#01965    Obj_SetInnerRadius 0
#01966    Obj_PlaySound bail04 Vol = 200

#01967    Obj_PlaySound bail05 Vol = 200

#01968    MakeSkaterGoto PedKnockDown
#01969    Obj_WaitAnimFinished
#01970    Goto CPF_Ped_Terrorist_Running
#01971  END FUNCTION

#01972  FUNCTION CPF_AP_FLAG_COUNTER
#01974    PlaySound ap_ripflag pitch = RANDOM[6][20; 26; 32; 38; 44; 50]

          80 JUMP 0x2d000000 100 JUMP 0x23000000 120 JUMP 0x19000000 130 JUMP 0x0f000000 140 JUMP 0x05000000 150
#01975    IF GotParam USA
#01976      IF InMultiplayerGame
#01977      ELSE
#01978        LaunchLocalMessage id = country
              "Don't Mess with Texas" panel_message_secondarypickup
#01979      END IF
#01980      StartGap GapID = AP_Flag1

#01981      Wait 1 frame
#01982      EndGap GapID = AP_Flag1
            text = "American Made"
            score = 50

#01983      IF IsCareerMode
#01984        IF GetGoal goal = GOAL_SCRIPTED3

#01985        ELSE
#01986          IF QueryFlag AP_FLAG_USA name = TRG_FlagCounter

#01987            LaunchLocalMessage id = country
                  "Already been to USA" panel_message_secondarypickup
#01988          ELSE
#01989            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#01990            Wait 1 frame
#01991            SendFlag name = TRG_FlagCounter
                  AP_FLAG_USA
#01992          END IF
#01993        END IF
#01994      END IF
#01995    END IF
#01996    IF GotParam UK
#01997      IF InMultiplayerGame
#01998      ELSE
#01999        LaunchLocalMessage id = country
              "Football? Soccer?" panel_message_secondarypickup
#02000      END IF
#02001      StartGap GapID = AP_Flag2

#02002      Wait 1 frame
#02003      EndGap GapID = AP_Flag2
            text = "Tea Time"
            score = 50

#02004      IF IsCareerMode
#02005        IF GetGoal goal = GOAL_SCRIPTED3

#02006        ELSE
#02007          IF QueryFlag AP_FLAG_UK name = TRG_FlagCounter

#02008            LaunchLocalMessage id = country
                  "Already been to the UK" panel_message_secondarypickup
#02009          ELSE
#02010            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#02011            Wait 1 frame
#02012            SendFlag name = TRG_FlagCounter
                  AP_FLAG_UK
#02013          END IF
#02014        END IF
#02015      END IF
#02016    END IF
#02017    IF GotParam Russia
#02018      IF InMultiplayerGame
#02019      ELSE
#02020        LaunchLocalMessage id = country
              "Welcome to Mother Russia" panel_message_secondarypickup
#02021      END IF
#02022      StartGap GapID = AP_Flag3

#02023      Wait 1 frame
#02024      EndGap GapID = AP_Flag3
            text = "Zdrasvuite!"
            score = 50

#02025      IF IsCareerMode
#02026        IF GetGoal goal = GOAL_SCRIPTED3

#02027        ELSE
#02028          IF QueryFlag AP_FLAG_RUSSIA name = TRG_FlagCounter

#02029            LaunchLocalMessage id = country
                  "Already been to Russia" panel_message_secondarypickup
#02030          ELSE
#02031            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#02032            Wait 1 frame
#02033            SendFlag name = TRG_FlagCounter
                  AP_FLAG_RUSSIA
#02034          END IF
#02035        END IF
#02036      END IF
#02037    END IF
#02038    IF GotParam Mexico
#02039      IF InMultiplayerGame
#02040      ELSE
#02041        LaunchLocalMessage id = country
              "South of the Border!" panel_message_secondarypickup
#02042      END IF
#02043      StartGap GapID = AP_Flag4

#02044      Wait 1 frame
#02045      EndGap GapID = AP_Flag4
            text = "HOLA!"
            score = 50

#02046      IF IsCareerMode
#02047        IF GetGoal goal = GOAL_SCRIPTED3

#02048        ELSE
#02049          IF QueryFlag AP_FLAG_MEXICO name = TRG_FlagCounter

#02050            LaunchLocalMessage id = country
                  "Already been to Mexico" panel_message_secondarypickup
#02051          ELSE
#02052            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#02053            Wait 1 frame
#02054            SendFlag name = TRG_FlagCounter
                  AP_FLAG_MEXICO
#02055          END IF
#02056        END IF
#02057      END IF
#02058    END IF
#02059    IF GotParam France
#02060      IF InMultiplayerGame
#02061      ELSE
#02062        LaunchLocalMessage id = country
              "Mon Dieu!" panel_message_secondarypickup
#02063      END IF
#02064      StartGap GapID = AP_Flag5

#02065      Wait 1 frame
#02066      EndGap GapID = AP_Flag5
            text = "Parlez-Vous Skate?"
            score = 50

#02067      IF IsCareerMode
#02068        IF GetGoal goal = GOAL_SCRIPTED3

#02069        ELSE
#02070          IF QueryFlag AP_FLAG_FRANCE name = TRG_FlagCounter

#02071            LaunchLocalMessage id = country
                  "Already been to France" panel_message_secondarypickup
#02072          ELSE
#02073            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#02074            Wait 1 frame
#02075            SendFlag name = TRG_FlagCounter
                  AP_FLAG_FRANCE
#02076          END IF
#02077        END IF
#02078      END IF
#02079    END IF
#02080    IF GotParam Chad
#02081      IF InMultiplayerGame
#02082      ELSE
#02083        LaunchLocalMessage id = country
              "Republique du Tchad" panel_message_secondarypickup
#02084      END IF
#02085      StartGap GapID = AP_Flag6

#02086      Wait 1 frame
#02087      EndGap GapID = AP_Flag6
            text = "Golden!"
            score = 50

#02088      IF IsCareerMode
#02089        IF GetGoal goal = GOAL_SCRIPTED3

#02090        ELSE
#02091          IF QueryFlag AP_FLAG_CHAD name = TRG_FlagCounter

#02092            LaunchLocalMessage id = country
                  "Already been to Chad" panel_message_secondarypickup
#02093          ELSE
#02094            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#02095            Wait 1 frame
#02096            SendFlag name = TRG_FlagCounter
                  AP_FLAG_CHAD
#02097          END IF
#02098        END IF
#02099      END IF
#02100    END IF
#02101    IF GotParam Canada
#02102      IF InMultiplayerGame
#02103      ELSE
#02104        LaunchLocalMessage id = country
              "Bonjour, eh?" panel_message_secondarypickup
#02105      END IF
#02106      StartGap GapID = AP_Flag7

#02107      Wait 1 frame
#02108      EndGap GapID = AP_Flag7
            text = "Welcome, eh?"
            score = 50

#02109      IF IsCareerMode
#02110        IF GetGoal goal = GOAL_SCRIPTED3

#02111        ELSE
#02112          IF QueryFlag AP_FLAG_CANADA name = TRG_FlagCounter

#02113            LaunchLocalMessage id = country
                  "Already been to Canada" panel_message_secondarypickup
#02114          ELSE
#02115            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#02116            Wait 1 frame
#02117            SendFlag name = TRG_FlagCounter
                  AP_FLAG_CANADA
#02118          END IF
#02119        END IF
#02120      END IF
#02121    END IF
#02122    IF GotParam Bermuda
#02123      IF InMultiplayerGame
#02124      ELSE
#02125        LaunchLocalMessage id = country
              "Where are we?" panel_message_secondarypickup
#02126      END IF
#02127      StartGap GapID = AP_Flag8

#02128      Wait 1 frame
#02129      EndGap GapID = AP_Flag8
            text = "Welcom to the Triangle"
            score = 50

#02130      IF IsCareerMode
#02131        IF GetGoal goal = GOAL_SCRIPTED3

#02132        ELSE
#02133          IF QueryFlag AP_FLAG_BERMUDA name = TRG_FlagCounter

#02134            LaunchLocalMessage id = country
                  "Already been to Bermuda" panel_message_secondarypickup
#02135          ELSE
#02136            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#02137            Wait 1 frame
#02138            SendFlag name = TRG_FlagCounter
                  AP_FLAG_BERMUDA
#02139          END IF
#02140        END IF
#02141      END IF
#02142    END IF
#02143    IF GotParam Bahamas
#02144      IF InMultiplayerGame
#02145      ELSE
#02146        LaunchLocalMessage id = country
              "Bahamas... beautiful" panel_message_secondarypickup
#02147      END IF
#02148      StartGap GapID = AP_Flag9

#02149      Wait 1 frame
#02150      EndGap GapID = AP_Flag9
            text = "Country of 700 islands"
            score = 50

#02151      IF IsCareerMode
#02152        IF GetGoal goal = GOAL_SCRIPTED3

#02153        ELSE
#02154          IF QueryFlag AP_FLAG_BAHAMAS name = TRG_FlagCounter

#02155            LaunchLocalMessage id = country
                  "Already been to the Bahamas" panel_message_secondarypickup
#02156          ELSE
#02157            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#02158            Wait 1 frame
#02159            SendFlag name = TRG_FlagCounter
                  AP_FLAG_BAHAMAS
#02160          END IF
#02161        END IF
#02162      END IF
#02163    END IF
#02164    IF GotParam Aussie
#02165      IF InMultiplayerGame
#02166      ELSE
#02167        LaunchLocalMessage id = country
              "Australian for |Kick Ass Game, mate!" panel_message_secondarypickup
#02168      END IF
#02169      StartGap GapID = AP_Flag10

#02170      Wait 1 frame
#02171      EndGap GapID = AP_Flag10
            text = "G'Day"
            score = 50

#02172      IF IsCareerMode
#02173        IF GetGoal goal = GOAL_SCRIPTED3

#02174        ELSE
#02175          IF QueryFlag AP_FLAG_AUSSIE name = TRG_FlagCounter

#02176            LaunchLocalMessage id = country
                  "Already been to Australia" panel_message_secondarypickup
#02177          ELSE
#02178            SendFlag name = TRG_FlagCounter
                  AP_FLAGS_HIT
#02179            Wait 1 frame
#02180            SendFlag name = TRG_FlagCounter
                  AP_FLAG_AUSSIE
#02181          END IF
#02182        END IF
#02183      END IF
#02184    END IF
#02185  END FUNCTION

#02187  LA_QUAKE_DONE = 21

#02190  AP_TERRORIST_HIT = 0

#02191  AP_GUNSHIP_HIT = 1

#02192  AP_TERROR_HIT = 2

#02193  AP_TERRORIST_01 = 11

#02194  AP_TERRORIST_02 = 12

#02195  AP_TERRORIST_03 = 13

#02196  AP_TERRORIST_04 = 14

#02197  AP_TERRORIST_05 = 15

#02198  AP_FLAG_USA = 16

#02199  AP_FLAG_UK = 17

#02200  AP_FLAG_CHAD = 18

#02201  AP_FLAG_RUSSIA = 19

#02202  AP_FLAG_FRANCE = 20

#02203  AP_FLAG_BERMUDA = 21

#02204  AP_FLAG_AUSSIE = 22

#02205  AP_FLAG_BAHAMAS = 23

#02206  AP_FLAG_CANADA = 24

#02207  AP_FLAG_MEXICO = 25

#02208  FUNCTION CPF_AP_TerroristCounter
#02210    IF IsCareerMode
#02211      IF GetGoal goal = GOAL_SCRIPTED2

#02212        Die
#02213      ELSE
#02214        Obj_VarSet var = 0
              value = 0

#02215        LOOP
#02216          IF Obj_FlagSet AP_TERRORIST_HIT
#02218            Obj_ClearFlag AP_TERRORIST_HIT
#02219            IF Obj_FlagSet AP_TERROR_HIT
#02220              Obj_ClearFlag AP_TERROR_HIT
#02221              Obj_VarInc var = 0

#02222              IF Obj_VarEQ var = 0
                      value = 1

#02223                LaunchPanelMessage "1 of 5 PickPockets Stopped"
#02224              END IF
#02225              IF Obj_VarEQ var = 0
                      value = 2

#02226                LaunchPanelMessage "2 of 5 PickPockets Stopped"
#02227              END IF
#02228              IF Obj_VarEQ var = 0
                      value = 3

#02229                LaunchPanelMessage "3 of 5 PickPockets Stopped"
#02230              END IF
#02231              IF Obj_VarEQ var = 0
                      value = 4

#02232                LaunchPanelMessage "4 of 5 PickPockets Stopped"
#02233              END IF
#02234              IF Obj_VarEQ var = 0
                      value = 5

#02235                LaunchPanelMessage "5 of 5 PickPockets Stopped"
#02236                Wait 10 frames
#02238                Got_Scripted2
#02239              END IF
#02243            ELSE
#02244              IF Obj_FlagSet AP_GUNSHIP_HIT
#02246                IF Obj_VarEQ var = 0
                        value = 5

#02247                  PlayStream AP_TerHelo1
#02249                  Wait 10 frames
#02250                ELSE
#02252                  PlayStream AP_TerHelo2
#02253                END IF
#02256              END IF
#02257            END IF
#02258          END IF
#02259          Wait 2 frames
#02260        END LOOP
#02261      END IF
#02262    END IF
#02263  END FUNCTION

#02264  AP_FLAGS_HIT = 0

#02266  FUNCTION CPF_AP_FlagCounter
#02268    IF IsCareerMode
#02269      IF GetGoal goal = GOAL_SCRIPTED3

#02270        Die
#02271      ELSE
#02272        Obj_VarSet var = 0
              value = 0

#02273        LOOP
#02274          IF Obj_FlagSet AP_FLAGS_HIT
#02276            Obj_ClearFlag AP_FLAGS_HIT
#02277            Obj_VarInc var = 0

#02278            IF Obj_VarEQ var = 0
                    value = 1

#02279              LaunchPanelMessage "1 of 10 Countries Visited"
#02280            END IF
#02281            IF Obj_VarEQ var = 0
                    value = 2

#02282              LaunchPanelMessage "2 of 10 Countries Visited"
#02283            END IF
#02284            IF Obj_VarEQ var = 0
                    value = 3

#02285              LaunchPanelMessage "3 of 10 Countries Visited"
#02286            END IF
#02287            IF Obj_VarEQ var = 0
                    value = 4

#02288              LaunchPanelMessage "4 of 10 Countries Visited"
#02289            END IF
#02290            IF Obj_VarEQ var = 0
                    value = 5

#02291              LaunchPanelMessage "5 of 10 Countries Visited"
#02292            END IF
#02293            IF Obj_VarEQ var = 0
                    value = 6

#02294              LaunchPanelMessage "6 of 10 Countries Visited"
#02295            END IF
#02296            IF Obj_VarEQ var = 0
                    value = 7

#02297              LaunchPanelMessage "7 of 10 Countries Visited"
#02298            END IF
#02299            IF Obj_VarEQ var = 0
                    value = 8

#02300              LaunchPanelMessage "8 of 10 Countries Visited"
#02301            END IF
#02302            IF Obj_VarEQ var = 0
                    value = 9

#02303              LaunchPanelMessage "9 of 10 Countries Visited"
#02304            END IF
#02305            IF Obj_VarEQ var = 0
                    value = 10

#02306              LaunchPanelMessage "10 of 10 Countries Visited"
#02307              Wait 40 frames
#02308              LaunchPanelMessage " "
#02309              Got_Scripted3
#02310            END IF
#02311          END IF
#02312          Wait 2 frames
#02313        END LOOP
#02314      END IF
#02315    END IF
#02316  END FUNCTION

#02317  FUNCTION CPF_PedTest
#02321    Obj_SetGroundOffset 3.1 feet
#02323    Obj_StickToGround distAbove = 3
          distBelow = 6

#02324    Obj_SetPathTurnDist 2.5 feet
#02325    Obj_PathHeading On
#02326    Obj_SetPathVelocity 5 fps
#02327    LOOP
#02328      Obj_FollowPath name = TRG_LA_Pedestrian_Nav01

#02329      Obj_WaitMove
#02330      Obj_FollowPath name = TRG_LA_Pedestrian_Nav03

#02331      Obj_WaitMove
#02332    END LOOP
#02333  END FUNCTION

#02339  FUNCTION CPF_Ped_Sidewalk
#02342    Obj_AutoAnimate
#02344    Obj_SetGroundOffset 3.1 feet
#02345    Obj_StickToGround distAbove = 3
          distBelow = 6

#02346    Obj_SetPathTurnDist 2.5 feet
#02347    Obj_PathHeading On
#02348    Obj_SetPathVelocity 5 fps
#02349    LOOP
#02350      Obj_FollowPath name = TRG_LA_Pedestrian_Nav05

#02351      Obj_WaitMove
#02352      Obj_FollowPath name = TRG_LA_Pedestrian_Nav07

#02353      Obj_WaitMove
#02354    END LOOP
#02355  END FUNCTION

#02365  FUNCTION CPF_Ped_Pershing1
#02368    Obj_AutoAnimate
#02370    Obj_SetGroundOffset 3.1 feet
#02371    Obj_StickToGround distAbove = 3
          distBelow = 6

#02372    Obj_SetPathTurnDist 2.5 feet
#02373    Obj_PathHeading On
#02374    Obj_SetPathVelocity 5 fps
#02375    LOOP
#02376      Obj_FollowPath name = TRG_LA_Pedestrian_Nav09

#02377      Obj_WaitMove
#02378    END LOOP
#02379  END FUNCTION

#02382  FUNCTION CPF_Ped_Pershing2
#02385  END FUNCTION

#02389  FUNCTION CPF_Ped_Library1
#02391    Obj_AutoAnimate
#02393    Obj_SetGroundOffset 3.1 feet
#02394    Obj_StickToGround distAbove = 3
          distBelow = 6

#02395    Obj_SetPathTurnDist 2.5 feet
#02396    Obj_PathHeading On
#02397    Obj_SetPathVelocity 5 fps
#02398    LOOP
#02399      Obj_FollowPath name = TRG_LA_Pedestrian_Nav16

#02400      Obj_WaitMove
#02401      Obj_FollowPath name = TRG_LA_Pedestrian_Nav18

#02402      Obj_WaitMove
#02403    END LOOP
#02404  END FUNCTION

#02414  FUNCTION CPF_Ped_CarWash1
#02416    Obj_AutoAnimate
#02418    Obj_SetGroundOffset 3.1 feet
#02419    Obj_StickToGround distAbove = 3
          distBelow = 6

#02420    Obj_SetPathTurnDist 2.5 feet
#02421    Obj_PathHeading On
#02422    Obj_SetPathVelocity 5 fps
#02423    Obj_FollowPathLinked
#02424  END FUNCTION

#02425  FUNCTION CPF_Ped_Airport1
#02427    Obj_AutoAnimate
#02429    Obj_SetGroundOffset 3.1 feet
#02430    Obj_StickToGround distAbove = 3
          distBelow = 6

#02431    Obj_SetPathTurnDist 2.5 feet
#02432    Obj_PathHeading On
#02433    Obj_SetPathVelocity 5 fps
#02434    LOOP
#02435      Obj_FollowPath name = TRG_LA_Pedestrian_Nav01

#02436      Obj_WaitMove
#02437      Obj_FollowPath name = TRG_LA_Pedestrian_Nav07

#02438      Obj_WaitMove
#02439      Obj_FollowPath name = TRG_LA_Pedestrian_Nav05

#02440      Obj_WaitMove
#02441    END LOOP
#02442  END FUNCTION

#02457  SKATER_IN_WAY_OF_STOP = 0

#02463  BULLET_HIT = 1

#02464  FUNCTION CPF_CarGeneric
#02467    Obj_SetGroundOffset 0 feet
#02469    Obj_StickToGround distAbove = 6
          distBelow = 6

#02470    Obj_StickToGround off
#02471    Obj_SetConstantHeight
#02472    Obj_SetPathTurnDist 10 feet
#02473    Obj_PathHeading On
#02474    Obj_SetPathAcceleration 65 fpsps
#02475    Obj_SetPathDeceleration 90 fpsps
#02476    Obj_SetPathVelocity 45 fps
#02477    Obj_FollowPathLinked
#02479  END FUNCTION

#02480  FUNCTION CPF_CarGenericTest
#02482    LOOP
#02483      IF Obj_ObjectInRect dist = 40
              type = skater

#02484        Obj_PlaySound carhorn Vol = 100

#02487        Wait 2 seconds
#02488      ELSE
#02489      END IF
#02490      Wait 1 frame
#02491    END LOOP
#02492  END FUNCTION

#02493  FUNCTION CPF_Car_Overpass
#02495    Obj_StickToGround off
#02499    Obj_SetConstantHeight
#02500    Obj_SetPathTurnDist 10 feet
#02501    Obj_PathHeading On
#02502    Obj_SetPathAcceleration 165 fpsps
#02503    Obj_SetPathDeceleration 90 fpsps
#02504    Obj_SetPathVelocity 85 fps
#02505    Obj_FollowPathLinked
#02508  END FUNCTION

#02509  FUNCTION CPF_CarGenericStop1
#02511    Obj_FollowPathLinked
#02514    Wait 1 second
#02515    Obj_SwitchScript CPF_CarStop1_Moving
#02516  END FUNCTION

#02517  FUNCTION CPF_CarStop1_Moving
#02519    LOOP
#02520      IF Obj_ObjectInRect dist = 40
              type = skater

#02522        SendFlag prefix = "TRG_Car_Stop1"
              SKATER_IN_WAY_OF_STOP
#02525        Obj_StopAlongPath 5
#02527        Obj_PlaySound LA_Skid Vol = 100

#02530        Obj_PlaySound carhorn Vol = 100

#02531        Obj_SwitchScript CPF_CarStop1_StoppedByPlayer
#02533      ELSE
#02534        Wait 1 frame
#02535      END IF
#02536      IF Obj_FlagSet SKATER_IN_WAY_OF_STOP clear
#02538        Obj_StopAlongPath
#02539        Obj_SwitchScript CPF_CarStop1_StoppedByOther
#02541      ELSE
#02542        Wait 1 frame
#02543      END IF
#02544      Wait 1 frame
#02545    END LOOP
#02546  END FUNCTION

#02547  FUNCTION CPF_CarStop1_StoppedByPlayer
#02549    LOOP
#02551      IF Obj_ObjectInRect dist = 40
              type = skater

#02552        SendFlag prefix = "TRG_Car_Stop1"
              SKATER_IN_WAY_OF_STOP
#02554      ELSE
#02555        Wait 1 frame
#02557        Obj_StartAlongPath
#02558        ClearFlag prefix = "TRG_Car_Stop1"
              SKATER_IN_WAY_OF_STOP
#02559        Obj_SwitchScript CPF_CarStop1_Moving
#02560      END IF
#02561      Wait 1 frame
#02562    END LOOP
#02563  END FUNCTION

#02564  FUNCTION CPF_CarStop1_StoppedByOther
#02568    LOOP
#02570      IF Obj_FlagSet SKATER_IN_WAY_OF_STOP
#02571        Obj_SwitchScript CPF_CarStop1_Moving
#02572      ELSE
#02573        Wait 1 frame
#02575        Obj_StartAlongPath
#02576        Obj_SwitchScript CPF_CarStop1_Moving
#02577      END IF
#02578      Wait 1 frame
#02579    END LOOP
#02580  END FUNCTION

#02581  FUNCTION CPF_CarGenericStop2
#02584    Obj_FollowPathLinked
#02587    Wait 1 second
#02588    Obj_SwitchScript CPF_CarStop2_Moving
#02589  END FUNCTION

#02590  FUNCTION CPF_CarStop2_Moving
#02592    LOOP
#02593      IF Obj_ObjectInRect dist = 40
              type = skater

#02595        SendFlag prefix = "TRG_Car_Stop1"
              SKATER_IN_WAY_OF_STOP
#02598        Obj_StopAlongPath 5
#02600        Obj_PlaySound LA_Skid Vol = 100

#02603        Obj_PlaySound carhorn Vol = 100

#02604        Obj_SwitchScript CPF_CarStop2_StoppedByPlayer
#02606      ELSE
#02607        Wait 1 frame
#02608      END IF
#02609      IF Obj_FlagSet SKATER_IN_WAY_OF_STOP clear
#02611        Obj_StopAlongPath
#02612        Obj_SwitchScript CPF_CarStop2_StoppedByOther
#02614      ELSE
#02615        Wait 1 frame
#02616      END IF
#02617      Wait 1 frame
#02618    END LOOP
#02619  END FUNCTION

#02620  FUNCTION CPF_CarStop2_StoppedByPlayer
#02622    LOOP
#02624      IF Obj_ObjectInRect dist = 40
              type = skater

#02625        SendFlag prefix = "TRG_Car_Stop2"
              SKATER_IN_WAY_OF_STOP
#02627      ELSE
#02628        Wait 1 frame
#02630        Obj_StartAlongPath
#02631        ClearFlag prefix = "TRG_Car_Stop2"
              SKATER_IN_WAY_OF_STOP
#02632        Obj_SwitchScript CPF_CarStop1_Moving
#02633      END IF
#02634      Wait 1 frame
#02635    END LOOP
#02636  END FUNCTION

#02637  FUNCTION CPF_CarStop2_StoppedByOther
#02641    LOOP
#02643      IF Obj_FlagSet SKATER_IN_WAY_OF_STOP
#02644        Obj_SwitchScript CPF_CarStop1_Moving
#02645      ELSE
#02646        Wait 1 frame
#02648        Obj_StartAlongPath
#02649        Obj_SwitchScript CPF_CarStop2_Moving
#02650      END IF
#02651      Wait 1 frame
#02652    END LOOP
#02653  END FUNCTION

#02654  FUNCTION CPF_Car_Police
#02657    IF IsCareerMode
#02659    ELSE
#02660      Die
#02661    END IF
#02662    Obj_SetGroundOffset 0.1
#02663    Obj_StickToGround distAbove = 6
          distBelow = 6

#02664    Obj_SetPathTurnDist 10 feet
#02665    Obj_PathHeading On
#02666    Obj_SetPathVelocity 75 fps
#02667    Obj_SetPathAcceleration 0 fpsps
#02668    Obj_FollowPathLinked
#02670    Wait RANDOM[3][8; 19; 30]
          1 frame JUMP 0x19000000 5 frames JUMP 0x0a000000 10 frames
#02671    LOOP
#02672      IF Obj_ObjectInRadius radius = 20
              feet type = skater

#02673        RANDOM[2][4; 15]
              Obj_PlaySound carhorn JUMP 0x0a000000 PlayStream la_new01
#02674        Wait 2 seconds
#02675      ELSE
#02676      END IF
#02677      Obj_PlaySound RANDOM[2][4; 10]
            ambulance2nl JUMP 0x05000000 ambulance3nl Vol = 70

#02678      Wait 37 frames
#02679    END LOOP
#02680  END FUNCTION

#02681  FUNCTION CPF_Car_Looter
#02683    IF IsCareerMode
#02685    ELSE
#02686      Die
#02687    END IF
#02688    Obj_SetGroundOffset 0.1
#02689    Obj_StickToGround distAbove = 6
          distBelow = 6

#02690    Obj_SetPathTurnDist 10 feet
#02691    Obj_PathHeading On
#02692    Obj_SetPathVelocity 75 fps
#02693    Obj_SetPathAcceleration 0 fpsps
#02694    Obj_FollowPathLinked
#02696    LOOP
#02697      IF Obj_ObjectInRadius radius = 10
              feet type = skater

#02698        Obj_PlaySound RANDOM[1][0]
              carhorn Vol = 200

#02699        Wait 2 seconds
#02700      ELSE
#02701      END IF
#02702      Wait 17 frames
#02703    END LOOP
#02704  END FUNCTION

#02705  FUNCTION CPF_Car_Looter01
#02707    Obj_SetGroundOffset 0.1
#02709    Obj_StickToGround distAbove = 6
          distBelow = 6

#02710    Obj_StickToGround off
#02711    Obj_SetConstantHeight
#02712    Obj_SetPathTurnDist 10 feet
#02713    Obj_PathHeading On
#02714    Obj_SetPathAcceleration 100 fpsps
#02715    Obj_SetPathDeceleration 100 fpsps
#02716    Obj_SetPathVelocity 95 fps
#02717    Wait 0.3 seconds
#02719    Obj_FollowPathLinked
#02720    Wait 3.0 seconds
#02721    Obj_PathHeading off
#02722    Obj_PlaySound LA_Skid Vol = 200
          dropoff = 300

#02723    Obj_Rotate relative = VECTOR[0.0; -90.0; 0.0]
          time = 0.5

#02724    Wait 2 seconds
#02725    Create name = Gun_Looter

#02726    LOOP
#02727      RANDOM[8][33; 54; 75; 96; 117; 138; 159; 180]

#02728      Wait 1 frame
#02729      JUMP 0xaa000000 Wait 1 frame
#02730      JUMP 0x91000000 Wait 1 frame
#02731      JUMP 0x78000000 Wait 1 frame
#02732      JUMP 0x5f000000 Wait 1 frame
#02733      JUMP 0x46000000 Wait 1 frame
#02734      JUMP 0x2d000000 Wait 0.6 seconds
#02735      JUMP 0x14000000 Wait 0.8 seconds
#02736
#02737      Obj_Rotate relative = VECTOR[0.0; 0.0; -1.0]
            time = 0.01

#02738      Create name = MuzzleFlash

#02739      Obj_PlaySound la_gunshots2 Vol = 200
            dropoff = 300

#02740      Wait 3 frames
#02741      Kill name = MuzzleFlash

#02742      SendFlag name = TRG_Cutscene_Police02
            BULLET_HIT
#02743      RANDOM[4][17; 80; 143; 206]

#02744      Create name = BulletPing01

#02745      Wait 2 frames
#02746      Kill name = BulletPing01

#02747      JUMP 0xc4000000 Create name = BulletPing02

#02748      Wait 2 frames
#02749      Kill name = BulletPing02

#02750      JUMP 0x81000000 Create name = BulletPing04

#02751      Wait 2 frames
#02752      Kill name = BulletPing04

#02753      JUMP 0x3e000000 Create name = BulletPing05

#02754      Wait 2 frames
#02755      Kill name = BulletPing05

#02756
#02757      Obj_Rotate relative = VECTOR[0.0; 0.0; 1.0]
            time = 0.01

#02758    END LOOP
#02759  END FUNCTION

#02760  FUNCTION CPF_LA_Looter_Dead
#02762  END FUNCTION

#02763  FUNCTION CPF_LA_policecutscene
#02765    Obj_SetGroundOffset -0.102
#02766    Obj_StickToGround distAbove = 6
          distBelow = 6

#02767    Obj_StickToGround off
#02768    Obj_SetConstantHeight
#02769    Obj_SetPathTurnDist 10 feet
#02770    Obj_PathHeading On
#02771    Obj_SetPathAcceleration 100 fpsps
#02772    Obj_SetPathDeceleration 100 fpsps
#02773    Obj_SetPathVelocity 95 fps
#02774    Wait 2.8 seconds
#02776    Obj_FollowPathLinked
#02777    Wait 1.9 seconds
#02778    Obj_PathHeading off
#02779    Obj_PlaySound LA_Skid Vol = 200
          dropoff = 300

#02780    Obj_Rotate relative = VECTOR[0.0; -130.0; 0.0]
          time = 0.5

#02781  END FUNCTION

#02782  FUNCTION CPF_LA_policecutscene2
#02784    Obj_SetGroundOffset -0.102
#02785    Obj_StickToGround distAbove = 6
          distBelow = 6

#02786    Obj_StickToGround off
#02787    Obj_SetConstantHeight
#02788    Obj_SetPathTurnDist 10 feet
#02789    Obj_PathHeading On
#02790    Obj_SetPathAcceleration 100 fpsps
#02791    Obj_SetPathDeceleration 100 fpsps
#02792    Obj_SetPathVelocity 95 fps
#02793    Wait 2.3 seconds
#02795    Obj_FollowPathLinked
#02796    Wait 2.1 seconds
#02797    Obj_PathHeading off
#02798    Obj_Rotate relative = VECTOR[0.0; 40.0; 0.0]
          time = 0.3

#02799    Wait 0.2 seconds
#02800    Obj_PlaySound LA_Skid Vol = 200
          dropoff = 400

#02801    Wait 1 second
#02802    LOOP
#02803      IF Obj_FlagSet BULLET_HIT clear
#02804        Obj_Rotate relative = VECTOR[0.0; 0.0; -1.0]
              time = 0.01

#02805        Obj_PlaySound RANDOM[2][4; 10]
              ricco1 JUMP 0x05000000 ricco2 Vol = 200
              dropoff = 300

#02806        Wait 1 frame
#02807        Obj_Rotate relative = VECTOR[0.0; 0.0; 1.0]
              time = 0.01

#02808      END IF
#02809      Wait 1 frame
#02810    END LOOP
#02811  END FUNCTION

#02812  FUNCTION CPF_Car_Cutscene
#02814    Obj_SetGroundOffset 1 inch
#02816    Obj_StickToGround distAbove = 6
          distBelow = 6

#02817    Obj_SetPathTurnDist 10 feet
#02818    Obj_PathHeading off
#02819    Obj_SetPathVelocity 75 fps
#02820    Obj_SetPathAcceleration 80 fpsps
#02821    Obj_FollowPathLinked
#02824    Obj_PathHeading On
#02826    Obj_WaitMove
#02827    Die
#02828  END FUNCTION

#02829  FUNCTION CPF_AP_Kart1
#02831    Obj_PlaySound la_carwash_brushes1 pitch = 155
          volume = 100

#02833    Obj_SetGroundOffset 0.1 feet
#02834    Obj_StickToGround distAbove = 6
          distBelow = 6

#02835    Obj_StickToGround off
#02836    Obj_SetConstantHeight
#02837    Obj_SetPathTurnDist 10 feet
#02838    Obj_PathHeading On
#02839    Obj_SetPathAcceleration 10 fpsps
#02840    Obj_SetPathDeceleration 20 fpsps
#02841    Obj_SetPathVelocity 25 fps
#02842    Obj_FollowPathLinked
#02843    LOOP
#02844      IF Obj_ObjectInRect dist = 10
              width = 10
              type = ped
              offset = VECTOR[0.0; 0.0; 10.0]

#02845        Obj_StopAlongPath
#02847        RANDOM[2][4; 42]
              Obj_PlaySound carhorn pitch = 110
              volume = 200

#02848        JUMP 0xdb000000 PlayStream RANDOM[11][40; 51; 62; 73; 84; 95; 106; 117; 128; 139; 150]
              Ap_cart_new_01
#02849        JUMP 0x91000000 Ap_cart_new_02
#02850        JUMP 0x82000000 Ap_cart_new_03
#02851        JUMP 0x73000000 Ap_cart_new_04
#02852        JUMP 0x64000000 Ap_cart_new_05
#02853        JUMP 0x55000000 Ap_cart_new_06
#02854        JUMP 0x46000000 Ap_cart_new_07
#02855        JUMP 0x37000000 Ap_cart_new_08
#02856        JUMP 0x28000000 Ap_cart_new_09
#02857        JUMP 0x19000000 Ap_cart_new_10
#02858        JUMP 0x0a000000 Ap_cart_new_11
#02859
#02860
#02861        Wait 5 seconds
#02862        IF Obj_ObjectInRect dist = 30
                width = 15
                type = ped
                offset = VECTOR[0.0; 0.0; 10.0]

#02863          Obj_PlaySound carhorn pitch = 110
                volume = 200

#02864          Wait 10 frames
#02865          Obj_PlaySound carhorn pitch = 110
                volume = 200

#02866          Wait 5 seconds
#02867        ELSE
#02868          Obj_StartAlongPath
#02869        END IF
#02870      ELSE
#02871        Obj_StartAlongPath
#02872      END IF
#02873      IF Obj_ObjectInRect dist = 10
              width = 10
              type = skater
              offset = VECTOR[0.0; 0.0; 10.0]

#02874        Obj_StopAlongPath
#02876        RANDOM[2][4; 42]
              Obj_PlaySound carhorn pitch = 110
              volume = 200

#02877        JUMP 0xdb000000 PlayStream RANDOM[11][40; 51; 62; 73; 84; 95; 106; 117; 128; 139; 150]
              Ap_cart_new_01
#02878        JUMP 0x91000000 Ap_cart_new_02
#02879        JUMP 0x82000000 Ap_cart_new_03
#02880        JUMP 0x73000000 Ap_cart_new_04
#02881        JUMP 0x64000000 Ap_cart_new_05
#02882        JUMP 0x55000000 Ap_cart_new_06
#02883        JUMP 0x46000000 Ap_cart_new_07
#02884        JUMP 0x37000000 Ap_cart_new_08
#02885        JUMP 0x28000000 Ap_cart_new_09
#02886        JUMP 0x19000000 Ap_cart_new_10
#02887        JUMP 0x0a000000 Ap_cart_new_11
#02888
#02889
#02890        Wait 5 seconds
#02891        IF Obj_ObjectInRect dist = 30
                width = 15
                type = ped
                offset = VECTOR[0.0; 0.0; 10.0]

#02892          Obj_PlaySound carhorn pitch = 110
                volume = 200

#02893          Wait 10 frames
#02894          Obj_PlaySound carhorn pitch = 110
                volume = 200

#02895          Wait 5 seconds
#02896        ELSE
#02897          Obj_StartAlongPath
#02898        END IF
#02899      ELSE
#02900        Obj_StartAlongPath
#02901      END IF
#02902      Wait 5
#02903    END LOOP
#02904  END FUNCTION

#02905  FUNCTION CPF_AP_Kart2
#02907    Obj_SetGroundOffset 0.1 feet
#02909    Obj_StickToGround distAbove = 6
          distBelow = 6

#02910    Obj_StickToGround off
#02911    Obj_SetConstantHeight
#02912    Obj_PathHeading off
#02913    Obj_SetPathAcceleration 10 fpsps
#02914    Obj_SetPathDeceleration 20 fpsps
#02915    Obj_SetPathVelocity 25 fps
#02916    LOOP
#02918      IF Obj_ObjectInRect dist = 10
              width = 10
              type = ped
              offset = VECTOR[0.0; 0.0; 10.0]

#02919        Obj_StopAlongPath
#02921        Obj_PlaySound carhorn pitch = 110
              volume = 200

#02922        Wait 2 seconds
#02923        IF Obj_ObjectInRect dist = 30
                width = 15
                type = ped
                offset = VECTOR[0.0; 0.0; 10.0]

#02924          Obj_PlaySound carhorn pitch = 110
                volume = 200

#02925          Wait 10 frames
#02926          Obj_PlaySound carhorn pitch = 110
                volume = 200

#02927          Wait 2 seconds
#02928        ELSE
#02929          Obj_StartAlongPath
#02930        END IF
#02931      ELSE
#02932        Obj_StartAlongPath
#02933      END IF
#02934      Wait 5
#02935    END LOOP
#02936  END FUNCTION

#02937  FUNCTION Kart_Random_Sound
#02939    RANDOM[2][4; 42]
          Obj_PlaySound carhorn pitch = 110
          volume = 200

#02940    JUMP 0xdb000000 Obj_PlayStream RANDOM[11][40; 51; 62; 73; 84; 95; 106; 117; 128; 139; 150]
          Ap_cart_new_01
#02941    JUMP 0x91000000 Ap_cart_new_02
#02942    JUMP 0x82000000 Ap_cart_new_03
#02943    JUMP 0x73000000 Ap_cart_new_04
#02944    JUMP 0x64000000 Ap_cart_new_05
#02945    JUMP 0x55000000 Ap_cart_new_06
#02946    JUMP 0x46000000 Ap_cart_new_07
#02947    JUMP 0x37000000 Ap_cart_new_08
#02948    JUMP 0x28000000 Ap_cart_new_09
#02949    JUMP 0x19000000 Ap_cart_new_10
#02950    JUMP 0x0a000000 Ap_cart_new_11
#02951
#02952
#02953  END FUNCTION

#02954  FUNCTION CPF_AP_Kart_GoForward
#02956    Obj_WaitMove
#02957    Obj_WaitRotate
#02958    Obj_FollowPath name = TRG_Baggage_KartNav16

#02961    Obj_Rotate relative = VECTOR[0.0; 90.0; 0.0]
          time = 21

#02962  END FUNCTION

#02963  FUNCTION CPF_AP_Kart_GoBack
#02965    Obj_WaitMove
#02966    Obj_WaitRotate
#02967    Obj_FollowPath name = TRG_Baggage_KartNav01

#02970    Obj_Rotate relative = VECTOR[0.0; -90.0; 0.0]
          time = 21

#02971  END FUNCTION

#02972  FUNCTION CPF_AP_WavyFingers
#02974    LOOP
#02975      Obj_Rotate absolute = VECTOR[0.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02976      Wait 0.2 seconds
#02977      Obj_Rotate absolute = VECTOR[-4.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02978      Wait 0.2 seconds
#02979      Obj_Rotate absolute = VECTOR[-7.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02980      Wait 0.2 seconds
#02981      Obj_Rotate absolute = VECTOR[-8.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02982      Wait 0.2 seconds
#02983      Obj_Rotate absolute = VECTOR[-9.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02984      Wait 0.2 seconds
#02985      Obj_Rotate absolute = VECTOR[-9.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02986      Wait 0.2 seconds
#02987      Obj_Rotate absolute = VECTOR[-8.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02988      Wait 0.2 seconds
#02989      Obj_Rotate absolute = VECTOR[-7.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02990      Wait 0.2 seconds
#02991      Obj_Rotate absolute = VECTOR[-4.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02992      Wait 0.2 seconds
#02993      Obj_Rotate absolute = VECTOR[0.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02994      Wait 0.2 seconds
#02995      Obj_Rotate absolute = VECTOR[4.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02996      Wait 0.2 seconds
#02997      Obj_Rotate absolute = VECTOR[7.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#02998      Wait 0.2 seconds
#02999      Obj_Rotate absolute = VECTOR[8.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03000      Wait 0.2 seconds
#03001      Obj_Rotate absolute = VECTOR[9.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03002      Wait 0.2 seconds
#03003      Obj_Rotate absolute = VECTOR[9.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03004      Wait 0.2 seconds
#03005      Obj_Rotate absolute = VECTOR[8.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03006      Wait 0.2 seconds
#03007      Obj_Rotate absolute = VECTOR[7.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03008      Wait 0.2 seconds
#03009      Obj_Rotate absolute = VECTOR[4.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03010      Wait 0.2 seconds
#03011    END LOOP
#03012  END FUNCTION

#03013  FUNCTION CPF_AutoAccel
#03015    Obj_AdjustSound carloop volumePercent = 100
          volumeStep = 0.7
          pitchPercent = 100
          pitchStep = 0.7

#03017    Obj_SetPathVelocity 50 mph
#03018  END FUNCTION

#03019  FUNCTION CPF_AutoDecel
#03021    Obj_AdjustSound carloop volumePercent = 80
          volumeStep = 2
          pitchPercent = 50
          pitchStep = 1

#03023    Obj_SetPathVelocity 25
#03024  END FUNCTION

#03025  FUNCTION CPF_ChaseCarCheckDistance
#03027    Wait 10 gameframes
#03028    IF Obj_ObjectInRect dist = 40
            name = TRG_Looter_Car

#03029      Obj_SetPathVelocity 65 fps
#03031      Wait 20 gameframes
#03032      Obj_SetPathVelocity 75 fps
#03033    END IF
#03034    IF Obj_ObjectInRect dist = 20
            name = TRG_Police_Car02

#03035      Obj_SetPathVelocity 65 fps
#03037      Wait 20 gameframes
#03038      Obj_SetPathVelocity 75 fps
#03039    END IF
#03040  END FUNCTION

#03041  FUNCTION CPF_Chase180Left
#03043    Obj_PlaySound RANDOM[2][4; 10]
          Car_BrakeSqueal JUMP 0x05000000 LA_Skid RANDOM[4][12; 24; 36; 48]
          pitch = 50
          JUMP 0x2b000000 pitch = 80
          JUMP 0x1b000000 pitch = 100
          JUMP 0x0b000000 pitch = 130
          Vol = 50

#03045    Obj_PathHeading off
#03047    Obj_Rotate relative = VECTOR[0.0; 0.0; 90.0]
          time = 0.3
          FLAG_MAX_COORDS
#03048    Obj_WaitRotate
#03049    Obj_Rotate relative = VECTOR[0.0; 0.0; 120.0]
          time = 0.4
          FLAG_MAX_COORDS
#03050    Obj_WaitRotate
#03051    Obj_Rotate relative = VECTOR[0.0; 0.0; -40.0]
          time = 0.2
          FLAG_MAX_COORDS
#03052    Obj_WaitRotate
#03053    Obj_PlaySound RANDOM[2][4; 10]
          Car_BrakeSqueal JUMP 0x05000000 LA_Skid RANDOM[4][12; 24; 36; 48]
          pitch = 150
          JUMP 0x2b000000 pitch = 80
          JUMP 0x1b000000 pitch = 100
          JUMP 0x0b000000 pitch = 130
          Vol = 30

#03054    Obj_Rotate relative = VECTOR[0.0; 0.0; 15.0]
          time = 0.1
          FLAG_MAX_COORDS
#03055    Obj_WaitRotate
#03056    Obj_Rotate relative = VECTOR[0.0; 0.0; -5.0]
          time = 0.1
          FLAG_MAX_COORDS
#03057    Obj_WaitRotate
#03058    Obj_PathHeading On
#03059    Obj_SetPathVelocity 75 mph
#03060  END FUNCTION

#03061  FUNCTION CPF_ChaseTurnRight
#03063    Obj_PlaySound RANDOM[2][4; 10]
          Car_BrakeSqueal JUMP 0x05000000 LA_Skid RANDOM[4][12; 24; 36; 48]
          pitch = 50
          JUMP 0x2b000000 pitch = 80
          JUMP 0x1b000000 pitch = 100
          JUMP 0x0b000000 pitch = 130
          Vol = 50

#03065    Obj_SetPathVelocity 15 mph
#03066    Obj_PathHeading off
#03067    Obj_Rotate relative = VECTOR[0.0; 0.0; -120.0]
          time = 0.5
          FLAG_MAX_COORDS
#03068    Obj_WaitRotate
#03069    Obj_Rotate relative = VECTOR[0.0; 0.0; 40.0]
          time = 0.2
          FLAG_MAX_COORDS
#03070    Obj_WaitRotate
#03071    Obj_PlaySound RANDOM[2][4; 10]
          Car_BrakeSqueal JUMP 0x05000000 LA_Skid RANDOM[4][12; 24; 36; 48]
          pitch = 150
          JUMP 0x2b000000 pitch = 80
          JUMP 0x1b000000 pitch = 100
          JUMP 0x0b000000 pitch = 130
          Vol = 30

#03072    Obj_Rotate relative = VECTOR[0.0; 0.0; -15.0]
          time = 0.1
          FLAG_MAX_COORDS
#03073    Obj_WaitRotate
#03074    Obj_Rotate relative = VECTOR[0.0; 0.0; 5.0]
          time = 0.1
          FLAG_MAX_COORDS
#03075    Obj_WaitRotate
#03076    Obj_PathHeading On
#03077    Obj_SetPathVelocity 75 mph
#03078  END FUNCTION

#03079  FUNCTION CPF_ChaseTurnLeft
#03081    Obj_PlaySound RANDOM[2][4; 10]
          Car_BrakeSqueal JUMP 0x05000000 LA_Skid RANDOM[4][12; 24; 36; 48]
          pitch = 50
          JUMP 0x2b000000 pitch = 80
          JUMP 0x1b000000 pitch = 100
          JUMP 0x0b000000 pitch = 130
          Vol = 50

#03083    Obj_SetPathVelocity 15 mph
#03084    Obj_PathHeading off
#03085    Obj_Rotate relative = VECTOR[0.0; 0.0; 120.0]
          time = 0.5
          FLAG_MAX_COORDS
#03086    Obj_WaitRotate
#03087    Obj_Rotate relative = VECTOR[0.0; 0.0; -40.0]
          time = 0.2
          FLAG_MAX_COORDS
#03088    Obj_WaitRotate
#03089    Obj_PlaySound RANDOM[2][4; 10]
          Car_BrakeSqueal JUMP 0x05000000 LA_Skid RANDOM[4][12; 24; 36; 48]
          pitch = 150
          JUMP 0x2b000000 pitch = 80
          JUMP 0x1b000000 pitch = 100
          JUMP 0x0b000000 pitch = 130
          Vol = 30

#03090    Obj_Rotate relative = VECTOR[0.0; 0.0; 15.0]
          time = 0.1
          FLAG_MAX_COORDS
#03091    Obj_WaitRotate
#03092    Obj_Rotate relative = VECTOR[0.0; 0.0; -5.0]
          time = 0.1
          FLAG_MAX_COORDS
#03093    Obj_WaitRotate
#03094    Obj_PathHeading On
#03095    Obj_SetPathVelocity 75 mph
#03096  END FUNCTION

#03097  FUNCTION CPF_ChaseAutoAccel
#03099    Obj_SetPathVelocity 75 mph
#03102  END FUNCTION

#03103  FUNCTION CPF_ChaseAutoDecel
#03105    Obj_SetPathVelocity 25
#03108  END FUNCTION

#03109  FUNCTION Car_Squeal
#03111    Obj_PlaySound RANDOM[2][4; 10]
          Car_BrakeSqueal JUMP 0x05000000 LA_Skid RANDOM[4][12; 24; 36; 48]
          pitch = 50
          JUMP 0x2b000000 pitch = 80
          JUMP 0x1b000000 pitch = 100
          JUMP 0x0b000000 pitch = 130
          Vol = 50

#03113  END FUNCTION

#03114  FUNCTION Car_HeightCheck
#03116    Obj_StickToGround On
#03118  END FUNCTION

#03119  FUNCTION Car_NoHeightCheck
#03121    Obj_StickToGround off
#03123    Obj_SetConstantHeight
#03124  END FUNCTION

#03125  FUNCTION CPF_Security_Gate
#03131    IF IsCareerMode
#03132      IF GetGoal goal = GOAL_SCRIPTED1

#03133      ELSE
#03134        IF QueryFlag GOT_TICKET name = TRG_GO_GotTicket

#03135          ClearFlag GOT_TICKET name = TRG_GO_GotTicket

#03136          LaunchPanelMessage "Ticket Voided"
#03137          LaunchLocalMessage id = T01
                "`" panel_message_PickUpVoided
#03138          PlaySound CPFsecur Vol = 100

#03139        END IF
#03140      END IF
#03141    END IF
#03142    PlaySound ap_scanner Vol = 100

#03143    Wait 2 seconds
#03144  END FUNCTION

#03145  FUNCTION CPF_Urinals
#03147    PlaySound flush2 Vol = 100

#03149  END FUNCTION

#03150  FUNCTION CPF_AP_BustingVent TRGPname = TRGP_BustVent01

#03155    Kill name = GLOBAL.TRGPname

#03156    PlaySound la_gunshots2 pitch = 50

#03157    Shatter name = GLOBAL.TRGPname
          area = 10000
          variance = 4.6
          vel_x = RANDOM[3][8; 14; 20]

          0.0 JUMP 0x0f000000 30 JUMP 0x05000000 -30 vel_y = RANDOM[3][8; 14; 20]

          10 JUMP 0x0f000000 30 JUMP 0x05000000 50 vel_z = RANDOM[3][8; 14; 20]

          0 JUMP 0x0f000000 30 JUMP 0x05000000 -30 spread = 1.0

#03158  END FUNCTION

#03159  FUNCTION CPF_AP_BustingFlag Flagname = TRGP_EndArea_Flag_01

#03161    Kill name = GLOBAL.Flagname

#03163    Shatter name = GLOBAL.Flagname
          area = 10000
          variance = 4.6
          vel_x = RANDOM[3][8; 14; 20]

          0.0 JUMP 0x0f000000 50 JUMP 0x05000000 -50 vel_y = RANDOM[3][8; 14; 20]

          0 JUMP 0x0f000000 50 JUMP 0x05000000 -50 vel_z = RANDOM[3][8; 14; 20]

          0 JUMP 0x0f000000 50 JUMP 0x05000000 -50 spread = 0.7

#03164  END FUNCTION

#03165  FUNCTION CPF_ChopperChangeover
#03167    Kill name = EO_Chopper01

#03168    Kill name = EO_Chopper01a

#03169    Kill name = EO_Chopper03

#03170    Kill name = EO_Chopper02

#03171    Kill name = EO_Chopper02a

#03172    Kill name = EO_Chopper04

#03173    Create name = GO_Chopper01

#03174    Create name = GO_Chopper03

#03175    Kill prefix = "TRG_RailChopper"

#03176  END FUNCTION

#03179  FUNCTION CPF_Chopper_Leaving
#03181    Kill prefix = "TRG_RailChopper"

#03182    PlayStream helitakeoff2
#03183    Obj_SetPathAcceleration 3 fpsps
#03184    Obj_SetPathVelocity 25 fps
#03185    Wait 2 seconds
#03186    Obj_PathHeading off
#03187    Obj_FollowPathLinked
#03188    Obj_RotZ angle = 5
          speed = 5

#03189    Obj_RotX angle = 5
          speed = 5

#03190    Obj_WaitRotate
#03191    Kill name = EO_Chopper01b

#03192    Obj_RotZ angle = -10
          speed = 5

#03193    Obj_RotX angle = -10
          speed = 5

#03194    Obj_WaitRotate
#03195    Obj_RotZ angle = 10
          speed = 5

#03196    Obj_RotX angle = 10
          speed = 5

#03197    Obj_WaitRotate
#03198    Obj_RotZ angle = -10
          speed = 5

#03199    Obj_RotX angle = -10
          speed = 5

#03200    Obj_WaitRotate
#03201    Obj_RotZ angle = 10
          speed = 5

#03202    Obj_RotX angle = 10
          speed = 5

#03203    Obj_WaitRotate
#03204    Obj_RotZ angle = -10
          speed = 5

#03205    Obj_RotX angle = -10
          speed = 5

#03206    Obj_WaitRotate
#03207    Obj_RotZ angle = 5
          speed = 5

#03208    Obj_RotX angle = 5
          speed = 5

#03209    Obj_WaitMove
#03210    Kill name = GO_Chopper03

#03211    Die
#03212  END FUNCTION

#03213  FUNCTION CPF_MovingWalkway
#03215    PAUSEPHYSICS
#03216    SpawnSkaterScript MoveSkaterZ dist = 20

#03217    SpawnSkaterScript MoveSkaterx dist = 200

#03218    UNPAUSEPHYSICS
#03219  END FUNCTION

#03221  FUNCTION CPF_AP_JetSound
#03223    Obj_PlaySound ap_jetidle
#03224  END FUNCTION

#03225  FUNCTION CPF_AP_PlaneLight
#03227    Obj_SetPathTurnDist 2.5 feet
#03228    Obj_SetPathAcceleration 500 fpsps
#03230    Obj_SetPathVelocity 150 fps
#03231    Obj_PlaySound ap_prop pitch = 130

#03232    Obj_MoveToLink time = 3
          second
#03233    Obj_Rotate time = 0.5
          relative = VECTOR[0.0; 0.0; 20.0]

#03234    Wait 0.5 second
#03235    Obj_Rotate time = 1
          relative = VECTOR[0.0; 0.0; -40.0]

#03236    Wait 1 second
#03237    Obj_Rotate time = 0.5
          relative = VECTOR[0.0; 0.0; 20.0]

#03238    Wait 0.5 second
#03239    Obj_Rotate time = 0.5
          relative = VECTOR[-10.0; 0.0; 10.0]

#03240    Wait 0.5 second
#03241    Obj_Rotate time = 0.5
          relative = VECTOR[-10.0; 0.0; -10.0]

#03242    Obj_WaitMove
#03243    Obj_Rotate time = 0.1
          relative = VECTOR[20.0; 0.0; 0.0]

#03244    Obj_MoveToLink time = 3
          second
#03245    Obj_PlaySound ap_jetland
#03246    StopStream
#03247    Wait 1.4 second
#03248    PlayStream ap_planecrash2 Vol = 1000

#03249    Wait 1 second
#03250    Die
#03251  END FUNCTION

#03252  FUNCTION CPF_AP_PlaneLight2
#03254    Obj_SetPathTurnDist 2.5 feet
#03255    Obj_SetPathAcceleration 500 fpsps
#03257    Obj_SetPathVelocity 250 fps
#03258    StopStream
#03260    Wait 0.1 second
#03261    PlayStream ap_planespin Vol = 200

#03262    Obj_MoveToLink time = 5
          second
#03263    Obj_Rotate time = 1
          relative = VECTOR[0.0; 0.0; 180.0]

#03264    Obj_WaitRotate
#03265    Obj_Rotate time = 1
          relative = VECTOR[0.0; 0.0; 180.0]

#03266    Obj_WaitRotate
#03267    Obj_Rotate time = 1
          relative = VECTOR[0.0; 0.0; 180.0]

#03268    Obj_WaitRotate
#03269    Obj_Rotate time = 1
          relative = VECTOR[0.0; 0.0; 180.0]

#03270    Obj_WaitMove
#03271    Die
#03272  END FUNCTION

#03273  FUNCTION CPF_LA_RockingCar
#03275    LOOP
#03276      Obj_Rotate absolute = VECTOR[0.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03277      Wait 0.2 seconds
#03278      Obj_Rotate absolute = VECTOR[-1.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03279      Wait 0.2 seconds
#03280      Obj_Rotate absolute = VECTOR[-2.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03281      Wait 0.2 seconds
#03282      Obj_Rotate absolute = VECTOR[-5.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03283      Wait 0.2 seconds
#03284      Obj_Rotate absolute = VECTOR[-9.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03285      Wait 0.2 seconds
#03286      Obj_Rotate absolute = VECTOR[-14.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03287      Wait 0.2 seconds
#03288      Obj_Rotate absolute = VECTOR[-18.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03289      Wait 0.2 seconds
#03290      Obj_Rotate absolute = VECTOR[-21.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03291      Wait 0.2 seconds
#03292      Obj_Rotate absolute = VECTOR[-23.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03293      Wait 0.2 seconds
#03294      Obj_Rotate absolute = VECTOR[-24.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03295      Wait 0.2 seconds
#03296      Obj_Rotate absolute = VECTOR[-23.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03297      Wait 0.2 seconds
#03298      Obj_Rotate absolute = VECTOR[-21.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03299      Wait 0.2 seconds
#03300      Obj_Rotate absolute = VECTOR[-18.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03301      Wait 0.2 seconds
#03302      Obj_Rotate absolute = VECTOR[-14.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03303      Wait 0.2 seconds
#03304      Obj_Rotate absolute = VECTOR[-9.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03305      Wait 0.2 seconds
#03306      Obj_Rotate absolute = VECTOR[-5.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03307      Wait 0.2 seconds
#03308      Obj_Rotate absolute = VECTOR[-2.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03309      Wait 0.2 seconds
#03310      Obj_Rotate absolute = VECTOR[-1.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03311      Wait 0.2 seconds
#03312      Obj_PlayStream RANDOM[4][12; 18; 24; 30]
            la_carguy_01 JUMP 0x19000000 la_carguy_02 JUMP 0x0f000000 la_carguy_03 JUMP 0x05000000 la_carguy_04 Vol = 120
            dropoff = 250

#03313    END LOOP
#03314  END FUNCTION

#03315  FUNCTION CPF_LA_FallingCar
#03317    Obj_SetPathAcceleration 12 fpsps
#03318    Obj_SetPathDeceleration 999 fpsps
#03319    Obj_SetPathVelocity 34 fps
#03320    Wait 0.1 seconds
#03321    Obj_PathHeading off
#03322    Obj_FollowPathLinked
#03323    Wait 0.5 seconds
#03324    Obj_Rotate absolute = VECTOR[-179.0; 0.0; 70.0]
          time = 2.5
          FLAG_MAX_COORDS
#03325    PlayStream la_carguy_05
#03327    Obj_WaitMove
#03328    PlaySound la_gunshots2 Vol = 300
          pitch = 20

#03329    Obj_MoveToRelPos VECTOR[0.0; 10.0; 0.0] time = 0.1

#03330    Wait 0.1 seconds
#03331    Obj_MoveToRelPos VECTOR[0.0; -10.0; 0.0] time = 0.1

#03332    Wait 0.3 seconds
#03333    PlaySound la_gunshots2 Vol = 200
          pitch = 35

#03334    Obj_MoveToRelPos VECTOR[0.0; 0.0; 250.0] time = 0.2

#03335    Obj_Rotate relative = VECTOR[10.0; -20.0; 0.0]
          time = 0.1

#03336    Wait 0.1 seconds
#03337    Obj_Rotate relative = VECTOR[5.0; -18.0; 0.0]
          time = 0.1

#03338    Wait 0.1 seconds
#03339    Obj_Rotate relative = VECTOR[2.0; -16.0; 0.0]
          time = 0.1

#03340    Wait 0.1 seconds
#03341    Obj_Rotate relative = VECTOR[1.0; -14.0; 0.0]
          time = 0.1

#03342    Wait 0.1 seconds
#03343    Obj_Rotate relative = VECTOR[-1.0; -12.0; 0.0]
          time = 0.1

#03344    Wait 0.1 seconds
#03345    Obj_Rotate relative = VECTOR[-2.0; -10.0; 0.0]
          time = 0.1

#03346    Wait 0.1 seconds
#03347    Obj_Rotate relative = VECTOR[-3.0; -8.0; 0.0]
          time = 0.1

#03348    Wait 0.1 seconds
#03349    Obj_Rotate relative = VECTOR[-2.0; -6.0; 0.0]
          time = 0.1

#03350    Wait 0.1 seconds
#03351    Obj_Rotate relative = VECTOR[-1.0; -4.0; 0.0]
          time = 0.1

#03352    Wait 0.1 seconds
#03353    Obj_Rotate relative = VECTOR[0.0; -3.0; 0.0]
          time = 0.1

#03354    Wait 0.1 seconds
#03355    Obj_Rotate relative = VECTOR[1.0; -2.0; 0.0]
          time = 0.1

#03356    Wait 0.1 seconds
#03357    Obj_Rotate relative = VECTOR[2.0; -1.0; 0.0]
          time = 0.1

#03358    Wait 0.1 seconds
#03359    Obj_Rotate relative = VECTOR[1.0; -1.0; 0.0]
          time = 0.1

#03360  END FUNCTION

#03361  FUNCTION CPF_LA_FallingSign
#03363    Obj_SetPathAcceleration 22 fpsps
#03364    Obj_SetPathDeceleration 999 fpsps
#03365    Obj_SetPathVelocity 34 fps
#03366    Wait 0.5 seconds
#03367    Obj_PathHeading off
#03368    Obj_FollowPathLinked
#03369    Obj_WaitMove
#03371    Obj_Rotate relative = VECTOR[60.0; 0.0; 0.0]
          time = 0.5
          FLAG_MAX_COORDS
#03372    Obj_MoveToRelPos VECTOR[0.0; -10.0; 0.0] time = 0.1

#03373    Wait 0.1 seconds
#03374    Obj_MoveToRelPos VECTOR[0.0; 10.0; 0.0] time = 0.1

#03375    Wait 0.1 seconds
#03376    Obj_MoveToRelPos VECTOR[0.0; 5.0; 0.0] time = 0.1

#03377    Wait 0.1 seconds
#03378    Obj_MoveToRelPos VECTOR[0.0; -5.0; 0.0] time = 0.1

#03379    Wait 0.2 seconds
#03380    Obj_Rotate relative = VECTOR[-60.0; 0.0; 0.0]
          time = 0.5
          FLAG_MAX_COORDS
#03381    Wait 0.5 seconds
#03382    LOOP
#03383      Obj_Rotate relative = VECTOR[-20.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03384      Wait 0.2 seconds
#03385      Obj_Rotate relative = VECTOR[-10.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03386      Wait 0.2 seconds
#03387      Obj_Rotate relative = VECTOR[-5.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03388      Wait 0.2 seconds
#03389      Obj_Rotate relative = VECTOR[-2.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03390      Wait 0.4 seconds
#03391      Obj_Rotate relative = VECTOR[2.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03392      Wait 0.2 seconds
#03393      Obj_Rotate relative = VECTOR[5.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03394      Wait 0.2 seconds
#03395      Obj_Rotate relative = VECTOR[10.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03396      Wait 0.2 seconds
#03397      Obj_Rotate relative = VECTOR[20.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03398      Wait 0.2 seconds
#03399      Obj_Rotate relative = VECTOR[20.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03400      Wait 0.2 seconds
#03401      Obj_Rotate relative = VECTOR[10.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03402      Wait 0.2 seconds
#03403      Obj_Rotate relative = VECTOR[5.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03404      Wait 0.2 seconds
#03405      Obj_Rotate relative = VECTOR[2.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03406      Wait 0.4 seconds
#03407      Obj_Rotate relative = VECTOR[-2.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03408      Wait 0.2 seconds
#03409      Obj_Rotate relative = VECTOR[-5.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03410      Wait 0.2 seconds
#03411      Obj_Rotate relative = VECTOR[-10.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03412      Wait 0.2 seconds
#03413      Obj_Rotate relative = VECTOR[-20.0; 0.0; 0.0]
            time = 0.2
            FLAG_MAX_COORDS
#03414      Wait 0.2 seconds
#03415    END LOOP
#03416  END FUNCTION

#03417  FUNCTION CPF_LA_FallingSign2
#03419    Obj_SetPathAcceleration 22 fpsps
#03420    Obj_SetPathDeceleration 999 fpsps
#03421    Obj_SetPathVelocity 34 fps
#03422    PlaySound looter
#03423    Wait 0.5 seconds
#03424    Obj_PathHeading off
#03425    Obj_FollowPathLinked
#03426    Obj_Rotate relative = VECTOR[-93.0; 30.0; -7.0]
          time = 1.5
          FLAG_MAX_COORDS
#03427    Obj_WaitMove
#03428    Kill name = TRG_Looter_Car01

#03429    Kill name = Gun_Looter

#03430    Kill name = MuzzleFlash

#03431    Kill name = BulletPing01

#03432    Kill name = BulletPing02

#03433    Kill name = BulletPing04

#03435    Kill name = BulletPing05

#03436    Create prefix = "Car_Looter_Dead"

#03437    PlaySound la_gunshots2 Vol = 300
          pitch = 20

#03438    Obj_MoveToRelPos VECTOR[0.0; 10.0; 0.0] time = 0.1

#03439    Wait 0.1 seconds
#03440    Obj_MoveToRelPos VECTOR[0.0; -10.0; 0.0] time = 0.1

#03441    Wait 0.1 seconds
#03442    Obj_MoveToRelPos VECTOR[0.0; 5.0; 0.0] time = 0.1

#03443    Wait 0.1 seconds
#03444    Obj_MoveToRelPos VECTOR[0.0; -5.0; 0.0] time = 0.1

#03445    Wait 0.2 seconds
#03446    PlaySound la_gunshots2 Vol = 300
          pitch = 40

#03447    Wait 0.7 seconds
#03448  END FUNCTION

#03449  FUNCTION CPF_LA_WireEast
#03451    Wait 0.5 seconds
#03452    Obj_Rotate relative = VECTOR[0.0; 27.0; -19.0]
          time = 1.6
          FLAG_MAX_COORDS
#03453  END FUNCTION

#03454  FUNCTION CPF_LA_WireWest
#03456    Wait 0.5 seconds
#03457    Obj_Rotate relative = VECTOR[0.0; -55.5; 12.5]
          time = 1.6
          FLAG_MAX_COORDS
#03458  END FUNCTION

#03459  FUNCTION CPF_LA_Spinning_Bristles
#03461    Obj_PlaySound la_carwash_brushes1
#03462    Obj_RotY speed = 1000

#03463    Obj_PathHeading off
#03464    Obj_SetPathAcceleration 12 fpsps
#03465    Obj_SetPathDeceleration 12 fpsps
#03466    Obj_SetPathVelocity 6 fps
#03467    Obj_FollowPathLinked
#03468  END FUNCTION

#03469  BALL_SCRATCHED = 0

#03471  FUNCTION BallChecker
#03473    LOOP
#03474      IF Obj_ObjectInRadius radius = 4
              feet type = skater

#03475        Obj_PlaySound la_gunshots2 Vol = 100
              pitch = 50

#03476        Obj_SetFlag BALL_SCRATCHED
#03477        MakeSkaterGoto SkaterCollideBall
#03478        Wait 4 seconds
#03479      ELSE
#03480        Wait 2 frames
#03481      END IF
#03482      Wait 2 frames
#03483    END LOOP
#03484  END FUNCTION

#03485  FUNCTION CPF_LA_Ball01
#03487    Wait 10 frames
#03489    IF IsCareerMode
#03490      IF GetGoal goal = GOAL_SCRIPTED3

#03491      ELSE
#03492        LaunchPanelMessage "1 Ball Free"
#03493      END IF
#03494    END IF
#03495    Obj_RotY speed = -100

#03496    Obj_MoveToNode name = TRG_GO_BallNav01
          speed = 10

#03497    Obj_WaitMove
#03498    Obj_MoveToNode name = TRG_GO_BallNav02
          speed = 10

#03499    Obj_WaitMove
#03500    Obj_MoveToNode name = TRG_GO_BallNav03
          speed = 15

#03501    Obj_RotY speed = -150

#03502    Obj_WaitMove
#03503    Obj_MoveToNode name = TRG_GO_BallNav04
          speed = 15

#03504    Obj_WaitMove
#03505    Obj_MoveToNode name = TRG_GO_BallNav05
          speed = 20

#03506    Obj_RotY speed = -250

#03507    Obj_WaitMove
#03508    Obj_SpawnScript BallChecker
#03509    Obj_PathHeading off
#03510    Obj_SetPathAcceleration 2 fpsps
#03511    Obj_SetPathDeceleration 2 fpsps
#03512    Obj_SetPathVelocity 20 fps
#03513    LOOP
#03514      Obj_MoveToNode name = TRG_GO_BallNav06
            speed = 20

#03515      Obj_WaitMove
#03516      Obj_MoveToNode name = TRG_GO_BallNav07
            speed = 15

#03517      Obj_RotY speed = -180

#03518      Obj_WaitMove
#03519      Obj_MoveToNode name = TRG_GO_BallNav08
            speed = 10

#03520      Obj_RotY speed = -140

#03521      Obj_WaitMove
#03522      Obj_MoveToNode name = TRG_GO_BallNav09
            speed = 5

#03523      Obj_RotY speed = -60

#03524      Obj_WaitMove
#03525      Obj_MoveToNode name = TRG_GO_BallNav12
            speed = 2

#03526      Obj_RotY speed = -20

#03527      Obj_WaitMove
#03528      Obj_RotY speed = 0

#03529      Wait 2 frames
#03530      Obj_MoveToNode name = TRG_GO_BallNav09
            speed = 2

#03531      Obj_RotY speed = 20

#03532      Obj_WaitMove
#03533      Obj_MoveToNode name = TRG_GO_BallNav08
            speed = 5

#03534      Obj_RotY speed = 60

#03535      Obj_WaitMove
#03536      Obj_MoveToNode name = TRG_GO_BallNav07
            speed = 10

#03537      Obj_RotY speed = 140

#03538      Obj_WaitMove
#03539      Obj_MoveToNode name = TRG_GO_BallNav06
            speed = 15

#03540      Obj_RotY speed = 220

#03541      Obj_WaitMove
#03542      Obj_MoveToNode name = TRG_GO_BallNav05
            speed = 20

#03543      Obj_RotY speed = 280

#03544      Obj_WaitMove
#03545      Obj_MoveToNode name = TRG_GO_BallNav10
            speed = 15

#03546      Obj_RotY speed = 220

#03547      Obj_WaitMove
#03548      Obj_MoveToNode name = TRG_GO_BallNav04
            speed = 10

#03549      Obj_RotY speed = 140

#03550      Obj_WaitMove
#03551      Obj_MoveToNode name = TRG_GO_BallNav11
            speed = 5

#03552      Obj_RotY speed = 60

#03553      Obj_WaitMove
#03554      Obj_MoveToNode name = TRG_GO_BallNav13
            speed = 2

#03555      Obj_RotY speed = 20

#03556      Obj_WaitMove
#03557      Obj_RotY speed = 0

#03558      Wait 2 frames
#03559      Obj_MoveToNode name = TRG_GO_BallNav11
            speed = 2

#03560      Obj_RotY speed = -20

#03561      Obj_WaitMove
#03562      Obj_MoveToNode name = TRG_GO_BallNav04
            speed = 5

#03563      Obj_RotY speed = -60

#03564      Obj_WaitMove
#03565      Obj_MoveToNode name = TRG_GO_BallNav10
            speed = 10

#03566      Obj_RotY speed = -140

#03567      Obj_WaitMove
#03568      Obj_MoveToNode name = TRG_GO_BallNav05
            speed = 15

#03569      Obj_RotY speed = -220

#03570      Obj_WaitMove
#03571    END LOOP
#03572  END FUNCTION

#03573  FUNCTION CPF_LA_Ball02
#03575    Wait 10 frames
#03576    IF IsCareerMode
#03577      IF GetGoal goal = GOAL_SCRIPTED3

#03578      ELSE
#03579        LaunchPanelMessage "1 Ball Free"
#03580      END IF
#03581    END IF
#03582    Obj_PlaySound carloop pitch = 25
          Vol = 60

#03583    Obj_RotY speed = -100

#03584    Obj_MoveToNode name = TRG_GO_BallNav20
          speed = 10

#03585    Obj_WaitMove
#03586    Obj_MoveToNode name = TRG_GO_BallNav15
          speed = 10

#03587    Obj_WaitMove
#03588    Obj_MoveToNode name = TRG_GO_BallNav16
          speed = 15

#03589    Obj_RotY speed = -150

#03590    Obj_WaitMove
#03591    Obj_MoveToNode name = TRG_GO_BallNav17
          speed = 15

#03592    Obj_WaitMove
#03593    Obj_MoveToNode name = TRG_GO_BallNav18
          speed = 20

#03594    Obj_RotY speed = -280

#03595    Obj_WaitMove
#03596    Obj_SpawnScript BallChecker
#03597    LOOP
#03598      Obj_MoveToNode name = TRG_GO_BallNav19
            speed = 20

#03599      Obj_WaitMove
#03600      Obj_MoveToNode name = TRG_GO_BallNav14
            speed = 15

#03601      Obj_RotY speed = -220

#03602      Obj_WaitMove
#03603      Obj_MoveToNode name = TRG_GO_BallNav21
            speed = 10

#03604      Obj_RotY speed = -140

#03605      Obj_WaitMove
#03606      Obj_MoveToNode name = TRG_GO_BallNav22
            speed = 5

#03607      Obj_RotY speed = -60

#03608      Obj_WaitMove
#03609      Obj_MoveToNode name = TRG_GO_BallNav25
            speed = 2

#03610      Obj_RotY speed = -20

#03611      Obj_WaitMove
#03612      Obj_RotY speed = 0

#03613      Wait 2 frames
#03614      Obj_MoveToNode name = TRG_GO_BallNav22
            speed = 2

#03615      Obj_RotY speed = 20

#03616      Obj_WaitMove
#03617      Obj_MoveToNode name = TRG_GO_BallNav21
            speed = 5

#03618      Obj_RotY speed = 60

#03619      Obj_WaitMove
#03620      Obj_MoveToNode name = TRG_GO_BallNav14
            speed = 10

#03621      Obj_RotY speed = 140

#03622      Obj_WaitMove
#03623      Obj_MoveToNode name = TRG_GO_BallNav19
            speed = 15

#03624      Obj_RotY speed = 220

#03625      Obj_WaitMove
#03626      Obj_MoveToNode name = TRG_GO_BallNav18
            speed = 20

#03627      Obj_RotY speed = 280

#03628      Obj_WaitMove
#03629      Obj_MoveToNode name = TRG_GO_BallNav23
            speed = 15

#03630      Obj_RotY speed = 220

#03631      Obj_WaitMove
#03632      Obj_MoveToNode name = TRG_GO_BallNav17
            speed = 10

#03633      Obj_RotY speed = 140

#03634      Obj_WaitMove
#03635      Obj_MoveToNode name = TRG_GO_BallNav24
            speed = 5

#03636      Obj_RotY speed = 60

#03637      Obj_WaitMove
#03638      Obj_MoveToNode name = TRG_GO_BallNav26
            speed = 2

#03639      Obj_RotY speed = 20

#03640      Obj_WaitMove
#03641      Obj_RotY speed = 0

#03642      Wait 2 frames
#03643      Obj_MoveToNode name = TRG_GO_BallNav24
            speed = 2

#03644      Obj_RotY speed = -20

#03645      Obj_WaitMove
#03646      Obj_MoveToNode name = TRG_GO_BallNav17
            speed = 5

#03647      Obj_RotY speed = -60

#03648      Obj_WaitMove
#03649      Obj_MoveToNode name = TRG_GO_BallNav23
            speed = 10

#03650      Obj_RotY speed = -140

#03651      Obj_WaitMove
#03652      Obj_MoveToNode name = TRG_GO_BallNav18
            speed = 15

#03653      Obj_RotY speed = -220

#03654      Obj_WaitMove
#03655    END LOOP
#03656  END FUNCTION

#03657  FUNCTION CPF_LA_BlownLeaf
#03659    Obj_RotX speed = RANDOM[5][16; 22; 28; 34; 40]

          -240 JUMP 0x23000000 -140 JUMP 0x19000000 0 JUMP 0x0f000000 140 JUMP 0x05000000 240
#03660    Obj_RotY speed = RANDOM[5][16; 22; 28; 34; 40]

          -240 JUMP 0x23000000 -140 JUMP 0x19000000 0 JUMP 0x0f000000 140 JUMP 0x05000000 240
#03661    Obj_RotZ speed = RANDOM[5][16; 22; 28; 34; 40]

          -240 JUMP 0x23000000 -140 JUMP 0x19000000 0 JUMP 0x0f000000 140 JUMP 0x05000000 240
#03662    RANDOM[4][17; 563; 1109; 1655]

#03663
#03664    Obj_MoveToRelPos VECTOR[0.0; 20.0; 0.0] time = 0.1

#03665    Wait 0.1 seconds
#03666    Obj_MoveToRelPos VECTOR[0.0; 16.0; 0.0] time = 0.1

#03667    Wait 0.1 seconds
#03668    Obj_MoveToRelPos VECTOR[0.0; 12.0; 0.0] time = 0.1

#03669    Wait 0.1 seconds
#03670    Obj_MoveToRelPos VECTOR[0.0; 8.0; 0.0] time = 0.1

#03671    Wait 0.1 seconds
#03672    Obj_MoveToRelPos VECTOR[0.0; 4.0; 0.0] time = 0.1

#03673    Wait 0.1 seconds
#03674    Obj_MoveToRelPos VECTOR[0.0; -4.0; 0.0] time = 0.1

#03675    Wait 0.1 seconds
#03676    Obj_MoveToRelPos VECTOR[0.0; -8.0; 0.0] time = 0.1

#03677    Wait 0.1 seconds
#03678    Obj_MoveToRelPos VECTOR[0.0; -12.0; 0.0] time = 0.1

#03679    Wait 0.1 seconds
#03680    Obj_MoveToRelPos VECTOR[0.0; -16.0; 0.0] time = 0.1

#03681    Wait 0.1 seconds
#03682    Obj_MoveToRelPos VECTOR[0.0; -20.0; 0.0] time = 0.1

#03683    Wait 0.1 seconds
#03684    JUMP 0x6d060000
#03685    Obj_MoveToRelPos VECTOR[0.0; 30.0; 0.0] time = 0.12

#03686    Wait 0.12 seconds
#03687    Obj_MoveToRelPos VECTOR[0.0; 20.0; 0.0] time = 0.12

#03688    Wait 0.12 seconds
#03689    Obj_MoveToRelPos VECTOR[0.0; 12.0; 0.0] time = 0.12

#03690    Wait 0.12 seconds
#03691    Obj_MoveToRelPos VECTOR[0.0; 5.0; 0.0] time = 0.12

#03692    Wait 0.12 seconds
#03693    Obj_MoveToRelPos VECTOR[0.0; 2.0; 0.0] time = 0.12

#03694    Wait 0.12 seconds
#03695    Obj_MoveToRelPos VECTOR[0.0; -2.0; 0.0] time = 0.12

#03696    Wait 0.12 seconds
#03697    Obj_MoveToRelPos VECTOR[0.0; -5.0; 0.0] time = 0.12

#03698    Wait 0.12 seconds
#03699    Obj_MoveToRelPos VECTOR[0.0; -12.0; 0.0] time = 0.12

#03700    Wait 0.12 seconds
#03701    Obj_MoveToRelPos VECTOR[0.0; -20.0; 0.0] time = 0.12

#03702    Wait 0.12 seconds
#03703    Obj_MoveToRelPos VECTOR[0.0; -30.0; 0.0] time = 0.12

#03704    Wait 0.12 seconds
#03705    JUMP 0x47040000
#03706    Obj_MoveToRelPos VECTOR[0.0; 15.0; 0.0] time = 0.05

#03707    Wait 0.05 seconds
#03708    Obj_MoveToRelPos VECTOR[0.0; 12.0; 0.0] time = 0.05

#03709    Wait 0.05 seconds
#03710    Obj_MoveToRelPos VECTOR[0.0; 8.0; 0.0] time = 0.05

#03711    Wait 0.05 seconds
#03712    Obj_MoveToRelPos VECTOR[0.0; 4.0; 0.0] time = 0.05

#03713    Wait 0.05 seconds
#03714    Obj_MoveToRelPos VECTOR[0.0; 2.0; 0.0] time = 0.05

#03715    Wait 0.05 seconds
#03716    Obj_MoveToRelPos VECTOR[0.0; -2.0; 0.0] time = 0.05

#03717    Wait 0.05 seconds
#03718    Obj_MoveToRelPos VECTOR[0.0; -4.0; 0.0] time = 0.05

#03719    Wait 0.05 seconds
#03720    Obj_MoveToRelPos VECTOR[0.0; -8.0; 0.0] time = 0.05

#03721    Wait 0.05 seconds
#03722    Obj_MoveToRelPos VECTOR[0.0; -12.0; 0.0] time = 0.05

#03723    Wait 0.05 seconds
#03724    Obj_MoveToRelPos VECTOR[0.0; -15.0; 0.0] time = 0.05

#03725    Wait 0.05 seconds
#03726    JUMP 0x21020000
#03727    Obj_MoveToRelPos VECTOR[0.0; 19.0; 0.0] time = 0.08

#03728    Wait 0.08 seconds
#03729    Obj_MoveToRelPos VECTOR[0.0; 13.0; 0.0] time = 0.08

#03730    Wait 0.08 seconds
#03731    Obj_MoveToRelPos VECTOR[0.0; 7.0; 0.0] time = 0.08

#03732    Wait 0.08 seconds
#03733    Obj_MoveToRelPos VECTOR[0.0; 4.0; 0.0] time = 0.08

#03734    Wait 0.08 seconds
#03735    Obj_MoveToRelPos VECTOR[0.0; 2.0; 0.0] time = 0.08

#03736    Wait 0.08 seconds
#03737    Obj_MoveToRelPos VECTOR[0.0; -2.0; 0.0] time = 0.08

#03738    Wait 0.08 seconds
#03739    Obj_MoveToRelPos VECTOR[0.0; -4.0; 0.0] time = 0.08

#03740    Wait 0.08 seconds
#03741    Obj_MoveToRelPos VECTOR[0.0; -7.0; 0.0] time = 0.08

#03742    Wait 0.08 seconds
#03743    Obj_MoveToRelPos VECTOR[0.0; -13.0; 0.0] time = 0.08

#03744    Wait 0.08 seconds
#03745    Obj_MoveToRelPos VECTOR[0.0; -19.0; 0.0] time = 0.08

#03746    Wait 0.08 seconds
#03747
#03748    Die
#03749  END FUNCTION

#03750  FUNCTION CPF_AP_Radar
#03752    LOOP
#03753      Obj_Rotate time = 2
            absolute = VECTOR[20.0; 180.0; 0.0]

#03754      Obj_WaitRotate
#03755      Obj_Rotate time = 2
            absolute = VECTOR[20.0; 0.0; 0.0]

#03756      Obj_WaitRotate
#03757    END LOOP
#03758  END FUNCTION

#03759  FUNCTION CPF_AP_Chopper
#03761    LOOP
#03762      Obj_LookAtRelPos VECTOR[0.0; 50.0; 0.0] time = 10000

#03763      Obj_MoveToRelPos VECTOR[0.0; 250.0; 0.0] time = 10000

#03764      Obj_WaitMove
#03765      Obj_LookAtRelPos VECTOR[50.0; 0.0; 0.0] time = 10000

#03766      Obj_MoveToRelPos VECTOR[0.0; 250.0; 0.0] time = 10000

#03767      Obj_WaitMove
#03768      Obj_LookAtRelPos VECTOR[0.0; -50.0; 0.0] time = 10000

#03769      Obj_MoveToRelPos VECTOR[0.0; -250.0; 0.0] time = 10000

#03770      Obj_WaitMove
#03771      Obj_LookAtRelPos VECTOR[-50.0; 0.0; 0.0] time = 10000

#03772      Obj_MoveToRelPos VECTOR[0.0; -250.0; 0.0] time = 10000

#03773      Obj_WaitMove
#03774    END LOOP
#03775  END FUNCTION

#03776  FUNCTION CPF_AP_Chopper_Rotor
#03778    LOOP
#03779      Obj_LookAtRelPos VECTOR[0.0; 50.0; 0.0] time = 30

#03780      Obj_WaitRotate
#03781      Obj_LookAtRelPos VECTOR[50.0; 0.0; 0.0] time = 30

#03782      Obj_WaitRotate
#03783      Obj_LookAtRelPos VECTOR[0.0; -50.0; 0.0] time = 30

#03784      Obj_WaitRotate
#03785      Obj_LookAtRelPos VECTOR[-50.0; 0.0; 0.0] time = 30

#03786      Obj_WaitRotate
#03787    END LOOP
#03788  END FUNCTION

#03789  FUNCTION CPF_WaitCamAnimFinished Cam = 1

#03795    LOOP
#03796      IF CamAnimFinished Cam = GLOBAL.Cam

#03797        BREAK

#03798      END IF
#03799      Wait 1 gameframe
#03800    END LOOP
#03801  END FUNCTION

#03802  FUNCTION CPF_AP_CameraAnim1
#03805    Wait 2 seconds
#03807  END FUNCTION

#03808  FUNCTION CPF_Lowrider
#03814    LOOP
#03815      Obj_PlaySound lowriderloop Vol = 800

#03816      Wait 2.4 seconds
#03817    END LOOP
#03818  END FUNCTION

#03819  FUNCTION CPF_GrateOpen
#03821    IF InMultiplayerGame
#03822    ELSE
#03823      Kill prefix = "GrateClosed"

#03824      Kill prefix = "GrateOpen"

#03825      Create prefix = "GrateOpen"

#03826      Create prefix = "TRG_Rail_LibTop"

#03827      Wait 10 frames
#03828      PlaySound la_gratesopen Vol = 300

#03829    END IF
#03830  END FUNCTION

#03831  FUNCTION CPF_LA_North_Peds
#03833    IF InMultiplayerGame
#03834    ELSE
#03835      Kill prefix = "TRG_Ped_South_"

#03837      Kill prefix = "TRG_Ped_North_"

#03838      Kill prefix = "GO_spinning_Bristles"

#03839      Create prefix = "TRG_Ped_North_"

#03840    END IF
#03841  END FUNCTION

#03842  FUNCTION CPF_LA_South_Peds
#03844    IF InMultiplayerGame
#03845    ELSE
#03846      Kill prefix = "TRG_Ped_South_"

#03848      Kill prefix = "TRG_Ped_North_"

#03849      Kill prefix = "GO_spinning_Bristles"

#03850      Create prefix = "TRG_Ped_South_"

#03851      Create prefix = "GO_spinning_Bristles"

#03852    END IF
#03853  END FUNCTION

#03854  FUNCTION CPF_LA_CreateOverCars
#03856    IF InMultiplayerGame
#03857    ELSE
#03858      Create prefix = "TRG_CarOverpass"

#03859    END IF
#03860  END FUNCTION

#03861  FUNCTION CPF_LA_KillOverCars
#03863    IF InMultiplayerGame
#03864    ELSE
#03865      Kill prefix = "TRG_CarOverpass"

#03866    END IF
#03867  END FUNCTION

#03868  FUNCTION CPF_LA_Screenshots
#03870    PlaySound gapsound Vol = 100

#03872    Create prefix = "TRG_Screen_"

#03873    PlaySound goaldone Vol = 100

#03874  END FUNCTION

#03875  FUNCTION CPF_Skater_Quake
#03877    Create name = TRG_Quaker

#03878  END FUNCTION

#03880  FUNCTION CPF_Skater_Movie
#03882    CarPlantAndMovies
#03883  END FUNCTION

#03884  FUNCTION CPF_AP_Sounds
#03888    Wait 2 seconds
#03889    LOOP
#03890      RANDOM[5][21; 227; 254; 292; 319]

#03891      PlayStream RANDOM[10][41; 52; 63; 74; 85; 96; 107; 118; 129; 140]

#03892      AP_Spkr01
#03893      JUMP 0x82000000 AP_Spkr02
#03894      JUMP 0x73000000 AP_Spkr03
#03895      JUMP 0x64000000 AP_Spkr04
#03896      JUMP 0x55000000 AP_Spkr04a
#03897      JUMP 0x46000000 AP_Spkr05
#03898      JUMP 0x37000000 AP_Spkr05a
#03899      JUMP 0x28000000 AP_Spkr06
#03900      JUMP 0x19000000 AP_Spkr07
#03901      JUMP 0x0a000000 AP_Spkr08
#03902
#03903      JUMP 0x8d000000 PlaySound CPFjet Vol = 100

#03904      JUMP 0x6e000000 PlaySound CPFheli Vol = 100
            pitch = 40

#03905      JUMP 0x44000000 PlaySound CPFjet Vol = 100

#03906      JUMP 0x25000000 PlaySound CPFheli Vol = 100
            pitch = 40

#03907
#03908      Wait RANDOM[3][8; 14; 20]
            8 JUMP 0x0f000000 15 JUMP 0x05000000 25 seconds
#03909    END LOOP
#03910  END FUNCTION

#03911  FUNCTION CPF_LA_Fire
#03913    Wait 3 frames
#03915    Obj_PlaySound la_fire Vol = 500

#03916  END FUNCTION

#03920  panel_message_smallquake = STRUCT{
          font = "trick.fnt"
          just = PAIR[0.0; 0.0]
          dims = PAIR[600.0; 112.0]
          colors = ARRAY(

            STRUCT{
              VECTOR[128.0; 128.0; 128.0] alpha = 128
              }

          )
          key_points = ARRAY(

            STRUCT{
              pos = PAIR[320.0; 124.0]
              alpha = 128
              scale = 1
              time = 0
              }
            STRUCT{
              pos = PAIR[315.0; 134.0]
              alpha = 128
              scale = 0.5
              time = 0.3
              }
            STRUCT{
              pos = PAIR[320.0; 124.0]
              alpha = 128
              scale = 1.2
              time = 0.6
              }
            STRUCT{
              pos = PAIR[320.0; 134.0]
              alpha = 128
              scale = 1
              time = 0.9
              }
            STRUCT{
              pos = PAIR[330.0; 114.0]
              alpha = 128
              scale = 1
              time = 1.2
              }
            STRUCT{
              pos = PAIR[310.0; 134.0]
              alpha = 128
              scale = 0.7
              time = 1.5
              }
            STRUCT{
              pos = PAIR[320.0; 124.0]
              alpha = 128
              scale = 1
              time = 1.8
              }
            STRUCT{
              pos = PAIR[320.0; 114.0]
              alpha = 128
              scale = 1.2
              time = 2.1
              }

          )
          }

#03943  panel_message_quake = STRUCT{
          font = "title.fnt"
          just = PAIR[0.0; 0.0]
          dims = PAIR[600.0; 112.0]
          colors = ARRAY(

            STRUCT{
              VECTOR[128.0; 0.0; 0.0] alpha = 128
              }

          )
          key_points = ARRAY(

            STRUCT{
              pos = PAIR[320.0; 224.0]
              alpha = 128
              scale = 2
              time = 0
              }
            STRUCT{
              pos = PAIR[315.0; 234.0]
              alpha = 128
              scale = 1.5
              time = 0.1
              }
            STRUCT{
              pos = PAIR[320.0; 224.0]
              alpha = 128
              scale = 2.2
              time = 0.2
              }
            STRUCT{
              pos = PAIR[320.0; 234.0]
              alpha = 128
              scale = 2
              time = 0.3
              }
            STRUCT{
              pos = PAIR[330.0; 214.0]
              alpha = 128
              scale = 2
              time = 0.4
              }
            STRUCT{
              pos = PAIR[310.0; 234.0]
              alpha = 128
              scale = 1.7
              time = 0.5
              }
            STRUCT{
              pos = PAIR[320.0; 224.0]
              alpha = 128
              scale = 2
              time = 0.6
              }
            STRUCT{
              pos = PAIR[320.0; 214.0]
              alpha = 128
              scale = 2.2
              time = 0.7
              }
            STRUCT{
              pos = PAIR[330.0; 224.0]
              alpha = 128
              scale = 2
              time = 0.8
              }
            STRUCT{
              pos = PAIR[320.0; 234.0]
              alpha = 128
              scale = 2
              time = 0.9
              }
            STRUCT{
              pos = PAIR[330.0; 224.0]
              alpha = 128
              scale = 1.5
              time = 1
              }
            STRUCT{
              pos = PAIR[320.0; 224.0]
              alpha = 128
              scale = 2
              time = 0
              }
            STRUCT{
              pos = PAIR[315.0; 234.0]
              alpha = 128
              scale = 1.5
              time = 0.1
              }
            STRUCT{
              pos = PAIR[320.0; 224.0]
              alpha = 128
              scale = 2.2
              time = 0.2
              }
            STRUCT{
              pos = PAIR[320.0; 234.0]
              alpha = 128
              scale = 2
              time = 0.3
              }
            STRUCT{
              pos = PAIR[330.0; 214.0]
              alpha = 128
              scale = 2
              time = 0.4
              }
            STRUCT{
              pos = PAIR[310.0; 234.0]
              alpha = 128
              scale = 1.7
              time = 0.5
              }
            STRUCT{
              pos = PAIR[320.0; 224.0]
              alpha = 128
              scale = 2
              time = 0.6
              }
            STRUCT{
              pos = PAIR[320.0; 214.0]
              alpha = 128
              scale = 2.2
              time = 0.7
              }
            STRUCT{
              pos = PAIR[330.0; 224.0]
              alpha = 128
              scale = 2
              time = 0.8
              }
            STRUCT{
              pos = PAIR[320.0; 234.0]
              alpha = 128
              scale = 2
              time = 0.9
              }
            STRUCT{
              pos = PAIR[330.0; 224.0]
              alpha = 128
              scale = 1.5
              time = 1
              }
            STRUCT{
              pos = PAIR[320.0; 224.0]
              alpha = 128
              scale = 2
              time = 0
              }
            STRUCT{
              pos = PAIR[315.0; 234.0]
              alpha = 128
              scale = 1.5
              time = 0.1
              }
            STRUCT{
              pos = PAIR[320.0; 224.0]
              alpha = 128
              scale = 2.2
              time = 0.2
              }
            STRUCT{
              pos = PAIR[320.0; 234.0]
              alpha = 128
              scale = 2
              time = 0.3
              }
            STRUCT{
              pos = PAIR[330.0; 214.0]
              alpha = 128
              scale = 2
              time = 0.4
              }
            STRUCT{
              pos = PAIR[310.0; 234.0]
              alpha = 128
              scale = 1.7
              time = 0.5
              }
            STRUCT{
              pos = PAIR[320.0; 224.0]
              alpha = 128
              scale = 2
              time = 0.6
              }
            STRUCT{
              pos = PAIR[320.0; 214.0]
              alpha = 128
              scale = 2.2
              time = 0.7
              }
            STRUCT{
              pos = PAIR[330.0; 224.0]
              alpha = 128
              scale = 2
              time = 0.8
              }
            STRUCT{
              pos = PAIR[320.0; 234.0]
              alpha = 128
              scale = 2
              time = 0.9
              }
            STRUCT{
              pos = PAIR[330.0; 224.0]
              alpha = 128
              scale = 1.5
              time = 1
              }

          )
          }

#03987  LEVEL_QUAKE_01 = 0

#03991  LEVEL_QUAKE_02 = 1

#03992  LEVEL_QUAKE_03 = 2

#03993  LEVEL_QUAKE_04 = 3

#03994  FUNCTION CPF_QuakeChecker
#03996    LOOP
#03997      IF Obj_FlagSet LEVEL_QUAKE_01
#03998        Wait 1 frame
#03999        IF Obj_FlagSet LEVEL_QUAKE_02
#04000          Wait 1 frame
#04001          IF Obj_FlagSet LEVEL_QUAKE_03
#04002            Wait 1 frame
#04003            IF Obj_FlagSet LEVEL_QUAKE_04
#04004              Wait 1 frame
#04005              SpawnScript CPF_StartEarthquake NetEnabled = 1
                    Permanent = 1

#04010              BREAK

#04012            END IF
#04013          END IF
#04014        END IF
#04015      END IF
#04016      Wait 10 frames
#04017    END LOOP
#04018  END FUNCTION

#04020  FUNCTION CPF_QuakeIncrease
#04023    Wait 1 frame
#04024    Vibrate Actuator = 1
          Percent = 90
          s duration = 2

#04025    PlaySound RANDOM[2][4; 10]
          la_rebar1 JUMP 0x05000000 la_rebar2
#04026  END FUNCTION

#04027  FUNCTION CPF_StartEarthquake
#04029    SpawnScript CPF_Skater_Quake
#04031  END FUNCTION

#04032  FUNCTION CPF_StartNorthernQuake
#04034    LaunchPanelMessage "Northern Quake Rail!" properties = panel_message_smallquake

#04036    PlaySound LA_quake1_rumble
#04038    PlaySound RANDOM[2][4; 10]
          la_rebar1 JUMP 0x05000000 la_rebar2
#04039    Vibrate Actuator = 1
          Percent = 62
          duration = 0.3

#04040    Create name = Quake_North

#04041  END FUNCTION

#04042  FUNCTION CPF_StartSouthernQuake
#04044    LaunchPanelMessage "Southern Quake Rail!" properties = panel_message_smallquake

#04046    PlaySound LA_quake1_rumble
#04047    PlaySound RANDOM[2][4; 10]
          la_rebar1 JUMP 0x05000000 la_rebar2
#04048    Vibrate Actuator = 1
          Percent = 62
          duration = 0.3

#04049    Create name = Quake_South

#04050  END FUNCTION

#04051  FUNCTION CPF_StartEasternQuake
#04053    LaunchPanelMessage "Eastern Quake Rail!" properties = panel_message_smallquake

#04055    PlaySound LA_quake1_rumble
#04056    PlaySound RANDOM[2][4; 10]
          la_rebar1 JUMP 0x05000000 la_rebar2
#04057    Vibrate Actuator = 1
          Percent = 62
          duration = 0.3

#04058    Create name = Quake_East

#04059  END FUNCTION

#04060  FUNCTION CPF_StartWesternQuake
#04062    LaunchPanelMessage "Western Quake Rail!" properties = panel_message_smallquake

#04064    PlaySound LA_quake1_rumble
#04065    PlaySound RANDOM[2][4; 10]
          la_rebar1 JUMP 0x05000000 la_rebar2
#04066    Vibrate Actuator = 1
          Percent = 62
          duration = 0.3

#04067    Create name = Quake_West

#04068  END FUNCTION

#04069  FUNCTION CPF_Quake_North
#04071    Wait 1 frame
#04074    SendFlag prefix = "Quake_Check"
          LEVEL_QUAKE_01
#04075  END FUNCTION

#04076  FUNCTION CPF_Quake_South
#04078    Wait 1 frame
#04080    SendFlag prefix = "Quake_Check"
          LEVEL_QUAKE_02
#04081  END FUNCTION

#04082  FUNCTION CPF_Quake_East
#04084    Wait 1 frame
#04086    SendFlag prefix = "Quake_Check"
          LEVEL_QUAKE_03
#04087  END FUNCTION

#04088  FUNCTION CPF_Quake_West
#04090    Wait 1 frame
#04092    SendFlag prefix = "Quake_Check"
          LEVEL_QUAKE_04
#04093  END FUNCTION

#04094  FUNCTION CPF_LA_QuakeStart
#04096    SpawnScript CPF_LA_QuakeStart2
#04097  END FUNCTION

#04098  FUNCTION CPF_LA_QuakeStart2 id = quakescript

#04100    IF IsCareerMode
#04103      Got_Scripted1
#04104    END IF
#04105    IF InSplitScreenGame
#04106    ELSE
#04107      LaunchLocalMessage "EarthQuake!!" panel_message_quake
#04108    END IF
#04109    Wait 1 frame
#04111    PlaySound gapsound Vol = 100

#04112    Kill prefix = "TRG_RailGoodOverpass"

#04113    Kill prefix = "TRG_CarOverpass"

#04114    Kill prefix = "TRGP_Over_Car"

#04115    Kill prefix = "TRGP_Overpass_Killer"

#04116    Kill prefix = "ADestroyed_"

#04117    Kill prefix = "carwash_destroyed_"

#04118    Wait 1 frame
#04119    IF InMultiplayerGame
#04122    ELSE
#04123      SendFlag prefix = "TRG_Ped_"
            PED_IN_PANIC
#04124    END IF
#04125    PlaySound LA_quake1_rumble
#04127    Wait 0.1 seconds
#04128    PlayStream quake3_big
#04129    SetParticleSysVisibility system = "Qke_Particle01"
          Visible = 1

#04131    SetParticleSysVisibility system = "Qke_Particle02"
          Visible = 1

#04132    SetParticleSysVisibility system = "Qke_Particle03"
          Visible = 1

#04133    SetParticleSysVisibility system = "Qke_Particle04"
          Visible = 1

#04134    SetParticleSysVisibility system = "Qke_Particle05"
          Visible = 1

#04135    SetParticleSysVisibility system = "Qke_Particle06"
          Visible = 1

#04136    SetParticleSysVisibility system = "Qke_Particle07"
          Visible = 1

#04137    SetParticleSysVisibility system = "Qke_Particle08"
          Visible = 1

#04138    SetParticleSysVisibility system = "Qke_Particle09"
          Visible = 1

#04139    SetParticleSysVisibility system = "Qke_Particle10"
          Visible = 1

#04140    SetParticleSysVisibility system = "Qke_Particle11"
          Visible = 1

#04141    SetParticleSysVisibility system = "Qke_Particle12"
          Visible = 1

#04142    SetParticleSysVisibility system = "Qke_Particle13"
          Visible = 1

#04143    SetParticleSysVisibility system = "Qke_Particle14"
          Visible = 1

#04144    SetParticleSysVisibility system = "Qke_Particle15"
          Visible = 1

#04145    SetParticleSysVisibility system = "Qke_Particle16"
          Visible = 1

#04146    SetParticleSysVisibility system = "Qke_Particle17"
          Visible = 1

#04147    Create prefix = "ADestroyed_"

#04149    Kill prefix = "Overpass_Good"

#04150    Kill prefix = "carwash_good_"

#04151    Create prefix = "carwash_destroyed_"

#04152    Create prefix = "Destroyed_"

#04153    Wait 1 seconds
#04154    PlaySound RANDOM[2][4; 10]
          la_rebar1 JUMP 0x05000000 la_rebar2
#04155    Create prefix = "Destroyed_"

#04156    Wait 1 seconds
#04157    PlaySound LA_quake1_rumble pitch = 25

#04159    Create prefix = "Destroyed_"

#04160    Wait 1 seconds
#04161    Create prefix = "Destroyed_"

#04162    Wait 1 seconds
#04163    Create prefix = "Rubble01_"

#04164    Create prefix = "Destroyed_"

#04165    Wait 1 seconds
#04166    PlaySound RANDOM[2][4; 10]
          la_rebar1 JUMP 0x05000000 la_rebar2
#04167    Create prefix = "Rubble02_"

#04168    Create prefix = "Destroyed_"

#04169    PlaySound LA_quake1_rumble
#04170    Wait 1 seconds
#04172    Create prefix = "Destroyed_"

#04173    Wait 1 seconds
#04174    SetFlag flag = LA_QUAKE_DONE

#04176    Wait 1 frame
#04178    Create prefix = "Overpass_Destroyed"

#04179    Create prefix = "TRG_Rail_Overpass"

#04180    Create name = TRG_SignGetToRail

#04181    IF IsCareerMode
#04182      Got_Scripted1
#04183      Create name = TRG_Rail_KenCar

#04184      Create name = TRGP_CarFall_E

#04185      Create name = TRGP_CarFall_W

#04186      Create name = Overpass_Car_Rocking

#04187    END IF
#04188    Kill prefix = "ADestroyed_"

#04189    Create prefix = "Destroyed_"

#04190    Wait 1 seconds
#04191    Create prefix = "Destroyed_"

#04192    Wait 1 seconds
#04193    SetParticleSysVisibility system = "Qke_Particle02"
          Visible = 0

#04195    SetParticleSysVisibility system = "Qke_Particle03"
          Visible = 0

#04196    SetParticleSysVisibility system = "Qke_Particle04"
          Visible = 0

#04197    SetParticleSysVisibility system = "Qke_Particle05"
          Visible = 0

#04198    SetParticleSysVisibility system = "Qke_Particle06"
          Visible = 0

#04199    SetParticleSysVisibility system = "Qke_Particle07"
          Visible = 0

#04200    SetParticleSysVisibility system = "Qke_Particle08"
          Visible = 0

#04201    SetParticleSysVisibility system = "Qke_Particle09"
          Visible = 0

#04202    SetParticleSysVisibility system = "Qke_Particle10"
          Visible = 0

#04203    SetParticleSysVisibility system = "Qke_Particle11"
          Visible = 0

#04204    SetParticleSysVisibility system = "Qke_Particle12"
          Visible = 0

#04205    SetParticleSysVisibility system = "Qke_Particle13"
          Visible = 0

#04206    SetParticleSysVisibility system = "Qke_Particle14"
          Visible = 0

#04207    SetParticleSysVisibility system = "Qke_Particle15"
          Visible = 0

#04208    SetParticleSysVisibility system = "Qke_Particle16"
          Visible = 0

#04209    SetParticleSysVisibility system = "Qke_Particle17"
          Visible = 0

#04210    Kill name = TRGP_NorthTremor_E

#04211    Kill name = TRGP_NorthTremor_W

#04212    Kill name = TRGP_SouthTremor_E

#04213    Kill name = TRGP_SouthTremor_W

#04214    Kill name = TRGP_EastTremor_N

#04215    Kill name = TRGP_EastTremor_S

#04216    Kill name = TRGP_WestTremor_N

#04217    Kill name = TRGP_WestTremor_S

#04218    Create name = TRGP_NorthTremor_E01

#04219    Create name = TRGP_NorthTremor_W01

#04220    Create name = TRGP_SouthTremor_E01

#04221    Create name = TRGP_SouthTremor_W01

#04222    Create name = TRGP_EastTremor_N01

#04223    Create name = TRGP_EastTremor_S01

#04224    Create name = TRGP_WestTremor_N01

#04225    Create name = TRGP_WestTremor_S01

#04226    Wait 3 seconds
#04227    IF InMultiplayerGame
#04228    ELSE
#04229      ClearFlag prefix = "TRG_Ped_"
            PED_IN_PANIC
#04231    END IF
#04232  END FUNCTION

#04233  FUNCTION CPF_LA_Secret_Tape
#04235    Obj_RotY speed = 200

#04236  END FUNCTION

#04237  FUNCTION CPF_LA_SKATE_Letter_S
#04239    Obj_RotY speed = 200

#04240  END FUNCTION

#04241  FUNCTION CPF_LA_SKATE_Letter_K
#04243    Obj_RotY speed = 200

#04244  END FUNCTION

#04245  FUNCTION CPF_LA_SKATE_Letter_A
#04247    Obj_RotY speed = 200

#04248  END FUNCTION

#04249  FUNCTION CPF_LA_SKATE_Letter_T
#04251    Obj_RotY speed = 200

#04252  END FUNCTION

#04253  FUNCTION CPF_LA_SKATE_Letter_E
#04255    Obj_RotY speed = 200

#04256  END FUNCTION

#04257  FUNCTION CPF_StopThieves
#04259    PlaySound gapsound
#04260    PauseSkaters
#04262    SetParticleSysVisibility system = "Qke_Particle01"
          Visible = 0

#04263    Kill name = Overpass_Car_Falling

#04264    Kill name = Overpass_Car_Rocking

#04265    Kill name = GO_FallingSign

#04266    Kill prefix = "TRG_Police_Car"

#04267    Kill name = TRG_Looter_Car

#04268    Kill name = TRG_Looter_Car01

#04269    Kill name = TRG_Cutscene_Police01

#04270    Kill name = TRG_Cutscene_Police02

#04271    Kill name = TRG_Rail_KenCar

#04272    Kill name = TRGP_CarFall_E

#04273    Kill name = TRGP_CarFall_W

#04274    Kill name = FallingSign

#04275    Kill name = GO_FallingSign2

#04276    Kill name = GO_WireEast

#04277    Kill name = GO_WireWest

#04278    Create name = Overpass_Car_Falling

#04279    Create name = GO_FallingSign

#04280    Create name = GO_WireEast

#04281    Create name = GO_WireWest

#04282    Create name = TRG_Rail_Sign01

#04283    Create name = TRG_Rail_Sign02

#04284    VibrationOff
#04285    PlaySkaterCamAnim skater = 0
          name = "Cam_Thieves"

#04286    Create name = TRG_Looter_Car01

#04287    Create name = TRG_Cutscene_Police01

#04288    Create name = TRG_Cutscene_Police02

#04289    WaitForSkippable
#04290    SetSkaterCamAnimSkippable skater = 0
          skippable = 1

#04292    LOOP
#04293      IF SkaterCamAnimFinished skater = 0
              name = "Cam_Thieves"

#04294        BREAK

#04295      END IF
#04296      Wait 1 gameframe
#04297    END LOOP
#04298    Got_Scripted2
#04299    SetGlobalFlag flag = SKATESHOP_JUST_GOT_LEVEL7_GOAL

#04300    Kill name = Overpass_Car_Falling

#04301    Create prefix = "DestroyedCar_Geometry"

#04302    VibrationOn
#04303    UnPauseSkaters
#04304  END FUNCTION

#04305  FUNCTION CPF_StopThieves2
#04307    PlaySound gapsound
#04308    Kill name = GO_FallingSign

#04309    Kill name = GO_FallingSign2

#04310    Kill name = TRG_Rail_Sign01

#04311    Kill name = TRG_Rail_Sign02

#04312    Create name = GO_FallingSign2

#04313    VibrationOff
#04314    WaitForSkippable
#04316    SetSkaterCamAnimSkippable skater = 0
          skippable = 1

#04318    LOOP
#04319      IF SkaterCamAnimFinished skater = 0
              name = "Cam_Thieve2"

#04320        BREAK

#04321      END IF
#04322      Wait 1 gameframe
#04323    END LOOP
#04324    VibrationOn
#04325    Kill name = GO_FallingSign2

#04326    Create name = FallingSign01

#04327    Create name = FallingSign03

#04328    Kill name = TRG_Looter_Car01

#04329    Kill name = Gun_Looter

#04330    Kill name = MuzzleFlash

#04331    Kill name = BulletPing01

#04332    Kill name = BulletPing02

#04333    Kill name = BulletPing04

#04334    Kill name = BulletPing05

#04335    Kill prefix = "Car_Looter_Dead"

#04336    Create prefix = "Car_Looter_Dead"

#04337  END FUNCTION

#04339  CROWD_MOOD_A = 0

#04342  CROWD_MOOD_B = 1

#04343  CROWD_MOOD_C = 2

#04344  CROWD_MOOD_D = 3

#04345  FUNCTION CrowdCheers
#04347    Obj_SetException ex = SkaterLanded
          scr = CrowdSeesTrick
          params = STRUCT{
            NULL }

#04348    Obj_SetException ex = SkaterBailed
          scr = CrowdSeesBail
          params = STRUCT{
            NULL }

#04349    Obj_SetFlag CROWD_MOOD_C
#04350    GotoPreserveParams CrowdIsWaiting
#04351  END FUNCTION

#04352  FUNCTION CrowdIsWaiting
#04354    Wait 3 seconds
#04355    Obj_SetException ex = SkaterLanded
          scr = CrowdSeesTrick
          params = STRUCT{
            NULL }

#04356    Obj_SetException ex = SkaterBailed
          scr = CrowdSeesBail
          params = STRUCT{
            NULL }

#04357    LOOP
#04358      Wait 1 second
#04360      IF SkaterCurrentScorePotGreaterThan 500
#04361        PlaySound RANDOM[2][4; 10]
              crowdI01 JUMP 0x05000000 crowdI02
#04362        Wait 1 second
#04363        IF SkaterCurrentScorePotGreaterThan 1500
#04364          PlaySound RANDOM[2][4; 10]
                crowdM01 JUMP 0x05000000 crowdM02
#04365          Wait 1 second
#04366          IF SkaterCurrentScorePotGreaterThan 3500
#04367            PlaySound RANDOM[2][4; 10]
                  crowdB01 JUMP 0x05000000 crowdB02
#04368            Wait 1 second
#04369            IF SkaterCurrentScorePotGreaterThan 5500
#04370              PlaySound RANDOM[2][4; 10]
                    crowdA01 JUMP 0x05000000 crowdA02
#04371              Wait 1 second
#04372            END IF
#04373          END IF
#04374        END IF
#04375      END IF
#04376    END LOOP
#04377  END FUNCTION

#04378  FUNCTION CrowdSeesTrick
#04380    Obj_ClearExceptions
#04382    Obj_SetException ex = SkaterBailed
          scr = CrowdSeesBail
          params = STRUCT{
            NULL }

#04383    IF Obj_FlagSet CROWD_MOOD_A
#04384      IF SkaterLastScoreLandedGreaterThan 10000
#04385        PlaySound RANDOM[2][4; 10]
              crowdA01 JUMP 0x05000000 crowdA02
#04387        PlaySound RANDOM[2][4; 10]
              crowdG01 JUMP 0x05000000 crowdG02
#04388        Wait 2 seconds
#04389        PlaySound RANDOM[2][4; 10]
              crowdB01 JUMP 0x05000000 crowdB02
#04390        PlaySound RANDOM[2][4; 10]
              crowdI01 JUMP 0x05000000 crowdI02
#04391        Wait 2 seconds
#04392        PlaySound RANDOM[2][4; 10]
              crowdM01 JUMP 0x05000000 crowdM02
#04393        PlaySound RANDOM[2][4; 10]
              crowdI01 JUMP 0x05000000 crowdI02
#04394      ELSE
#04395        IF SkaterLastScoreLandedGreaterThan 2000
#04396          PlaySound RANDOM[2][4; 10]
                crowdA01 JUMP 0x05000000 crowdA02
#04398        ELSE
#04399          IF SkaterLastScoreLandedGreaterThan 200
#04400            PlaySound RANDOM[2][4; 10]
                  crowdB01 JUMP 0x05000000 crowdB02
#04402          END IF
#04403        END IF
#04404      END IF
#04405      GotoPreserveParams CrowdIsWaiting
#04406    END IF
#04407    IF Obj_FlagSet CROWD_MOOD_B
#04408      IF SkaterLastScoreLandedGreaterThan 10000
#04409        PlaySound RANDOM[2][4; 10]
              crowdA01 JUMP 0x05000000 crowdA02
#04411        PlaySound RANDOM[2][4; 10]
              crowdI01 JUMP 0x05000000 crowdI02
#04412        Obj_SetFlag CROWD_MOOD_A
#04413        Obj_ClearFlag CROWD_MOOD_B
#04414      ELSE
#04415        IF SkaterLastScoreLandedGreaterThan 2000
#04416          PlaySound RANDOM[2][4; 10]
                crowdB01 JUMP 0x05000000 crowdB02
#04418          PlaySound RANDOM[2][4; 10]
                crowdI01 JUMP 0x05000000 crowdI02
#04419        ELSE
#04420          IF SkaterLastScoreLandedGreaterThan 200
#04421            PlaySound RANDOM[2][4; 10]
                  crowdM01 JUMP 0x05000000 crowdM02
#04423          END IF
#04424        END IF
#04425      END IF
#04426      GotoPreserveParams CrowdIsWaiting
#04427    END IF
#04428    IF Obj_FlagSet CROWD_MOOD_C
#04429      IF SkaterLastScoreLandedGreaterThan 5000
#04430        PlaySound RANDOM[2][4; 10]
              crowdB01 JUMP 0x05000000 crowdB02
#04432        PlaySound RANDOM[2][4; 10]
              crowdK01 JUMP 0x05000000 crowdK02
#04433        Obj_SetFlag CROWD_MOOD_B
#04434        Obj_ClearFlag CROWD_MOOD_C
#04435      ELSE
#04436        IF SkaterLastScoreLandedGreaterThan 1500
#04437          PlaySound RANDOM[2][4; 10]
                crowdM01 JUMP 0x05000000 crowdM02
#04439        ELSE
#04440          IF SkaterLastScoreLandedGreaterThan 200
#04441            PlaySound RANDOM[2][4; 10]
                  crowdM01 JUMP 0x05000000 crowdM02
#04443          END IF
#04444        END IF
#04445      END IF
#04446      GotoPreserveParams CrowdIsWaiting
#04447    END IF
#04448    IF Obj_FlagSet CROWD_MOOD_D
#04449      IF SkaterLastScoreLandedGreaterThan 1000
#04450        PlaySound RANDOM[2][4; 10]
              crowdM01 JUMP 0x05000000 crowdM02
#04452        Obj_SetFlag CROWD_MOOD_C
#04453        Obj_ClearFlag CROWD_MOOD_D
#04454      ELSE
#04455        IF SkaterLastScoreLandedGreaterThan 500
#04456          PlaySound RANDOM[2][4; 10]
                crowdM01 JUMP 0x05000000 crowdM02
#04458        ELSE
#04459          IF SkaterLastScoreLandedGreaterThan 100
#04460            PlaySound RANDOM[2][4; 10]
                  crowdM01 JUMP 0x05000000 crowdM02
#04462          END IF
#04463        END IF
#04464      END IF
#04465      GotoPreserveParams CrowdIsWaiting
#04466    END IF
#04467    GotoPreserveParams CrowdIsWaiting
#04468  END FUNCTION

#04469  FUNCTION CrowdSeesBail params = NULL

#04471    Obj_ClearExceptions
#04472    IF Obj_FlagSet CROWD_MOOD_A
#04473      PlaySound RANDOM[2][4; 10]
            crowdF01 JUMP 0x05000000 crowdF03
#04474      Wait 1 seconds
#04475      PlaySound RANDOM[2][4; 10]
            crowdL01 JUMP 0x05000000 crowdL03
#04476      Obj_SetFlag CROWD_MOOD_B
#04477      Obj_ClearFlag CROWD_MOOD_A
#04478      GotoPreserveParams CrowdIsWaiting
#04479    END IF
#04480    IF Obj_FlagSet CROWD_MOOD_B
#04481      PlaySound RANDOM[2][4; 10]
            crowdL01 JUMP 0x05000000 crowdL03
#04482      Wait 1 seconds
#04483      PlaySound RANDOM[2][4; 10]
            crowdL01 JUMP 0x05000000 crowdL03
#04484      Obj_SetFlag CROWD_MOOD_C
#04485      Obj_ClearFlag CROWD_MOOD_B
#04486      GotoPreserveParams CrowdIsWaiting
#04487    END IF
#04488    IF Obj_FlagSet CROWD_MOOD_C
#04489      PlaySound RANDOM[2][4; 10]
            crowdL01 JUMP 0x05000000 crowdL03
#04490      Wait 1 seconds
#04491      PlaySound RANDOM[2][4; 10]
            crowdE01 JUMP 0x05000000 crowdE02
#04492      Obj_SetFlag CROWD_MOOD_D
#04493      Obj_ClearFlag CROWD_MOOD_C
#04494      GotoPreserveParams CrowdIsWaiting
#04495    END IF
#04496    IF Obj_FlagSet CROWD_MOOD_D
#04497      PlaySound RANDOM[2][4; 10]
            crowdE01 JUMP 0x05000000 crowdE02
#04498      Wait 1 seconds
#04499      PlaySound RANDOM[2][4; 10]
            crowdE01 JUMP 0x05000000 crowdE02
#04500      GotoPreserveParams CrowdIsWaiting
#04501    END IF
#04502    Wait 10 seconds
#04503    GotoPreserveParams CrowdIsWaiting
#04504  END FUNCTION

#04505  FUNCTION CPF_SquashPerson
#04507    Obj_ApplyScaling x = 1.5
          y = 0.1
          z = 1.5

#04508    PauseSkaters
#04509    Wait 3 second
#04510    UnPauseSkaters
#04511    Obj_ApplyScaling x = 1.0
          y = 1.0
          z = 1.0

#04512  END FUNCTION

#04513  FUNCTION CPF_LA_Siren
#04515    PlayStream la_siren
#04516  END FUNCTION

#04517  FUNCTION CPF_PlayPhone
#04519    PlaySound ap_phone2
#04520  END FUNCTION

#04521  FUNCTION CPF_LA_TheaterSound
#04523    Wait 3 frames
#04524    Obj_PlaySound la_porn_no_sex
#04525  END FUNCTION

#04527  FUNCTION CPF_AP_BailCheck
#04530    IF GetGoal goal = GOAL_SCRIPTED1

#04532    ELSE
#04533      IF IsInBail
#04534        IF QueryFlag GOT_TICKET name = TRG_GO_GotTicket

#04536          ClearFlag name = TRG_GO_GotTicket
                GOT_TICKET
#04537          LaunchPanelMessage "Dropped the Tickets while Bailing" properties = panel_message_goalcomplete

#04538          LaunchLocalMessage id = T01
                "`" panel_message_PickUpDropped
#04539          Create name = Tickets

#04540        END IF
#04541      END IF
#04542    END IF
#04543  END FUNCTION

#04544  FUNCTION CPF_AP_GotTicket
#04546    IF IsCareerMode
#04547      IF GetGoal goal = GOAL_SCRIPTED1

#04548      ELSE
#04549        IF IsAlive name = TRG_GO_GotTicket

#04551          IF QueryFlag GOT_TICKET name = TRG_GO_GotTicket

#04552          ELSE
#04553            SendFlag name = TRG_GO_GotTicket
                  GOT_TICKET
#04554            PlaySound goaldone
#04555            LaunchPanelMessage "Got the Tickets" properties = panel_message_goalcomplete

#04556            LaunchLocalMessage id = T01
                  "`" panel_message_PickUp
#04557            Kill name = Tickets

#04558          END IF
#04559        END IF
#04560      END IF
#04561    END IF
#04562  END FUNCTION

#04563  FUNCTION CPF_AP_Xray
#04565    DoFlash duration = 0.05
          start_r = 250
          start_g = 250
          start_b = 250
          start_a = 250
          end_r = 250
          end_g = 250
          end_b = 250
          end_a = 0

#04566    PlaySound hud_jumpgap
#04567    Wait 3 frames
#04568    DoFlash duration = 0.05
          start_r = 250
          start_g = 250
          start_b = 250
          start_a = 250
          end_r = 250
          end_g = 250
          end_b = 250
          end_a = 0

#04569    PlaySound hud_jumpgap
#04570    Wait 3 frames
#04571    DoFlash duration = 0.05
          start_r = 250
          start_g = 250
          start_b = 250
          start_a = 250
          end_r = 250
          end_g = 250
          end_b = 250
          end_a = 0

#04572    PlaySound hud_jumpgap
#04573    Wait 3 frames
#04574    DoFlash duration = 0.05
          start_r = 250
          start_g = 250
          start_b = 250
          start_a = 250
          end_r = 250
          end_g = 250
          end_b = 250
          end_a = 0

#04575    PlaySound hud_jumpgap
#04576    Wait 3 frames
#04577    DoFlash duration = 0.05
          start_r = 250
          start_g = 250
          start_b = 250
          start_a = 250
          end_r = 250
          end_g = 250
          end_b = 250
          end_a = 0

#04578    PlaySound hud_jumpgap
#04579    Wait 3 frames
#04580    DoFlash duration = 1.05
          start_r = 250
          start_g = 250
          start_b = 250
          start_a = 150
          end_r = 250
          end_g = 250
          end_b = 250
          end_a = 0

#04581    PlaySound hud_jumpgap
#04582    StartGap GapID = XRAYGap

#04583    Wait 1 frame
#04584    EndGap GapID = XRAYGap
          text = "X-RAY"
          score = 100

#04585  END FUNCTION

#04586  GOT_TICKET = 0

#04590  FUNCTION CPF_Walkway1
#04594    StartGap GapID = AP_Walkway1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04595    EndGap GapID = AP_Walkway2to1
          gapscript = CPF_WalkwayGap

#04596  END FUNCTION

#04597  FUNCTION CPF_Walkway2
#04598    StartGap GapID = AP_Walkway2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04599    EndGap GapID = AP_Walkway1to2
          gapscript = CPF_WalkwayGap

#04600  END FUNCTION

#04601  FUNCTION CPF_WalkwayGap
#04602    StartGap GapID = CF_Walkway

#04603    Wait 1 frame
#04604    EndGap GapID = CF_Walkway
          text = "Walkway Hop"
          score = 50

#04605  END FUNCTION

#04606  FUNCTION CPF_Couches1
#04608    StartGap GapID = AP_Couches1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04609    EndGap GapID = AP_Couches2to1
          gapscript = CPF_CouchesGap

#04610  END FUNCTION

#04611  FUNCTION CPF_Couches2
#04612    StartGap GapID = AP_Couches2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04613    EndGap GapID = AP_Couches1to2
          gapscript = CPF_CouchesGap

#04614  END FUNCTION

#04615  FUNCTION CPF_CouchesGap
#04616    StartGap GapID = CF_Couches

#04617    Wait 1 frame
#04618    EndGap GapID = CF_Couches
          text = "Off the Couch"
          score = 100

#04619  END FUNCTION

#04620  FUNCTION CPF_Escalator1
#04622    StartGap GapID = AP_Escalator1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04623    EndGap GapID = AP_Escalator2to1
          gapscript = CPF_EscalatorGap

#04624  END FUNCTION

#04625  FUNCTION CPF_Escalator2
#04626    StartGap GapID = AP_Escalator2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04627    EndGap GapID = AP_Escalator1to2
          gapscript = CPF_EscalatorGap

#04628  END FUNCTION

#04629  FUNCTION CPF_EscalatorGap
#04630    StartGap GapID = CPF_Escalator

#04631    Wait 1 frame
#04632    EndGap GapID = CPF_Escalator
          text = "Escalator Hop"
          score = 50

#04633  END FUNCTION

#04634  FUNCTION CPF_HeloBaggage1
#04636    StartGap GapID = CPF_HeloBaggage1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04637    EndGap GapID = CPF_HeloBaggage2to1
          gapscript = CPF_HeloBaggageGap

#04638  END FUNCTION

#04640  FUNCTION CPF_HeloBaggage2
#04641    StartGap GapID = CPF_HeloBaggage2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04642    EndGap GapID = CPF_HeloBaggage1to2
          gapscript = CPF_HeloBaggageGap

#04643  END FUNCTION

#04645  FUNCTION CPF_HeloBaggageGap
#04646    StartGap GapID = CPF_HeloBaggage

#04647    Wait 1 frame
#04648    EndGap GapID = CPF_HeloBaggage
          text = "Heliport Baggage"
          score = 50

#04649  END FUNCTION

#04650  FUNCTION CPF_APRailHop1
#04652    StartGap GapID = APRailHop1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04653    EndGap GapID = APRailHop2to1
          gapscript = APRailHopGap

#04654  END FUNCTION

#04655  FUNCTION CPF_APRailHop2
#04656    StartGap GapID = APRailHop2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04657    EndGap GapID = APRailHop1to2
          gapscript = APRailHopGap

#04658  END FUNCTION

#04659  FUNCTION APRailHopGap
#04660    StartGap GapID = APRailHop

#04661    Wait 1 frame
#04662    EndGap GapID = APRailHop
          text = "Rail Hop"
          score = 50

#04663  END FUNCTION

#04664  FUNCTION CPF_LowHangLight1
#04665    StartGap GapID = LowHangLight1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04666    EndGap GapID = LowHangLight2to1
          gapscript = CPF_LowHangLightGap

#04667    StartGap GapID = LightPop1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04668    EndGap GapID = LightPop2to1
          gapscript = CPF_LightPopGap

#04669  END FUNCTION

#04670  FUNCTION CPF_LowHangLight2
#04671    StartGap GapID = LowHangLight2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04672    EndGap GapID = LowHangLight1to2
          gapscript = CPF_LowHangLightGap

#04673    StartGap GapID = LightPop1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04674    EndGap GapID = LightPop2to1
          gapscript = CPF_LightPopGap

#04675  END FUNCTION

#04676  FUNCTION CPF_LowHangLightGap
#04677    StartGap GapID = CPF_LowHangLight

#04678    Wait 1 frame
#04679    EndGap GapID = CPF_LowHangLight
          text = "Light Hop!"
          score = 100

#04680  END FUNCTION

#04681  FUNCTION CPF_LightPopGap
#04682    StartGap GapID = CPF_LightPop

#04683    Wait 1 frame
#04684    EndGap GapID = CPF_LightPop
          text = "Light Pop!"
          score = 100

#04685  END FUNCTION

#04686  FUNCTION CPF_AP_GateHop
#04688    StartGap GapID = AP_GateHop2

#04689    EndGap GapID = AP_GateHop2
          text = "Gate Hop!"
          score = 100

#04690  END FUNCTION

#04691  FUNCTION CPF_StartGateGap2
#04693    StartGap GapID = AP_GateGap2
          flags = ARRAY(

            Cancel_Ground
          )

#04694  END FUNCTION

#04695  FUNCTION CPF_AP_CheckHighRoadGap
#04697    EndGap GapID = AP_HighRoad
          text = "Takin' the High Road"
          score = 100

#04699  END FUNCTION

#04700  FUNCTION CPF_Escalatin1
#04702    StartGap GapID = AP_Escalatin1
          flags = ARRAY(

            Cancel_Ground
          )

#04703    EndGap GapID = AP_Escalatin2
          gapscript = CPF_AP_CheckEscalatinGap

#04704  END FUNCTION

#04705  FUNCTION CPF_Escalatin2
#04706    StartGap GapID = AP_Escalatin2
          flags = ARRAY(

            Cancel_Ground
          )

#04707    EndGap GapID = AP_Escalatin1
          gapscript = CPF_AP_CheckEscalatinGap

#04708  END FUNCTION

#04709  FUNCTION CPF_AP_CheckEscalatinGap
#04710    StartGap GapID = AP_Escalatin

#04711    Wait 1 frame
#04712    EndGap GapID = AP_Escalatin
          text = "Escalatin' the Situation!"
          score = 100
          gapscript = CPF_AP_Escalator

#04713  END FUNCTION

#04714  FUNCTION CPF_BaggageHop1
#04716    StartGap GapID = AP_CPF_BaggageHop1
          flags = ARRAY(

            Cancel_Ground
          )

#04717    EndGap GapID = AP_CPF_BaggageHop2
          gapscript = CPF_AP_CPF_BaggageHopGap

#04718  END FUNCTION

#04719  FUNCTION CPF_BaggageHop2
#04720    StartGap GapID = AP_CPF_BaggageHop2
          flags = ARRAY(

            Cancel_Ground
          )

#04721    EndGap GapID = AP_CPF_BaggageHop1
          gapscript = CPF_AP_CPF_BaggageHopGap

#04722  END FUNCTION

#04723  FUNCTION CPF_AP_CPF_BaggageHopGap
#04724    StartGap GapID = AP_CPF_BaggageHop

#04725    Wait 1 frame
#04726    EndGap GapID = AP_CPF_BaggageHop
          text = "Claim Hop!"
          score = 50

#04727  END FUNCTION

#04728  FUNCTION CPF_AP_Escalator
#04730    IF ProfileEquals trickstyle = vert

#04731      StartGapTrick tricktext = "{{rando_cpf_airport_trickspot_vert_trick}}"
            gapscript = CPF_AP_Escalator2

#04732    END IF
#04733  END FUNCTION

#04734  FUNCTION CPF_AP_Escalator2
#04735    IF GetGoal goal = GOAL_TRICKSPOT

#04737    ELSE
#04738      Got_TrickSpot
#04739    END IF
#04740  END FUNCTION

#04741  FUNCTION CPF_AP_MusicalChairsEast
#04743    StartGap GapID = AP_MC_EtoW
          flags = ARRAY(

            Cancel_Ground
          )

#04744    EndGap GapID = AP_MC_WtoE
          gapscript = CPF_MusicalChairsGap

#04745  END FUNCTION

#04746  FUNCTION CPF_AP_MusicalChairsWest
#04747    StartGap GapID = AP_MC_WtoE
          flags = ARRAY(

            Cancel_Ground
          )

#04748    EndGap GapID = AP_MC_EtoW
          gapscript = CPF_MusicalChairsGap

#04749  END FUNCTION

#04750  FUNCTION CPF_MusicalChairsGap
#04751    StartGap GapID = CPF_MusicalChairs

#04752    Wait 1 frame
#04753    EndGap GapID = CPF_MusicalChairs
          text = "Musical Chairs"
          score = 100

#04754  END FUNCTION

#04755  FUNCTION CPF_AP_DishGrind
#04757    Wait 1 frame
#04758    EndGap GapID = AP_GrindTheDish1

#04759    Wait 1 frame
#04760    EndGap GapID = AP_GrindTheDish2

#04761    Wait 1 frame
#04762    EndGap GapID = AP_GrindTheDish3

#04763    Wait 1 frame
#04764    EndGap GapID = AP_GrindTheDish4

#04765    Wait 1 frame
#04766  END FUNCTION

#04773  FUNCTION CPF_AP_BaggageGrind
#04775    IF ProfileEquals trickstyle = street

#04776      StartGapTrick tricktext = "{{rando_cpf_airport_trickspot_street_trick}}"
            gapscript = CPF_AP_BaggageGrind2

#04777    END IF
#04778    Wait 1 frame
#04779    EndGap GapID = AP_GrindBaggage1

#04780    Wait 1 frame
#04781    EndGap GapID = AP_GrindBaggage2

#04782    Wait 1 frame
#04783    EndGap GapID = AP_GrindBaggage3

#04784    Wait 1 frame
#04785    EndGap GapID = AP_GrindBaggage4

#04786    Wait 1 frame
#04787  END FUNCTION

#04789  FUNCTION CPF_AP_BaggageGrind2
#04791    IF GetGoal goal = GOAL_TRICKSPOT

#04793    ELSE
#04794      IF ProfileEquals trickstyle = street

#04795        Got_TrickSpot
#04796      END IF
#04797    END IF
#04798  END FUNCTION

#04799  FUNCTION CPF_GapSound
#04801  END FUNCTION

#04803  FUNCTION CPF_LA_ArcoGap
#04805    IF ProfileEquals trickstyle = street

#04806      StartGapTrick tricktext = "{{rando_cpf_la_trickspot_street_trick}}"
            gapscript = CPF_LA_Varial
            Kickflip_Arco
#04807    END IF
#04808  END FUNCTION

#04809  FUNCTION CPF_LA_Varial Kickflip_Arco
#04811    IF GetGoal goal = GOAL_TRICKSPOT

#04812    ELSE
#04813      Got_TrickSpot
#04814    END IF
#04815  END FUNCTION

#04816  FUNCTION CPF_LA_CheckQuake1Gap
#04818    EndGap NULL CPF_LA_Quake1 text = "Earthquake!!!"
          score = 100
          gapscript = CPF_LA_QuakeStart

#04820  END FUNCTION

#04821  FUNCTION CPF_LA_ArcoPoppin
#04823    StartGap GapID = ArcoPop

#04824    Wait 1 frame
#04825    EndGap GapID = ArcoPop
          text = "Tower Poppin'"
          score = 100
          gapscript = CPF_LA_ArcoVert

#04826  END FUNCTION

#04827  FUNCTION CPF_LA_ArcoVert
#04829    IF ProfileEquals trickstyle = vert

#04831      StartGapTrick tricktext = "{{rando_cpf_la_trickspot_vert_trick}}"
            gapscript = CPF_LA_OneFootJapan_Arco

#04832    END IF
#04833  END FUNCTION

#04834  FUNCTION CPF_LA_OneFootJapan_Arco
#04836    IF GetGoal goal = GOAL_TRICKSPOT

#04837    ELSE
#04838      Got_TrickSpot
#04839    END IF
#04840  END FUNCTION

#04841  FUNCTION CPF_FroggerNorth
#04843    StartGap GapID = LA_Over_NtoS
          flags = ARRAY(

            Cancel_Ground
          )

#04844    EndGap GapID = LA_Over_StoN
          gapscript = CPF_FroggerGap

#04845  END FUNCTION

#04846  FUNCTION CPF_FroggerSouth
#04848    StartGap GapID = LA_Over_StoN
          flags = Cancel_Ground

#04849    EndGap GapID = LA_Over_NtoS
          gapscript = CPF_FroggerGap

#04850  END FUNCTION

#04851  FUNCTION CPF_FroggerGap
#04853    StartGap GapID = CF_Frogger

#04854    Wait 1 frame
#04855    EndGap GapID = CF_Frogger
          text = "To Get To The Other Side, Baby!"
          score = 200

#04856  END FUNCTION

#04857  FUNCTION CPF_TowerTest1
#04859    StartGap GapID = LA_TowerTestE_W
          flags = ARRAY(

            Cancel_Ground cancel_manual
          )

#04861    EndGap GapID = LA_TowerTestW_E
          gapscript = CPF_TowerTestGap

#04862  END FUNCTION

#04863  FUNCTION CPF_TowerTest2
#04864    StartGap GapID = LA_TowerTestW_E
          flags = ARRAY(

            Cancel_Ground cancel_manual
          )

#04866    EndGap GapID = LA_TowerTestE_W
          gapscript = CPF_TowerTestGap

#04867  END FUNCTION

#04868  FUNCTION CPF_TowerTestGap
#04869    StartGap GapID = CF_LA_Tower

#04871    Wait 1 frame
#04872    EndGap GapID = CF_LA_Tower
          text = "Tower Rails GAP"
          score = 200
          gapscript = CPF_LA_ArcoGap

#04873  END FUNCTION

#04874  FUNCTION CPF_TowerDoor1
#04876    StartGap GapID = CPF_TowerDoor1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04877    EndGap GapID = CPF_TowerDoor2to1
          gapscript = CPF_TowerDoor1Gap

#04878  END FUNCTION

#04879  FUNCTION CPF_TowerDoor2
#04880    StartGap GapID = CPF_TowerDoor2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04881    EndGap GapID = CPF_TowerDoor1to2
          gapscript = CPF_TowerDoor1Gap

#04882  END FUNCTION

#04883  FUNCTION CPF_TowerDoor1Gap
#04884    StartGap GapID = CPF_TowerDoor

#04885    Wait 1 frame
#04886    EndGap GapID = CPF_TowerDoor
          text = "Doorway Hop"
          score = 50

#04887  END FUNCTION

#04888  FUNCTION CPF_Fountain1
#04890    StartGap GapID = CPF_Fountain1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04891    EndGap GapID = CPF_Fountain2to1
          gapscript = CPF_FountainHopGap

#04892  END FUNCTION

#04893  FUNCTION CPF_Fountain2
#04894    StartGap GapID = CPF_Fountain2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04895    EndGap GapID = CPF_Fountain1to2
          gapscript = CPF_FountainHopGap

#04896  END FUNCTION

#04897  FUNCTION CPF_FountainHopGap
#04898    StartGap GapID = CPF_FountainHop

#04899    Wait 1 frame
#04900    EndGap GapID = CPF_FountainHop
          text = "Fountain Hop"
          score = 100

#04901  END FUNCTION

#04902  FUNCTION CPF_PershingRamp1
#04904    StartGap GapID = CPF_PershingRamp1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04905    EndGap GapID = CPF_PershingRamp2to1
          gapscript = CPF_PershingRampGap

#04906  END FUNCTION

#04907  FUNCTION CPF_PershingRamp2
#04908    StartGap GapID = CPF_PershingRamp2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04909    EndGap GapID = CPF_PershingRamp1to2
          gapscript = CPF_PershingRampGap

#04910  END FUNCTION

#04911  FUNCTION CPF_PershingRampGap
#04912    StartGap GapID = CPF_PershingRamp

#04913    Wait 1 frame
#04914    EndGap GapID = CPF_PershingRamp
          text = "Pershing Ramp"
          score = 100

#04915  END FUNCTION

#04916  FUNCTION CPF_OverpassRumble1
#04918    StartGap GapID = CPF_OverpassRumble1to2
          flags = ARRAY(

            Cancel_Ground
          )

#04919    EndGap GapID = CPF_OverpassRumble2to1
          gapscript = CPF_OverpassRumbleGap

#04920  END FUNCTION

#04921  FUNCTION CPF_OverpassRumble2
#04922    StartGap GapID = CPF_OverpassRumble2to1
          flags = ARRAY(

            Cancel_Ground
          )

#04923    EndGap GapID = CPF_OverpassRumble1to2
          gapscript = CPF_OverpassRumbleGap

#04924  END FUNCTION

#04925  FUNCTION CPF_OverpassRumbleGap
#04926    StartGap GapID = CPF_OverpassRumble

#04927    Wait 1 frame
#04928    EndGap GapID = CPF_OverpassRumble
          text = "Overpass Aftershock"
          score = 100
          gapscript = CPF_QuakeIncrease

#04929  END FUNCTION

#04930  FUNCTION CPF_TowerRailSwapNorth
#04932    StartGap GapID = LA_TowerNtoS
          flags = ARRAY(

            Cancel_Ground
          )

#04933    EndGap GapID = LA_TowerStoN
          gapscript = CPF_TowerRailSwapGap

#04934  END FUNCTION

#04935  FUNCTION CPF_TowerRailSwapSouth
#04936    StartGap GapID = LA_TowerStoN
          flags = Cancel_Ground

#04937    EndGap GapID = LA_TowerNtoS
          gapscript = CPF_TowerRailSwapGap

#04938  END FUNCTION

#04939  FUNCTION CPF_TowerRailSwapGap
#04940    StartGap GapID = CPF_TowerRailSwap

#04941    Wait 1 frame
#04942    EndGap GapID = CPF_TowerRailSwap
          text = "Tower Rail Swap!"
          score = 100

#04943  END FUNCTION

#04944  FUNCTION CPF_CloseOneEast
#04946    StartGap GapID = LA_CloseOneEtoW
          flags = ARRAY(

            Cancel_Ground
          )

#04947    EndGap GapID = LA_CloseOneWtoE
          gapscript = CPF_CloseOneGap

#04948  END FUNCTION

#04949  FUNCTION CPF_CloseOneWest
#04950    StartGap GapID = LA_CloseOneWtoE
          flags = Cancel_Ground

#04951    EndGap GapID = LA_CloseOneEtoW
          gapscript = CPF_CloseOneGap

#04952  END FUNCTION

#04953  FUNCTION CPF_CloseOneGap
#04954    StartGap GapID = CPF_CloseOne

#04955    Wait 1 frame
#04956    EndGap GapID = CPF_CloseOne
          text = "Nice Move!"
          score = 300

#04957  END FUNCTION

#04958  FUNCTION CPF_RailEast
#04960    StartGap GapID = LA_Over_EtoW
          flags = ARRAY(

            Cancel_Ground
          )

#04961    EndGap GapID = LA_Over_WtoE
          gapscript = CPF_RailEastWest

#04962  END FUNCTION

#04963  FUNCTION CPF_RailWest
#04964    StartGap GapID = LA_Over_WtoE
          flags = Cancel_Ground

#04965    EndGap GapID = LA_Over_EtoW
          gapscript = CPF_RailEastWest

#04966  END FUNCTION

#04967  FUNCTION CPF_RailEastWest
#04968    StartGap GapID = CPF_RailEastWest

#04969    Wait 1 frame
#04970    EndGap GapID = CPF_RailEastWest
          text = "Rail Skip!"
          score = 200

#04971  END FUNCTION

#04972  FUNCTION CPF_CarwashNorth
#04975    StartGap GapID = LA_Carwash_NtoS
          flags = ARRAY(

            Cancel_Ground cancel_manual
          )

#04976    EndGap GapID = LA_Carwash_StoN
          gapscript = CPF_CarwashGap

#04977  END FUNCTION

#04978  FUNCTION CPF_CarwashSouth
#04979    StartGap GapID = LA_Carwash_StoN
          flags = ARRAY(

            Cancel_Ground cancel_manual
          )

#04980    EndGap GapID = LA_Carwash_NtoS
          gapscript = CPF_CarwashGap

#04981  END FUNCTION

#04982  FUNCTION CPF_CarwashGap
#04983    StartGap GapID = CF_Carwash

#04984    Wait 1 frame
#04985    EndGap GapID = CF_Carwash
          text = "Sqeaky Clean!"
          score = 100

#04986  END FUNCTION

#04987  FUNCTION CPF_LA_ArcoLockin
#04989    StartGap GapID = ArcoLock

#04990    Wait 1 frame
#04991    EndGap GapID = ArcoLock
          text = "Tower Lockin'"
          score = 100

#04992  END FUNCTION

#04993  FUNCTION CPF_LA_ArcoCHUD
#04995    StartGap GapID = ArcoCHUD

#04996    Wait 1 frame
#04997    EndGap GapID = ArcoCHUD
          text = "Venting Frustration"
          score = 200

#04998  END FUNCTION

#04999  FUNCTION CPF_GapKiosk
#05001    StartGap GapID = CF_Kiosk

#05002    Wait 1 frame
#05003    EndGap GapID = CF_Kiosk
          text = "KIOSK!"
          score = 100

#05004  END FUNCTION

#05005  FUNCTION CPF_GapPedProps
#05007    StartGap GapID = CF_PedProps

#05008    Wait 1 frame
#05009    EndGap GapID = CF_PedProps
          text = "Ped Props!"
          score = 100
          gapscript = CPF_GapSound

#05010  END FUNCTION

#05011
